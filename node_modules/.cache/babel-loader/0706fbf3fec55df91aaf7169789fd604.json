{"remainingRequest":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/babel-loader/lib/index.js!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/views/user-management/UserManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/views/user-management/UserManagement.vue","mtime":1661968702448},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/babel.config.js","mtime":1661968702388},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IENyZWF0ZVVzZXIgZnJvbSAiLi9DcmVhdGVVc2VyLnZ1ZSI7CmltcG9ydCBVc2VyR3JvdXAgZnJvbSAiLi9Vc2VyR3JvdXAudnVlIjsKaW1wb3J0IHsgQXNzZXRQZXJzb25uZWxTZXJ2aWNlIH0gZnJvbSAiLi4vLi4vc2VydmljZXMvQXNzZXRQZXJzb25uZWxTZXJ2aWNlIjsKaW1wb3J0IEVuZHBvaW50cyBmcm9tICIuLi8uLi9zZXJ2aWNlcy9FbmRQb2ludHMiOwppbXBvcnQgQXV0aFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZXMvQXV0aFNlcnZpY2UiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCBQYXNzd29yZENoYW5nZVBvcFVwIGZyb20gIi4vcGFzc3dvcmRDaGFuZ2VQb3BVcC52dWUiOwppbXBvcnQgbG9hZGVyIGZyb20gIkAvY29tcG9uZW50cy9Mb2FkZXIudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVc2VyTWFuYWdlbWVudCIsCiAgY29tcG9uZW50czogewogICAgQ3JlYXRlVXNlciwKICAgIFVzZXJHcm91cCwKICAgIFBhc3N3b3JkQ2hhbmdlUG9wVXAsCiAgICBsb2FkZXIKICB9LAogIHByb3BzOiB7Ly8JdXNlckRldGFpbHM6e30KICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdG9hc3RGbGFnOiAwLAogICAgICB0b2FzdE1lc3NhZ2U6ICIiLAogICAgICB0b2FzdFR5cGU6ICIiLAogICAgICBzZHREYXRhOiAiIiwKICAgICAgdXNlckRldGFpbHM6ICIiLAogICAgICB1c2VyS2V5OiAwLAogICAgICBpc0FjdGl2ZTogZmFsc2UsCiAgICAgIGxvYWRlckZsYWc6IGZhbHNlLAogICAgICBzdGF0ZURpc2JhbGU6IGZhbHNlLAogICAgICAvLyAtLS0tLS0tLS0tLS0tIFVzZXIgTWFuYWdlbWVudCBTRFQgRGF0YSBTVEFSVCAtLS0tLS0tLS0tLS0tLS0tCiAgICAgIHNkdF90b2tlbjogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVudFVzZXJEZXRhaWxzIikpLmFjY2Vzc190b2tlbiwKICAgICAgdXNlcjogIiIsCiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgaXNMb2FkaW5nUGFnZTogZmFsc2UsCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIHByb21wdDogZmFsc2UsCiAgICAgIHVzZXJQYXNzd29yZERpYWxvZzogZmFsc2UsCiAgICAgIHByb21wdFZpZXdOYW1lOiAiIiwKICAgICAgc2VydmVyRGF0YTogIiIsCiAgICAgIGZpbHRlckZpZWxkTGlzdDogW10sCiAgICAgIGV2ZW50RGF0YTogIiIsCiAgICAgIHBhcmVudFN5c3RlbVNldHRpbmdzOiB7CiAgICAgICAgc2VydmljZVVSTDogRW5kcG9pbnRzLnByZWZlcmVuY2VTZXJ2aWNlLnByZWZlcmVuY2UsCiAgICAgICAgLy8gICBzZXJ2aWNlVVJMOiAiaHR0cDovL2xvY2FsaG9zdDo4MDk5L3ByZWZlcmVuY2VzIiwKICAgICAgICBidXR0b25zOiBbXSwKICAgICAgICBzZWFyY2hWYWx1ZTogIiIsCiAgICAgICAgaGVpZ2h0OiAiOTUwcHgiLAogICAgICAgIHNlbGVjdGlvbkNvbHVtbjogZmFsc2UsCiAgICAgICAgc2VsZWN0VHlwZTogIiIsCiAgICAgICAgbW9yZU9wdGlvbnM6IFtdLAogICAgICAgIGFjdGlvbnNPcHRpb25zOiBbIlZpZXciLCAiRWRpdCIsICJDaGFuZ2UgUGFzc3dvcmQiXSwKICAgICAgICBjb2x1bW5JY29uczogW10sCiAgICAgICAgcGlsbENvbmZpZzogW3sKICAgICAgICAgIGNvbHVtbjogIiIsCiAgICAgICAgICBzdGF0ZTogInN1Y2Nlc3MiLAogICAgICAgICAgZGF0YTogIiIKICAgICAgICB9LCB7CiAgICAgICAgICBjb2x1bW46ICIiLAogICAgICAgICAgc3RhdGU6ICJlcnJvciIsCiAgICAgICAgICBkYXRhOiAiIgogICAgICAgIH0sIHsKICAgICAgICAgIGNvbHVtbjogIiIsCiAgICAgICAgICBzdGF0ZTogIm5vcm1hbCIsCiAgICAgICAgICBkYXRhOiAiIgogICAgICAgIH1dLAogICAgICAgIHN0YXRpY0NvbHVtbnM6IFtdLAogICAgICAgIHVzZXI6ICIiLAogICAgICAgIHVwcGVyY2FzZUNvbHVtbnM6IFtdLAogICAgICAgIC8vIHBhc3MgY29sdW1uIG5hbWUgd2hvc2UgZGF0YSBzaG91bGQgYmUgc2hvd24gaW4gY2FwcwogICAgICAgIGRhdGVGb3JtYXQ6ICJERC9NTS9ZWVlZIGhoOm1tIGEiIC8vcGFzcyBhbnkgbW9tZW50IGRhdGUgZm9ybWF0IGhlcmUKCiAgICAgIH0sCiAgICAgIHBhcmVudERlZmF1bHRTeXN0ZW1WaWV3OiB7CiAgICAgICAgdmlld05hbWVzOiBbewogICAgICAgICAgbmFtZTogIkRlZmF1bHQgVmlldyIsCiAgICAgICAgICB0aWxlRmxhZzogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAxLAogICAgICAgICAgcHJpdmFjeTogInByaXZhdGUiCiAgICAgICAgfSwgewogICAgICAgICAgbmFtZTogIkFkZCBBIFZpZXcgVGlsZSIsCiAgICAgICAgICB0aWxlRmxhZzogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAwLAogICAgICAgICAgcHJpdmFjeTogInByaXZhdGUiCiAgICAgICAgfV0sCiAgICAgICAgZGVmYXVsdFRhYmxlOiB7CiAgICAgICAgICBpZDogbnVsbCwKICAgICAgICAgIHZpZXdOYW1lOiAiRGVmYXVsdCBWaWV3IiwKICAgICAgICAgIGRlbnNpdHk6ICIiLAogICAgICAgICAgcGFnZVNpemU6ICIiLAogICAgICAgICAgcGFnZU5hbWU6ICIiLAogICAgICAgICAgdXNlcjogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVudFVzZXJEZXRhaWxzIikpLnByb2ZpbGUudXNlcm5hbWUsCiAgICAgICAgICBkZWZhdWx0Vmlld0ZsYWc6IHRydWUsCiAgICAgICAgICBzb3J0RmllbGQ6ICIiLAogICAgICAgICAgc29ydERpcmVjdGlvbjogIiIsCiAgICAgICAgICB0aWxlRmxhZzogdHJ1ZSwKICAgICAgICAgIGNvbHVtbnM6IFtdLAogICAgICAgICAgcG9zaXRpb246IDEsCiAgICAgICAgICAvLyBhbHdheXMgcGFzcyAxCiAgICAgICAgICBwcml2YWN5OiAicHJpdmF0ZSIKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHBhcmVudERhdGE6IFtdLAogICAgICBmaWx0ZXJDb3VudDogIiIsCiAgICAgIGZpZWxkTmFtZXM6IFtdLAogICAgICB0YWJsZUNvbmZpZzogbnVsbCwKICAgICAgLy8gLS0tLS0tLS0tLS0tLSBVc2VyIE1hbmFnZW1lbnQgU0RUIERhdGEgRU5EIC0tLS0tLS0tLS0tLS0tLS0KICAgICAgdmlld1VzZXJEaWFsb2c6IGZhbHNlLAogICAgICByb2xlT3B0aW9uczogW10sCiAgICAgIHVzZXJJZDogbnVsbCwKICAgICAgdXNlck1hbmFnZW1lbnRPcHRpb25zOiB7CiAgICAgICAgdmFsdWU6IHRydWUsCiAgICAgICAgb3B0aW9uczogW3sKICAgICAgICAgIGxhYmVsOiAiVXNlcnMiLAogICAgICAgICAgdmFsdWU6ICJ1c2VyLW1hbmFnZW1lbnQiCiAgICAgICAgfSwgewogICAgICAgICAgbGFiZWw6ICJVc2VyIEdyb3VwcyIsCiAgICAgICAgICB2YWx1ZTogInVzZXItZ3JvdXAiCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgbWFuYWdlbWVudFR5cGU6ICJ1c2VyLW1hbmFnZW1lbnQiLAogICAgICBtYW5hZ2VPcHRpb246ICJ1c2VyLW1hbmFnZW1lbnQiLAogICAgICB1c2VyTmFtZU9wdGlvbnM6IFtdLAogICAgICBvcmdDb25maWdzUmVzcG9uc2U6IG51bGwKICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgY2xvc2VVc2VyRGlhbG9nKCkgewogICAgICB0aGlzLnZpZXdVc2VyRGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMudXNlcklkID0gbnVsbDsKICAgICAgdGhpcy5zdGF0ZURpc2JhbGUgPSBmYWxzZTsKICAgICAgdGhpcy51c2VyUGFzc3dvcmREaWFsb2cgPSBmYWxzZTsKICAgIH0sCgogICAgdmlld1VzZXIoKSB7CiAgICAgIHRoaXMudmlld1VzZXJEaWFsb2cgPSB0cnVlOwogICAgICB0aGlzLmZvcm1UaXRsZSA9ICJDcmVhdGUgVXNlciI7CiAgICB9LAoKICAgIGNsb3NlVXNlckdyb3VwRGlhbG9nKCkgewogICAgICB0aGlzLnZpZXdVc2VyR3JvdXBEaWFsb2cgPSBmYWxzZTsKICAgIH0sCgogICAgc2VsZWN0TWFuYWdlbWVudFR5cGUob2JqKSB7CiAgICAgIHRoaXMubWFuYWdlT3B0aW9uID0gb2JqLnZhbHVlOwogICAgfSwKCiAgICBvcGVuVXNlckRpYWxvZygpIHsKICAgICAgdGhpcy52aWV3VXNlcigpOwogICAgfSwKCiAgICByZXNwb25zZU1lc3NhZ2UodmFsdWUpIHsKICAgICAgdGhpcy5zaG93VG9hc3QodmFsdWUsICJzdWNjZXNzIik7CiAgICAgIHRoaXMubG9hZFRhYmxlKHRoaXMuc2R0RGF0YSk7CiAgICB9LAoKICAgIC8vICAtLS0tLS0tLS0tLS0gVXNlciBNYW5hZ2VtZW50IFNEVCBzdGFydHMgaGVyZSAtLS0tLS0tLS0tLS0tCiAgICBjYXRjaERlcGFydHVyZTogZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgdGhpcy5zZHREYXRhID0gZGF0YTsKCiAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAxIHx8IGRhdGEuc3RhdHVzID09IDMpIHsKICAgICAgICB0aGlzLmxvYWRUYWJsZShkYXRhKTsKICAgICAgfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSA0KSB7CiAgICAgICAgdGhpcy5sb2FkVGFibGUoZGF0YSk7CiAgICAgIH0gZWxzZSBpZiAoZGF0YS5zdGF0dXMgPT0gMTApIHt9CiAgICB9LAoKICAgIHNldFRhYmxlQ29uZmlncygpIHsKICAgICAgdGhpcy5wYXJlbnREZWZhdWx0U3lzdGVtVmlldy5kZWZhdWx0VGFibGUuZGVuc2l0eSA9IHRoaXMudGFibGVDb25maWcuZGVuc2l0eTsKICAgICAgdGhpcy5wYXJlbnREZWZhdWx0U3lzdGVtVmlldy5kZWZhdWx0VGFibGUucGFnZVNpemUgPSB0aGlzLnRhYmxlQ29uZmlnLnBhZ2VTaXplOwogICAgICB0aGlzLnBhcmVudERlZmF1bHRTeXN0ZW1WaWV3LmRlZmF1bHRUYWJsZS5wYWdlTmFtZSA9IHRoaXMudGFibGVDb25maWcucGFnZU5hbWU7CiAgICAgIHRoaXMucGFyZW50RGVmYXVsdFN5c3RlbVZpZXcuZGVmYXVsdFRhYmxlLnNvcnRGaWVsZCA9IHRoaXMudGFibGVDb25maWcuc29ydEZpZWxkOwogICAgICB0aGlzLnBhcmVudERlZmF1bHRTeXN0ZW1WaWV3LmRlZmF1bHRUYWJsZS5zb3J0RGlyZWN0aW9uID0gdGhpcy50YWJsZUNvbmZpZy5zb3J0RGlyZWN0aW9uOwogICAgICB0aGlzLnBhcmVudERlZmF1bHRTeXN0ZW1WaWV3LmRlZmF1bHRUYWJsZS5jb2x1bW5zID0gdGhpcy50YWJsZUNvbmZpZy5jb2x1bW5zOwogICAgfSwKCiAgICBzZXRTdGF0aWNDb2x1bW4oKSB7CiAgICAgIGxldCBzdGF0aWNDb2wgPSB0aGlzLnRhYmxlQ29uZmlnLmNvbHVtbnMuZmlsdGVyKGNvbCA9PiBjb2wubGFiZWxOYW1lID09ICJGaXJzdCBOYW1lIilbMF07CiAgICAgIHRoaXMucGFyZW50U3lzdGVtU2V0dGluZ3Muc3RhdGljQ29sdW1ucy5wdXNoKHN0YXRpY0NvbCk7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudGFibGVDb25maWcuY29sdW1ucy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLnRhYmxlQ29uZmlnLmNvbHVtbnNbaV0ubGFiZWxOYW1lID09IHN0YXRpY0NvbC5sYWJlbE5hbWUpIHsKICAgICAgICAgIHRoaXMudGFibGVDb25maWcuY29sdW1ucy5zcGxpY2UoaSwgMSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBzdGF0aWNDb2wgPSB0aGlzLnRhYmxlQ29uZmlnLmNvbHVtbnMuZmlsdGVyKGNvbCA9PiBjb2wubGFiZWxOYW1lID09ICJMYXN0IE5hbWUiKVswXTsKICAgICAgdGhpcy5wYXJlbnRTeXN0ZW1TZXR0aW5ncy5zdGF0aWNDb2x1bW5zLnB1c2goc3RhdGljQ29sKTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50YWJsZUNvbmZpZy5jb2x1bW5zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMudGFibGVDb25maWcuY29sdW1uc1tpXS5sYWJlbE5hbWUgPT0gc3RhdGljQ29sLmxhYmVsTmFtZSkgewogICAgICAgICAgdGhpcy50YWJsZUNvbmZpZy5jb2x1bW5zLnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgZXh0cmFjdEZpZWxkTmFtZXNGb3JTZWFyY2hRdWVyeShjb25maWcpIHsKICAgICAgY29uZmlnLmNvbHVtbnMubWFwKGVsZW1lbnQgPT4gewogICAgICAgIHRoaXMuZmllbGROYW1lcy5wdXNoKGVsZW1lbnQuZmllbGROYW1lKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGxvYWRUYWJsZShzZHREYXRhKSB7CiAgICAgIGxldCBmaWx0ZXJzID0gW107CiAgICAgIHRoaXMubG9hZGVyRmxhZyA9IHRydWU7CgogICAgICBmb3IgKGxldCBzZHRfZGF0YSBvZiBzZHREYXRhLm1lc3NhZ2UpIHsKICAgICAgICBpZiAoc2R0X2RhdGEuZmllbGROYW1lICE9PSAiYWN0aW9ucyIpIHsKICAgICAgICAgIGxldCBuZXdEYXRlID0gIiI7CgogICAgICAgICAgaWYgKHNkdF9kYXRhLmZpZWxkVHlwZSA9PT0gImRhdGUiICYmIHNkdF9kYXRhLmZpbHRlclZhbHVlICE9PSAiIikgewogICAgICAgICAgICBsZXQgZGF0ZSA9IHNkdF9kYXRhLmZpbHRlclZhbHVlLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgIGRhdGUgPSBkYXRlLnNwbGl0KCIvIik7CiAgICAgICAgICAgIG5ld0RhdGUgPSBuZXcgRGF0ZShgJHtkYXRlWzFdfS8ke2RhdGVbMF19LyR7ZGF0ZVsyXX1gKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc2R0X2RhdGEuZmlsdGVyVmFsdWUgPT09IG51bGwpIHsKICAgICAgICAgICAgc2R0X2RhdGEuZmlsdGVyVmFsdWUgPSAiIjsKICAgICAgICAgIH0KCiAgICAgICAgICBmaWx0ZXJzLnB1c2goewogICAgICAgICAgICBmaWVsZE5hbWU6IHNkdF9kYXRhLmZpZWxkTmFtZSwKICAgICAgICAgICAgZmllbGRUeXBlOiBzZHRfZGF0YS5maWVsZFR5cGUsCiAgICAgICAgICAgIGZpbHRlclZhbHVlOiBuZXdEYXRlID09PSBudWxsIHx8IG5ld0RhdGUgPT09ICIiID8gc2R0X2RhdGEuZmlsdGVyVmFsdWUgOiBuZXdEYXRlLmdldFRpbWUoKSwKICAgICAgICAgICAgc2Vjb25kVmFsdWU6IHNkdF9kYXRhLnNlY29uZFZhbHVlLAogICAgICAgICAgICBjb21wYXJpc29uVHlwZTogc2R0X2RhdGEuY29tcGFyaXNvblR5cGUKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5nZXRQYWdpbmF0ZWRVc2VyTWFuYWdlbWVudChmaWx0ZXJzLCBzZHREYXRhLmRhdGEuc29ydEZpZWxkLCBzZHREYXRhLmRhdGEuc29ydERpcmVjdGlvbiwgc2R0RGF0YS5kYXRhLm9mZnNldCwgc2R0RGF0YS5kYXRhLmxpbWl0LCBzZHREYXRhLmRhdGEuc2VhcmNoUXVlcnkpOwogICAgfSwKCiAgICBnZXRQYWdpbmF0ZWRVc2VyTWFuYWdlbWVudChmaWx0ZXJzLCBzb3J0RmllbGQsIHNvcnREaXJlY3Rpb24sIG9mZnNldCwgbGltaXQsIHNlYXJjaFF1ZXJ5KSB7CiAgICAgIGxldCBjdXJyZW50VXNlckRldGFpbHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjdXJyZW50VXNlckRldGFpbHMiKSk7CiAgICAgIGxldCByZXF1ZXN0T2JqID0gewogICAgICAgIHNlYXJjaFF1ZXJ5OiBzZWFyY2hRdWVyeSwKICAgICAgICAvLyBzZWFyY2hDb2x1bW5zOiBzZWFyY2hDb2x1bW5zLAogICAgICAgIGZpbHRlcnM6IGZpbHRlcnMsCiAgICAgICAgc29ydEZpZWxkOiBzb3J0RmllbGQsCiAgICAgICAgc29ydERpcmVjdGlvbjogc29ydERpcmVjdGlvbiwKICAgICAgICBvZmZzZXQ6IG9mZnNldCwKICAgICAgICBsaW1pdDogbGltaXQsCiAgICAgICAgdGVuYW50VVVJRDogY3VycmVudFVzZXJEZXRhaWxzLnByb2ZpbGUub3JnYW5pemF0aW9uSWQsCiAgICAgICAgZmllbGROYW1lczogdGhpcy5maWVsZE5hbWVzCiAgICAgIH07CiAgICAgIEFzc2V0UGVyc29ubmVsU2VydmljZS5nZXRQYWdpbmF0ZWRVc2Vyc0ZvclNEVChyZXF1ZXN0T2JqKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgbGV0IHVzZXJzID0gcmVzcG9uc2UuZGF0YS5zZHREYXRhLmNvbnRlbnQ7CgogICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHVzZXJzLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgICBpZiAodXNlcnNbaW5kZXhdLmNyZWF0ZWRBdCkgewogICAgICAgICAgICAgIHVzZXJzW2luZGV4XS5jcmVhdGVkQXQgPSBtb21lbnQudXRjKHVzZXJzW2luZGV4XS5jcmVhdGVkQXQpLmxvY2FsKCkuZm9ybWF0KCdERC9NTS9ZWVlZIGhoOm1tIGEnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJlc3BvbnNlLmRhdGEuc2R0RGF0YS5vZmZzZXQgPSBvZmZzZXQgKyAxOwogICAgICAgICAgdGhpcy5sb2FkU0RUMihyZXNwb25zZSwgdXNlcnMpOwogICAgICAgICAgdGhpcy5sb2FkZXJGbGFnID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy5zaG93VG9hc3QoIk9vcHMgaXQgbG9va3MgbGlrZSBvdXIgc2VydmVyIGlzIG9mZmxpbmUiLCAiZXJyb3IiKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKCiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlICE9PSB1bmRlZmluZWQgJiYgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDYpIHsKICAgICAgICAgIHRoaXMuc2hvd1RvYXN0KGVycm9yLnJlc3BvbnNlLmRhdGEuZGVzY3JpcHRpb24sICJlcnJvciIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIGxvYWRTRFQyKHJlc3BvbnNlLCBkYXRhKSB7CiAgICAgIHRoaXMucGFyZW50RGF0YSA9IGRhdGE7CiAgICAgIGxldCBldmVudERhdGEgPSB7CiAgICAgICAgZGF0YTogdGhpcy5wYXJlbnREYXRhLAogICAgICAgIHRvdGFsRWxlbWVudHM6IHJlc3BvbnNlLmRhdGEuc2R0RGF0YS50b3RhbEVsZW1lbnRzLAogICAgICAgIHRvdGFsUGFnZXM6IHJlc3BvbnNlLmRhdGEuc2R0RGF0YS50b3RhbFBhZ2VzLAogICAgICAgIHBhZ2VOdW1iZXI6IHJlc3BvbnNlLmRhdGEuc2R0RGF0YS5vZmZzZXQKICAgICAgfTsKICAgICAgdGhpcy4kcmVmcy50ZXN0LmRhdGFMb2FkRXZlbnQoZXZlbnREYXRhKTsKICAgIH0sCgogICAgZ2V0QWN0aW9uc09wdGlvbih2YWwpIHsKICAgICAgaWYgKHZhbC52YWx1ZSA9PSAiVmlldyIpIHsKICAgICAgICB0aGlzLnVzZXJJZCA9IHZhbC5yb3cudXVpZDsKICAgICAgICB0aGlzLmZvcm1UaXRsZSA9IHZhbC5yb3cuZmlyc3ROYW1lICsgIiAiICsgdmFsLnJvdy5sYXN0TmFtZTsKICAgICAgICB0aGlzLnN0YXRlRGlzYmFsZSA9IHRydWU7CiAgICAgICAgdGhpcy5nZXRVc2VyRGV0YWlsKCk7CiAgICAgIH0KCiAgICAgIGlmICh2YWwudmFsdWUgPT0gIkVkaXQiKSB7CiAgICAgICAgdGhpcy51c2VySWQgPSB2YWwucm93LnV1aWQ7CiAgICAgICAgdGhpcy5zdGF0ZURpc2JhbGUgPSBmYWxzZTsKICAgICAgICB0aGlzLmZvcm1UaXRsZSA9ICJFZGl0IFVzZXIiOwogICAgICAgIHRoaXMuZ2V0VXNlckRldGFpbCgpOwogICAgICB9CgogICAgICBpZiAodmFsLnZhbHVlID09ICJDaGFuZ2UgUGFzc3dvcmQiKSB7CiAgICAgICAgdGhpcy51c2VySWQgPSB2YWwucm93LnV1aWQ7CiAgICAgICAgdGhpcy51c2VyUGFzc3dvcmREaWFsb2cgPSB0cnVlOwogICAgICB9CiAgICB9LAoKICAgIGdldFVzZXJEZXRhaWwoKSB7CiAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlOwogICAgICB0aGlzLmxvYWRlckZsYWcgPSB0cnVlOwogICAgICBBc3NldFBlcnNvbm5lbFNlcnZpY2UuZ2V0VXNlcih0aGlzLnVzZXJJZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy51c2VyRGV0YWlscyA9IHJlc3BvbnNlLmRhdGEudXNlclJlc3BvbnNlOwogICAgICAgIHRoaXMudXNlcktleSsrOwogICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IGZhbHNlOwogICAgICAgIHRoaXMudmlld1VzZXJEaWFsb2cgPSB0cnVlOwogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGdldERvd25sb2FkQXNPcHRpb24ob3B0KSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdkb3dubG9hZCBhcyBvcHRpb24nLG9wdCk7CiAgICAgIGlmIChvcHQub3B0aW9uID09ICJwZGYiKSB7Ly8gbm90aWZpY2F0aW9uQW5kQ29tbXVuaWNhdGlvblNlcnZpY2UuZG93bmxvYWRTZWxlY3RlZFBERihvYmopCiAgICAgICAgLy8gLnRoZW4oKHJlcykgPT4gewogICAgICAgIC8vIC8vIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAvLyBsZXQgZmlsZUNvbnRlbnRzID0gbnVsbDsKICAgICAgICAvLyAgICAgbGV0IHBvcHVwV2luPW51bGw7CiAgICAgICAgLy8gICAgIHBvcHVwV2luID0gd2luZG93Lm9wZW4oJycsICdfYmxhbmsnLCAndG9wPTAsbGVmdD0wLGhlaWdodD03MDAsd2lkdGg9MTAwMDsnKTsKICAgICAgICAvLyAgICAgbGV0IGRvY3VtZW50ID0gewogICAgICAgIC8vICAgICAgICAgJ2RvY3VtZW50TmFtZSc6ICdCaWxsaW5nJwogICAgICAgIC8vICAgICB9OwogICAgICAgIC8vIGZpbGVDb250ZW50cyA9IHJlcy5kYXRhLnR5cGUgKyByZXMuZGF0YS5jb250ZW50OwogICAgICAgIC8vICAgcG9wdXBXaW4uZG9jdW1lbnQud3JpdGUoYAogICAgICAgIC8vICAgICA8aHRtbD4KICAgICAgICAvLyAgICAgICAgIDxoZWFkPgogICAgICAgIC8vICAgICAgICAgIDwhLS10aXRsZT5QcmludCB0YWI8L3RpdGxlLS0+CiAgICAgICAgLy8gICAgICAgICAgICAgPHN0eWxlPgogICAgICAgIC8vICAgICAgICAgICAgICAgICAjYnV0dG9uc3tkaXNwbGF5Om5vbmU7fQogICAgICAgIC8vICAgICAgICAgICAgICAgICAgYm9keSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogIk9wZW4gU2FucyIsIC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgRXVjbGlkIENpcmN1bGFyIEIsICJIZWx2ZXRpY2EgTmV1ZSIsIEFyaWFsLCBzYW5zLXNlcmlmLCAiQXBwbGUgQ29sb3IgRW1vamkiLCAiU2Vnb2UgVUkgRW1vamkiLCAiU2Vnb2UgVUkgU3ltYm9sIjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMS41OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICMyMTI1Mjk7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICBidXR0b24sIG1ldGVyLCBwcm9ncmVzcyB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAtd2Via2l0LXdyaXRpbmctbW9kZTogaG9yaXpvbnRhbC10YiAhaW1wb3J0YW50OwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0LCBidXR0b24gewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGV4dC1yZW5kZXJpbmc6IGF1dG87CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBjb2xvcjogaW5pdGlhbDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiBub3JtYWw7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB3b3JkLXNwYWNpbmc6IG5vcm1hbDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiBub25lOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGV4dC1pbmRlbnQ6IDBweDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRleHQtc2hhZG93OiBub25lOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogc3RhcnQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDBlbTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IDQwMCAxMy4zMzMzcHggQXJpYWw7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgaW5wdXRbdHlwZT0iYnV0dG9uIiBpXSwgaW5wdXRbdHlwZT0ic3VibWl0IiBpXSwgaW5wdXRbdHlwZT0icmVzZXQiIGldLCBpbnB1dFt0eXBlPSJmaWxlIiBpXTo6LXdlYmtpdC1maWxlLXVwbG9hZC1idXR0b24sIGJ1dHRvbiB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogZGVmYXVsdDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBidXR0b250ZXh0OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogYnV0dG9uZmFjZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAycHggNnB4IDNweDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJvcmRlci13aWR0aDogMnB4OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXN0eWxlOiBvdXRzZXQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6IGJ1dHRvbmZhY2U7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBib3JkZXItaW1hZ2U6IGluaXRpYWw7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgaW5wdXQsIGJ1dHRvbiwgc2VsZWN0LCBvcHRncm91cCwgdGV4dGFyZWEgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IGluaGVyaXQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogaW5oZXJpdDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICBidXR0b24sIHNlbGVjdCB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogbm9uZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICAuYnRuIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuMzc1cmVtIDAuNzVyZW07CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDFyZW07CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMS41OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMC4yNXJlbTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQsIGJvcmRlci1jb2xvciAwLjE1cyBlYXNlLWluLW91dCwgYm94LXNoYWRvdyAwLjE1cyBlYXNlLWluLW91dDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICAuYnRuLW91dGxpbmUtcHJpbWFyeSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzAwN2JmZjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogbm9uZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogIzAwN2JmZjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICAuYnRuLW91dGxpbmUtcHJpbWFyeSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogI2QwMzIzMjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNkMDMyMzI7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgPHN0eWxlPi5mYSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb250OiBub3JtYWwgbm9ybWFsIG5vcm1hbCAxNHB4LzEgRm9udEF3ZXNvbWU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IGluaGVyaXQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0ZXh0LXJlbmRlcmluZzogYXV0bzsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfTwvc3R5bGU+CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIDxzdHlsZT4qLCAqOjpiZWZvcmUsICo6OmFmdGVyIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgU3R5bGUgQXR0cmlidXRlIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICAuYnRuLCAuZm9ybS1jb250cm9sIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuMjVyZW0gMC41cmVtOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAwLjg3NXJlbTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwLjNyZW07CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDE1cHg7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDIzcHg7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH08L3N0eWxlPgogICAgICAgIC8vICAgICAgICAgICAgIDwvc3R5bGU+CiAgICAgICAgLy8gICAgICAgICA8L2hlYWQ+CiAgICAgICAgLy8gICAgICAgICA8Ym9keSBvbmxvYWQ9IiI+CiAgICAgICAgLy8gICAgICAgICAgICAgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjpyaWdodDsiID4KICAgICAgICAvLyAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJHtmaWxlQ29udGVudHN9IiBkb3dubG9hZD0iJHtkb2N1bWVudC5kb2N1bWVudE5hbWV9Ij48YnV0dG9uIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXByaW1hcnkiPkRvd25sb2FkPC9idXR0b24+PC9hPgogICAgICAgIC8vICAgICAgICAgICAgIDwvZGl2PgogICAgICAgIC8vICAgICAgICAgICAgIDxicj4KICAgICAgICAvLyAgICAgICAgICAgICA8aWZyYW1lIHNyYz0nJHtmaWxlQ29udGVudHN9JyAgc3R5bGU9Im1pbi13aWR0aDogMTAwJTtoZWlnaHQ6IDEwMCU7IiA+PC9pZnJhbWU+CiAgICAgICAgLy8gICAgICAgICA8L2JvZHk+CiAgICAgICAgLy8gICAgIDwvaHRtbD5gCiAgICAgICAgLy8gKTsKICAgICAgICAvLyB9KQogICAgICAgIC8vIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTsKICAgICAgfSBlbHNlIGlmIChvcHQub3B0aW9uID09ICJjc3YiKSB7Ly8gIGxldCBmaWxlVGl0bGUgPSAnQmlsbGluZ3MnOwogICAgICAgIC8vICBsZXQgaGVhZGVycyA9IHsKICAgICAgICAvLyAgICAgICBjcmVhdGVkRGF0ZTogJ1JlcXVlc3RlZCBPbicucmVwbGFjZSgvLC9nLCAnJyksIC8vIHJlbW92ZSBjb21tYXMgdG8gYXZvaWQgZXJyb3JzCiAgICAgICAgLy8gICAgICAgZHVlRGF0ZTogIkR1ZSBEYXRlIiwKICAgICAgICAvLyAgICAgICBzaGlwbWVudE51bWJlcjogIlNoaXBtZW50ICMiLAogICAgICAgIC8vICAgICAgICBwb3J0T2ZMb2FkaW5nOiAiUG9ydCBvZiBMb2FkIiwKICAgICAgICAvLyAgICAgICAgcG9ydE9mRGlzY2hhcmdlOiAiUG9ydCBPZiBEaXNjaGFyZ2UiLAogICAgICAgIC8vICAgICAgICBhbW91bnQ6ICJBbW91bnQiLAogICAgICAgIC8vICAgICAgICBiYWxhbmNlOiAiQmFsYW5jZSIsCiAgICAgICAgLy8gICAgICAgIG5ldHN1aXRlU3RhdHVzOiAiU3RhdHVzIgogICAgICAgIC8vICB9OwogICAgICAgIC8vICBsZXQgZGF0YU9iaiA9IFtdOwogICAgICAgIC8vICBmb3IgKGxldCBpID0gMDsgaSA8IG9wdC5yb3dzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgLy8gICAgICBjb25zdCBiaWxsID0gb3B0LnJvd3NbaV07CiAgICAgICAgLy8gICAgICBkYXRhT2JqLnB1c2goewogICAgICAgIC8vICAgICAgICAgIGNyZWF0ZWREYXRlOiBiaWxsLmNyZWF0ZWREYXRlLAogICAgICAgIC8vICAgICAgICAgIGR1ZURhdGU6IGJpbGwuZHVlRGF0ZSwKICAgICAgICAvLyAgICAgICAgICBzaGlwbWVudE51bWJlcjogYmlsbC5zaGlwbWVudE51bWJlciwKICAgICAgICAvLyAgICAgICAgICBwb3J0T2ZMb2FkaW5nOiBiaWxsLnBvcnRPZkxvYWRpbmcsCiAgICAgICAgLy8gICAgICAgICAgcG9ydE9mRGlzY2hhcmdlOiBiaWxsLnBvcnRPZkRpc2NoYXJnZSwKICAgICAgICAvLyAgICAgICAgICBhbW91bnQ6IGJpbGwuYW1vdW50LAogICAgICAgIC8vICAgICAgICAgIGJhbGFuY2U6IGJpbGwuYmFsYW5jZSwKICAgICAgICAvLyAgICAgICAgICBuZXRzdWl0ZVN0YXR1czogYmlsbC5uZXRzdWl0ZVN0YXR1cwogICAgICAgIC8vICAgICAgfSk7CiAgICAgICAgLy8gIH0KICAgICAgICAvLyAgdGhpcy5leHBvcnRDU1ZGaWxlKGhlYWRlcnMsIGRhdGFPYmosIGZpbGVUaXRsZSk7CiAgICAgIH0KICAgIH0sCgogICAgLyogLS0tLS0tLS0tLS0tIFVzZXIgTWFuYWdlbWVudCBTRFQgZW5kcyBoZXJlIC0tLS0tLS0tLS0tLS0gKi8KICAgIHNob3dUb2FzdChtZXNzYWdlLCB0eXBlKSB7CiAgICAgIHRoaXMudG9hc3RNZXNzYWdlID0gbWVzc2FnZTsKICAgICAgdGhpcy50b2FzdFR5cGUgPSB0eXBlOwogICAgICB0aGlzLnRvYXN0RmxhZysrOwogICAgfQoKICB9LAogIHdhdGNoOiB7CiAgICBtYW5hZ2VPcHRpb246IGZ1bmN0aW9uIChuZXdWYWwsIG9sZFZhbCkgewogICAgICBpZiAobmV3VmFsID09ICJ1c2VyLW1hbmFnZW1lbnQiKSB7CiAgICAgICAgbGV0IGFsbENvbmZpZ3MgPSBKU09OLnBhcnNlKHRoaXMub3JnQ29uZmlnc1Jlc3BvbnNlLmRhdGEudGFibGVDb25maWdzKTsKICAgICAgICBhbGxDb25maWdzID0gYWxsQ29uZmlncy5maWx0ZXIoZGF0YSA9PiBkYXRhLnBhZ2VOYW1lID09PSAiVXNlck1hbmFnZW1lbnQiKVswXTsKICAgICAgICB0aGlzLnRhYmxlQ29uZmlnID0gYWxsQ29uZmlnczsKICAgICAgfQogICAgfQogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICBkb2N1bWVudC50aXRsZSA9IHRoaXMuJHJvdXRlLm1ldGEudGl0bGU7CiAgICB0aGlzLmN1cnJlbnRVc2VyRGV0YWlscyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImN1cnJlbnRVc2VyRGV0YWlscyIpKTsgLy8gc2VuZGluZyBvbmx5IGZpcnN0IGFuZCBsYXN0IG5hbWUgZm9yIFNEVAoKICAgIGxldCBuYW1lID0gdGhpcy5jdXJyZW50VXNlckRldGFpbHMucHJvZmlsZS51c2VybmFtZTsKCiAgICBpZiAobmFtZS5pbmNsdWRlcygiQCIpKSB7CiAgICAgIG5hbWUgPSBuYW1lLnNwbGl0KCJAIik7CiAgICAgIG5hbWUgPSBuYW1lWzBdOwogICAgfQoKICAgIHRoaXMucGFyZW50U3lzdGVtU2V0dGluZ3MudXNlciA9IG5hbWU7CiAgICBBdXRoU2VydmljZS5nZXRBbGxSb2xlcyh0aGlzLmN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLm9yZ2FuaXphdGlvbklkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgdGhpcy5yb2xlT3B0aW9ucyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICAgIEFzc2V0UGVyc29ubmVsU2VydmljZS5nZXRBbGxVc2Vycyh0aGlzLmN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLm9yZ2FuaXphdGlvbklkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJlc3BvbnNlLmRhdGEudXNlcnMubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgbGV0IHVzZXIgPSB7CiAgICAgICAgICB1dWlkOiByZXNwb25zZS5kYXRhLnVzZXJzW2luZGV4XS51dWlkLAogICAgICAgICAgbmFtZTogcmVzcG9uc2UuZGF0YS51c2Vyc1tpbmRleF0uZW1haWwgKyAiICIgKyAiKCIgKyByZXNwb25zZS5kYXRhLnVzZXJzW2luZGV4XS5uYW1lICsgIikiLAogICAgICAgICAgdXNlck5hbWU6IHJlc3BvbnNlLmRhdGEudXNlcnNbaW5kZXhdLnVzZXJOYW1lLAogICAgICAgICAgZ2VuZGVyOiByZXNwb25zZS5kYXRhLnVzZXJzW2luZGV4XS5nZW5kZXIsCiAgICAgICAgICBmbmFtZTogcmVzcG9uc2UuZGF0YS51c2Vyc1tpbmRleF0ubmFtZSwKICAgICAgICAgIGVtYWlsOiByZXNwb25zZS5kYXRhLnVzZXJzW2luZGV4XS5lbWFpbCwKICAgICAgICAgIGNvbnRhY3Q6IHJlc3BvbnNlLmRhdGEudXNlcnNbaW5kZXhdLmNvbnRhY3ROdW1iZXIsCiAgICAgICAgICBjaXR5OiByZXNwb25zZS5kYXRhLnVzZXJzW2luZGV4XS5jaXR5LAogICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLAogICAgICAgICAgbWFuYWdlcjogZmFsc2UKICAgICAgICB9OwogICAgICAgIHRoaXMudXNlck5hbWVPcHRpb25zLnB1c2godXNlcik7CiAgICAgIH0KICAgIH0pOwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICBsZXQgY3VycmVudFVzZXJEZXRhaWxzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVudFVzZXJEZXRhaWxzIikpOwoKICAgIGlmIChjdXJyZW50VXNlckRldGFpbHMgPT09IG51bGwpIHsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImZvcmNlU2lnbm91dCIsICJ5ZXMiKTsKICAgICAgcmV0dXJuOwogICAgfSAvLyBzZW5kaW5nIG9ubHkgZmlyc3QgYW5kIGxhc3QgbmFtZSBmb3IgU0RUCgoKICAgIGxldCBuYW1lID0gdGhpcy5jdXJyZW50VXNlckRldGFpbHMucHJvZmlsZS51c2VybmFtZTsKCiAgICBpZiAobmFtZS5pbmNsdWRlcygiQCIpKSB7CiAgICAgIG5hbWUgPSBuYW1lLnNwbGl0KCJAIik7CiAgICAgIG5hbWUgPSBuYW1lWzBdOwogICAgfQoKICAgIHRoaXMucGFyZW50U3lzdGVtU2V0dGluZ3MudXNlciA9IG5hbWU7IC8vIGZldGNoaW5nIGNvbmZpZ3MKCiAgICBsZXQgdXVpZCA9IGN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLm9yZ2FuaXphdGlvbklkOwogICAgQXNzZXRQZXJzb25uZWxTZXJ2aWNlLmdldE9yZ0NvbmZpZ3ModXVpZCwgInRhYmxlQ29uZmlncyIpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICB0aGlzLm9yZ0NvbmZpZ3NSZXNwb25zZSA9IHJlc3BvbnNlOwogICAgICBsZXQgYWxsQ29uZmlncyA9IEpTT04ucGFyc2UocmVzcG9uc2UuZGF0YS50YWJsZUNvbmZpZ3MpOwogICAgICB0aGlzLnRhYmxlQ29uZmlnID0gYWxsQ29uZmlncy5maWx0ZXIoZGF0YSA9PiBkYXRhLnBhZ2VOYW1lID09PSAiVXNlck1hbmFnZW1lbnQiKVswXTsKICAgICAgdGhpcy5leHRyYWN0RmllbGROYW1lc0ZvclNlYXJjaFF1ZXJ5KHRoaXMudGFibGVDb25maWcpOwogICAgICB0aGlzLnNldFN0YXRpY0NvbHVtbigpOwogICAgICB0aGlzLnNldFRhYmxlQ29uZmlncygpOwogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICBjb25zb2xlLmxvZygiRXJyb3IgZmV0Y2hpbmcgY29uZmlncyIsIGVycm9yKTsKICAgIH0pOwogIH0sCgogIHZhbGlkYXRpb25zOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4ge307CiAgfSwKICBjb21wdXRlZDoge30KfTs="},null]}
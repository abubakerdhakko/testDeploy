{"remainingRequest":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/babel-loader/lib/index.js!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/views/assets/components/ExistingTemplates.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/views/assets/components/ExistingTemplates.vue","mtime":1661968702428},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/babel.config.js","mtime":1661968702388},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":1662622637759},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/babel-loader/lib/index.js","mtime":1662622637719},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":1662622637759},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js","mtime":1662622639723}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1leGNlcHRpb24uc3RhY2suanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5hdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC50eXBlZC1hcnJheS5maW5kLWxhc3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQudHlwZWQtYXJyYXkuZmluZC1sYXN0LWluZGV4LmpzIjsKaW1wb3J0IENyZWF0ZUltcG9ydFRlbXBsYXRlIGZyb20gIi4uL2NvbXBvbmVudHMvQ3JlYXRlVGVtcGxhdGVEaWFsb2cudnVlIjsKaW1wb3J0IGFzc2V0UGVyc29ubmVsU2VydmljZSBmcm9tICIuLi8uLi8uLi9zZXJ2aWNlcy9Bc3NldFBlcnNvbm5lbFNlcnZpY2UiOwppbXBvcnQgYXNzZXRNYW5hZ2VtZW50U2VydmljZSBmcm9tICIuLi8uLi8uLi9zZXJ2aWNlcy9Bc3NldE1hbmFnZW1lbnRTZXJ2aWNlIjsKaW1wb3J0IEVuZHBvaW50cyBmcm9tICIuLi8uLi8uLi9zZXJ2aWNlcy9FbmRQb2ludHMiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCBsb2FkZXIgZnJvbSAiQC9jb21wb25lbnRzL0xvYWRlci52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkV4aXN0aW5nVGVtcGxhdGVzIiwKICBjb21wb25lbnRzOiB7CiAgICBDcmVhdGVJbXBvcnRUZW1wbGF0ZSwKICAgIGxvYWRlcgogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcGVuQWRkUG9wVXA6IGZhbHNlLAogICAgICBsb2FkZXJGbGFnOiBmYWxzZSwKICAgICAgdXNlcjogIiIsCiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgcHJvbXB0OiBmYWxzZSwKICAgICAgcHJvbXB0Vmlld05hbWU6ICIiLAogICAgICBzZXJ2ZXJEYXRhOiAiIiwKICAgICAgZmlsdGVyRmllbGRMaXN0OiBbXSwKICAgICAgZXZlbnREYXRhOiAiIiwKICAgICAgdGVtcGxhdGVJZDogIiIsCiAgICAgIC8vIC0tLS0tLS0tLS0tLS0gU0RUIERhdGEgU1RBUlQgLS0tLS0tLS0tLS0tLS0tLQogICAgICBzZHRfdG9rZW46IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImN1cnJlbnRVc2VyRGV0YWlscyIpKS5hY2Nlc3NfdG9rZW4sCiAgICAgIHBhcmVudFN5c3RlbVNldHRpbmdzOiB7CiAgICAgICAgc2VydmljZVVSTDogRW5kcG9pbnRzLnByZWZlcmVuY2VTZXJ2aWNlLnByZWZlcmVuY2UsCiAgICAgICAgLy8gc2VydmljZVVSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA5OS9wcmVmZXJlbmNlcycsCiAgICAgICAgYnV0dG9uczogW10sCiAgICAgICAgc2VhcmNoVmFsdWU6ICIiLAogICAgICAgIGhlaWdodDogIjk1MHB4IiwKICAgICAgICBzZWxlY3Rpb25Db2x1bW46IGZhbHNlLAogICAgICAgIHNlbGVjdFR5cGU6ICJub25lIiwKICAgICAgICBtb3JlT3B0aW9uczogW10sCiAgICAgICAgYWN0aW9uc09wdGlvbnM6IFsiVmlldyIsICJEb3dubG9hZCJdLAogICAgICAgIGNvbHVtbkljb25zOiBbXSwKICAgICAgICBwaWxsQ29uZmlnOiBbewogICAgICAgICAgY29sdW1uOiAiIiwKICAgICAgICAgIHN0YXRlOiAic3VjY2VzcyIsCiAgICAgICAgICBkYXRhOiAiIgogICAgICAgIH0sIHsKICAgICAgICAgIGNvbHVtbjogIiIsCiAgICAgICAgICBzdGF0ZTogImVycm9yIiwKICAgICAgICAgIGRhdGE6ICIiCiAgICAgICAgfSwgewogICAgICAgICAgY29sdW1uOiAiIiwKICAgICAgICAgIHN0YXRlOiAibm9ybWFsIiwKICAgICAgICAgIGRhdGE6ICIiCiAgICAgICAgfV0sCiAgICAgICAgc3RhdGljQ29sdW1uczogW10sCiAgICAgICAgdXNlcjogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVudFVzZXJEZXRhaWxzIikpLnByb2ZpbGUudXNlcm5hbWUsCiAgICAgICAgdXBwZXJjYXNlQ29sdW1uczogW10sCiAgICAgICAgLy8gcGFzcyBjb2x1bW4gbmFtZSB3aG9zZSBkYXRhIHNob3VsZCBiZSBzaG93biBpbiBjYXBzCiAgICAgICAgZGF0ZUZvcm1hdDogIkREL01NL3l5eXkgaGg6bW0gYSIgLy9wYXNzIGFueSBtb21lbnQgZGF0ZSBmb3JtYXQgaGVyZQoKICAgICAgfSwKICAgICAgcGFyZW50RGVmYXVsdFN5c3RlbVZpZXc6IHsKICAgICAgICB2aWV3TmFtZXM6IFt7CiAgICAgICAgICBuYW1lOiAiRGVmYXVsdCBWaWV3IiwKICAgICAgICAgIHRpbGVGbGFnOiB0cnVlLAogICAgICAgICAgcG9zaXRpb246IDEsCiAgICAgICAgICBwcml2YWN5OiAicHJpdmF0ZSIKICAgICAgICB9LCB7CiAgICAgICAgICBuYW1lOiAiQWRkIEEgVmlldyBUaWxlIiwKICAgICAgICAgIHRpbGVGbGFnOiB0cnVlLAogICAgICAgICAgcG9zaXRpb246IDAsCiAgICAgICAgICBwcml2YWN5OiAicHJpdmF0ZSIKICAgICAgICB9XSwKICAgICAgICBkZWZhdWx0VGFibGU6IHsKICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgdmlld05hbWU6ICJEZWZhdWx0IFZpZXciLAogICAgICAgICAgZGVuc2l0eTogIiIsCiAgICAgICAgICBwYWdlU2l6ZTogIiIsCiAgICAgICAgICBwYWdlTmFtZTogIiIsCiAgICAgICAgICB1c2VyOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjdXJyZW50VXNlckRldGFpbHMiKSkucHJvZmlsZS51c2VybmFtZSwKICAgICAgICAgIGRlZmF1bHRWaWV3RmxhZzogdHJ1ZSwKICAgICAgICAgIHNvcnRGaWVsZDogIiIsCiAgICAgICAgICBzb3J0RGlyZWN0aW9uOiAiZGF0ZUNyZWF0ZWQiLAogICAgICAgICAgdGlsZUZsYWc6IHRydWUsCiAgICAgICAgICBjb2x1bW5zOiBbXSwKICAgICAgICAgIHBvc2l0aW9uOiAxLAogICAgICAgICAgLy8gYWx3YXlzIHBhc3MgMQogICAgICAgICAgcHJpdmFjeTogInByaXZhdGUiCiAgICAgICAgfQogICAgICB9LAogICAgICBwYXJlbnREYXRhOiBbXSwKICAgICAgZmlsdGVyQ291bnQ6ICIiLAogICAgICBmaWVsZE5hbWVzOiBbXSwKICAgICAgLy8gLS0tLS0tLS0tLS0tLSBTRFQgRGF0YSBFTkQgLS0tLS0tLS0tLS0tLS0tLQogICAgICB2aWV3VGVtcGxhdGVEaWFsb2c6IGZhbHNlLAogICAgICB0b2FzdEZsYWc6IDAsCiAgICAgIHRvYXN0TWVzc2FnZTogIiIsCiAgICAgIHRvYXN0VHlwZTogIiIsCiAgICAgIHZpZXc6IHRydWUsCiAgICAgIHRlbXBsYXRlRGF0YTogW10sCiAgICAgIGRvd25sb2FkVGVtcGxhdGU6ICIiCiAgICB9OwogIH0sCgogIHByb3BzOiB7fSwKICBtZXRob2RzOiB7CiAgICB2aWV3VGVtcGxhdGUoKSB7CiAgICAgIHRoaXMudmlld1RlbXBsYXRlRGlhbG9nID0gdHJ1ZTsKICAgIH0sCgogICAgY2xvc2VUZW1wbGF0ZURpYWxvZygpIHsKICAgICAgdGhpcy52aWV3VGVtcGxhdGVEaWFsb2cgPSBmYWxzZTsKICAgIH0sCgogICAgLy8gLS0tLS0tLS0tLS0tIFNEVCBGdW5jdGlvbnMgU1RBUlQgLS0tLS0tLS0tLS0tLS0KICAgIGdldEFjdGlvbnNPcHRpb24odmFsKSB7CiAgICAgIGlmICh2YWwudmFsdWUgPT0gIlZpZXciKSB7CiAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEgPSB2YWwucm93OwogICAgICAgIHRoaXMudmlld1RlbXBsYXRlKCk7CiAgICAgIH0gZWxzZSBpZiAodmFsLnZhbHVlID09ICJEb3dubG9hZCIpIHsKICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSB0cnVlOwogICAgICAgIHRoaXMuY3JlYXRlRG93bmxvYWRUZW1wbGF0ZShKU09OLnBhcnNlKHZhbC5yb3cuY3N2Q29sdW1uRGF0YSkpOwogICAgICAgIGxldCBkb3dubG9hZCA9IHsKICAgICAgICAgIGNvbHVtbnNEYXRhOiB0aGlzLmRvd25sb2FkVGVtcGxhdGUsCiAgICAgICAgICB0ZW1wbGF0ZU5hbWU6IHZhbC5yb3cudGVtcGxhdGVOYW1lCiAgICAgICAgfTsKICAgICAgICB0aGlzLmRvd25sb2FkQXNzZXRUZW1wbGF0ZShkb3dubG9hZCk7CiAgICAgIH0KICAgIH0sCgogICAgY3JlYXRlRG93bmxvYWRUZW1wbGF0ZShjc3ZDb2x1bW5EYXRhKSB7CiAgICAgIHRoaXMuZG93bmxvYWRUZW1wbGF0ZSA9ICIiOwogICAgICBsZXQgaSA9IDA7CiAgICAgIGNzdkNvbHVtbkRhdGEubWFwKGRhdGEgPT4gewogICAgICAgIHRoaXMuZG93bmxvYWRUZW1wbGF0ZSA9IHRoaXMuZG93bmxvYWRUZW1wbGF0ZSArIGRhdGEubmFtZSArIChjc3ZDb2x1bW5EYXRhW2kgKyAxXSAhPT0gdW5kZWZpbmVkID8gIiwiIDogIiIpOwogICAgICAgIGkgKz0gMTsKICAgICAgfSk7CiAgICB9LAoKICAgIGRvd25sb2FkQXNzZXRUZW1wbGF0ZShkb3dubG9hZFJlcXVlc3QpIHsKICAgICAgYXNzZXRNYW5hZ2VtZW50U2VydmljZS5kb3dubG9hZEFzc2V0SW1wb3J0VGVtcGxhdGUoZG93bmxvYWRSZXF1ZXN0KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCAmJiByZXMuZGF0YS5yZXNwb25zZUlkZW50aWZpZXIgPT09ICJTdWNjZXNzIikgewogICAgICAgICAgdGhpcy5sb2FkZXJGbGFnID0gZmFsc2U7CiAgICAgICAgICB2YXIgc2FtcGxlQXJyYXkgPSB0aGlzLmJhc2U2NFRvQXJyYXlCdWZmZXIocmVzLmRhdGEuY29udGVudCk7CiAgICAgICAgICBsZXQgZmlsZVVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtzYW1wbGVBcnJheV0sIHsKICAgICAgICAgICAgdHlwZTogInRleHQvY3N2O2NoYXJzZXQ9dXRmLTg7IgogICAgICAgICAgfSkpOwogICAgICAgICAgdmFyIGZpbGVMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgICAgZmlsZUxpbmsuaHJlZiA9IGZpbGVVcmw7CiAgICAgICAgICBmaWxlTGluay5zZXRBdHRyaWJ1dGUoImRvd25sb2FkIiwgcmVzLmRhdGEuZmlsZU5hbWUpOwogICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmaWxlTGluayk7CiAgICAgICAgICBmaWxlTGluay5jbGljaygpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIHRoaXMudG9hc3RNZXNzYWdlID0gIkFuIFVuZXhwZWN0ZWQgRXJyb3Igb2NjdXJyZWQgd2hpbGUgZG93bmxvYWRpbmcgaW1wb3J0IHRlbXBsYXRlcy4iOwogICAgICAgIHRoaXMudG9hc3RUeXBlID0gImVycm9yIjsKICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgICB0aGlzLnRvYXN0RmxhZysrOwogICAgICB9KTsKICAgIH0sCgogICAgYmFzZTY0VG9BcnJheUJ1ZmZlcihiYXNlNjQpIHsKICAgICAgdmFyIGJpbmFyeVN0cmluZyA9IHdpbmRvdy5hdG9iKGJhc2U2NCk7CiAgICAgIHZhciBiaW5hcnlMZW4gPSBiaW5hcnlTdHJpbmcubGVuZ3RoOwogICAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShiaW5hcnlMZW4pOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaW5hcnlMZW47IGkrKykgewogICAgICAgIHZhciBhc2NpaSA9IGJpbmFyeVN0cmluZy5jaGFyQ29kZUF0KGkpOwogICAgICAgIGJ5dGVzW2ldID0gYXNjaWk7CiAgICAgIH0KCiAgICAgIHJldHVybiBieXRlczsKICAgIH0sCgogICAgY29udmVydFRvQ1NWKG9iakFycmF5KSB7CiAgICAgIHZhciBhcnJheSA9IHR5cGVvZiBvYmpBcnJheSAhPSAib2JqZWN0IiA/IEpTT04ucGFyc2Uob2JqQXJyYXkpIDogb2JqQXJyYXk7CiAgICAgIHZhciBzdHIgPSAiIjsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgbGluZSA9ICIiOwoKICAgICAgICBmb3IgKHZhciBpbmRleCBpbiBhcnJheVtpXSkgewogICAgICAgICAgaWYgKGxpbmUgIT0gIiIpIGxpbmUgKz0gIiwiOwogICAgICAgICAgbGluZSArPSBhcnJheVtpXVtpbmRleF07CiAgICAgICAgfQoKICAgICAgICBzdHIgKz0gbGluZSArICJcclxuIjsKICAgICAgfQoKICAgICAgcmV0dXJuIHN0cjsKICAgIH0sCgogICAgZ2V0RG93bmxvYWRBc09wdGlvbihvcHQpIHsKICAgICAgLy8gY29uc29sZS5sb2coJ2Rvd25sb2FkIGFzIG9wdGlvbicsb3B0KTsKICAgICAgaWYgKG9wdC5vcHRpb24gPT0gInBkZiIpIHsvLyBub3RpZmljYXRpb25BbmRDb21tdW5pY2F0aW9uU2VydmljZS5kb3dubG9hZFNlbGVjdGVkUERGKG9iaikKICAgICAgICAvLyAudGhlbigocmVzKSA9PiB7CiAgICAgICAgLy8gLy8gY29uc29sZS5sb2cocmVzKQogICAgICAgIC8vIGxldCBmaWxlQ29udGVudHMgPSBudWxsOwogICAgICAgIC8vICAgICBsZXQgcG9wdXBXaW49bnVsbDsKICAgICAgICAvLyAgICAgcG9wdXBXaW4gPSB3aW5kb3cub3BlbignJywgJ19ibGFuaycsICd0b3A9MCxsZWZ0PTAsaGVpZ2h0PTcwMCx3aWR0aD0xMDAwOycpOwogICAgICAgIC8vICAgICBsZXQgZG9jdW1lbnQgPSB7CiAgICAgICAgLy8gICAgICAgICAnZG9jdW1lbnROYW1lJzogJ0JpbGxpbmcnCiAgICAgICAgLy8gICAgIH07CiAgICAgICAgLy8gZmlsZUNvbnRlbnRzID0gcmVzLmRhdGEudHlwZSArIHJlcy5kYXRhLmNvbnRlbnQ7CiAgICAgICAgLy8gICBwb3B1cFdpbi5kb2N1bWVudC53cml0ZShgCiAgICAgICAgLy8gICAgIDxodG1sPgogICAgICAgIC8vICAgICAgICAgPGhlYWQ+CiAgICAgICAgLy8gICAgICAgICAgPCEtLXRpdGxlPlByaW50IHRhYjwvdGl0bGUtLT4KICAgICAgICAvLyAgICAgICAgICAgICA8c3R5bGU+CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICNidXR0b25ze2Rpc3BsYXk6bm9uZTt9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICBib2R5IHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAiT3BlbiBTYW5zIiwgLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAiU2Vnb2UgVUkiLCBFdWNsaWQgQ2lyY3VsYXIgQiwgIkhlbHZldGljYSBOZXVlIiwgQXJpYWwsIHNhbnMtc2VyaWYsICJBcHBsZSBDb2xvciBFbW9qaSIsICJTZWdvZSBVSSBFbW9qaSIsICJTZWdvZSBVSSBTeW1ib2wiOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzIxMjUyOTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGJ1dHRvbiwgbWV0ZXIsIHByb2dyZXNzIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIC13ZWJraXQtd3JpdGluZy1tb2RlOiBob3Jpem9udGFsLXRiICFpbXBvcnRhbnQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QsIGJ1dHRvbiB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0ZXh0LXJlbmRlcmluZzogYXV0bzsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBpbml0aWFsOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IG5vcm1hbDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHdvcmQtc3BhY2luZzogbm9ybWFsOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IG5vbmU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0ZXh0LWluZGVudDogMHB4OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGV4dC1zaGFkb3c6IG5vbmU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBzdGFydDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMGVtOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZm9udDogNDAwIDEzLjMzMzNweCBBcmlhbDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICBpbnB1dFt0eXBlPSJidXR0b24iIGldLCBpbnB1dFt0eXBlPSJzdWJtaXQiIGldLCBpbnB1dFt0eXBlPSJyZXNldCIgaV0sIGlucHV0W3R5cGU9ImZpbGUiIGldOjotd2Via2l0LWZpbGUtdXBsb2FkLWJ1dHRvbiwgYnV0dG9uIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBkZWZhdWx0OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGJ1dHRvbnRleHQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBidXR0b25mYWNlOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDJweCA2cHggM3B4OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXdpZHRoOiAycHg7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBib3JkZXItc3R5bGU6IG91dHNldDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogYnV0dG9uZmFjZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1pbWFnZTogaW5pdGlhbDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICBpbnB1dCwgYnV0dG9uLCBzZWxlY3QsIG9wdGdyb3VwLCB0ZXh0YXJlYSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogaW5oZXJpdDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiBpbmhlcml0OwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGJ1dHRvbiwgc2VsZWN0IHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiBub25lOwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC5idG4gewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMC4zNzVyZW0gMC43NXJlbTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwLjI1cmVtOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjE1cyBlYXNlLWluLW91dCwgYm9yZGVyLWNvbG9yIDAuMTVzIGVhc2UtaW4tb3V0LCBib3gtc2hhZG93IDAuMTVzIGVhc2UtaW4tb3V0OwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC5idG4tb3V0bGluZS1wcmltYXJ5IHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjMDA3YmZmOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiBub25lOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjMDA3YmZmOwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC5idG4tb3V0bGluZS1wcmltYXJ5IHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjZDAzMjMyOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2QwMzIzMjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICA8c3R5bGU+LmZhIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IG5vcm1hbCBub3JtYWwgbm9ybWFsIDE0cHgvMSBGb250QXdlc29tZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRleHQtcmVuZGVyaW5nOiBhdXRvOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlOwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9PC9zdHlsZT4KICAgICAgICAvLyAgICAgICAgICAgICAgICAgPHN0eWxlPiosICo6OmJlZm9yZSwgKjo6YWZ0ZXIgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICBTdHlsZSBBdHRyaWJ1dGUgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC5idG4sIC5mb3JtLWNvbnRyb2wgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMC4yNXJlbSAwLjVyZW07CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuODc1cmVtOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDAuM3JlbTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMTVweDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMjNweDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfTwvc3R5bGU+CiAgICAgICAgLy8gICAgICAgICAgICAgPC9zdHlsZT4KICAgICAgICAvLyAgICAgICAgIDwvaGVhZD4KICAgICAgICAvLyAgICAgICAgIDxib2R5IG9ubG9hZD0iIj4KICAgICAgICAvLyAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOnJpZ2h0OyIgPgogICAgICAgIC8vICAgICAgICAgICAgICAgICA8YSBocmVmPSIke2ZpbGVDb250ZW50c30iIGRvd25sb2FkPSIke2RvY3VtZW50LmRvY3VtZW50TmFtZX0iPjxidXR0b24gY2xhc3M9ImJ0biBidG4tc20gYnRuLW91dGxpbmUtcHJpbWFyeSI+RG93bmxvYWQ8L2J1dHRvbj48L2E+CiAgICAgICAgLy8gICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgLy8gICAgICAgICAgICAgPGJyPgogICAgICAgIC8vICAgICAgICAgICAgIDxpZnJhbWUgc3JjPScke2ZpbGVDb250ZW50c30nICBzdHlsZT0ibWluLXdpZHRoOiAxMDAlO2hlaWdodDogMTAwJTsiID48L2lmcmFtZT4KICAgICAgICAvLyAgICAgICAgIDwvYm9keT4KICAgICAgICAvLyAgICAgPC9odG1sPmAKICAgICAgICAvLyApOwogICAgICAgIC8vIH0pCiAgICAgICAgLy8gLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpOwogICAgICB9IGVsc2UgaWYgKG9wdC5vcHRpb24gPT0gImNzdiIpIHsvLyAJbGV0IGZpbGVUaXRsZSA9ICdCaWxsaW5ncyc7CiAgICAgICAgLy8gCWxldCBoZWFkZXJzID0gewogICAgICAgIC8vICAgICAgIGNyZWF0ZWREYXRlOiAnUmVxdWVzdGVkIE9uJy5yZXBsYWNlKC8sL2csICcnKSwgLy8gcmVtb3ZlIGNvbW1hcyB0byBhdm9pZCBlcnJvcnMKICAgICAgICAvLyAgICAgICBkdWVEYXRlOiAiRHVlIERhdGUiLAogICAgICAgIC8vICAgICAgIHNoaXBtZW50TnVtYmVyOiAiU2hpcG1lbnQgIyIsCiAgICAgICAgLy8gCQkgIHBvcnRPZkxvYWRpbmc6ICJQb3J0IG9mIExvYWQiLAogICAgICAgIC8vIAkJICBwb3J0T2ZEaXNjaGFyZ2U6ICJQb3J0IE9mIERpc2NoYXJnZSIsCiAgICAgICAgLy8gCQkgIGFtb3VudDogIkFtb3VudCIsCiAgICAgICAgLy8gCQkgIGJhbGFuY2U6ICJCYWxhbmNlIiwKICAgICAgICAvLyAJCSAgbmV0c3VpdGVTdGF0dXM6ICJTdGF0dXMiCiAgICAgICAgLy8gCX07CiAgICAgICAgLy8gCWxldCBkYXRhT2JqID0gW107CiAgICAgICAgLy8gCWZvciAobGV0IGkgPSAwOyBpIDwgb3B0LnJvd3MubGVuZ3RoOyBpKyspIHsKICAgICAgICAvLyAJCWNvbnN0IGJpbGwgPSBvcHQucm93c1tpXTsKICAgICAgICAvLyAJCWRhdGFPYmoucHVzaCh7CiAgICAgICAgLy8gCQkJY3JlYXRlZERhdGU6IGJpbGwuY3JlYXRlZERhdGUsCiAgICAgICAgLy8gCQkJZHVlRGF0ZTogYmlsbC5kdWVEYXRlLAogICAgICAgIC8vIAkJCXNoaXBtZW50TnVtYmVyOiBiaWxsLnNoaXBtZW50TnVtYmVyLAogICAgICAgIC8vIAkJCXBvcnRPZkxvYWRpbmc6IGJpbGwucG9ydE9mTG9hZGluZywKICAgICAgICAvLyAJCQlwb3J0T2ZEaXNjaGFyZ2U6IGJpbGwucG9ydE9mRGlzY2hhcmdlLAogICAgICAgIC8vIAkJCWFtb3VudDogYmlsbC5hbW91bnQsCiAgICAgICAgLy8gCQkJYmFsYW5jZTogYmlsbC5iYWxhbmNlLAogICAgICAgIC8vIAkJCW5ldHN1aXRlU3RhdHVzOiBiaWxsLm5ldHN1aXRlU3RhdHVzCiAgICAgICAgLy8gCQl9KTsKICAgICAgICAvLyAJfQogICAgICAgIC8vIAl0aGlzLmV4cG9ydENTVkZpbGUoaGVhZGVycywgZGF0YU9iaiwgZmlsZVRpdGxlKTsKICAgICAgfQogICAgfSwKCiAgICAvLyBleHBvcnRDU1ZGaWxlKGhlYWRlcnMsIGJpbGxpbmdEYXRhLCBmaWxlVGl0bGUpIHsKICAgIC8vICAgICAvLyBpZiAoaGVhZGVycykgewogICAgLy8gICAgIC8vICAgICBiaWxsaW5nRGF0YS51bnNoaWZ0KGhlYWRlcnMpOwogICAgLy8gICAgIC8vIH0KICAgIC8vICAgICAvLyAvLyBDb252ZXJ0IE9iamVjdCB0byBKU09OCiAgICAvLyAgICAgLy8gdmFyIGpzb25PYmplY3QgPSBKU09OLnN0cmluZ2lmeShiaWxsaW5nRGF0YSk7CiAgICAvLyAgICAgLy8gdmFyIGNzdiA9IHRoaXMuY29udmVydFRvQ1NWKGpzb25PYmplY3QpOwogICAgLy8gICAgIC8vIHZhciBleHBvcnRlZEZpbGVubWFlID0gZmlsZVRpdGxlICsgJy5jc3YnIHx8ICdleHBvcnQuY3N2JzsKICAgIC8vICAgICAvLyB2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3ZdLCB7IHR5cGU6ICd0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04OycgfSk7CiAgICAvLyAgICAgLy8gaWYgKG5hdmlnYXRvci5tc1NhdmVCbG9iKSB7IC8vIElFIDEwKwogICAgLy8gICAgIC8vICAgICBuYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCBleHBvcnRlZEZpbGVubWFlKTsKICAgIC8vICAgICAvLyB9IGVsc2UgewogICAgLy8gICAgIC8vICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgIC8vICAgICAvLyAgICAgaWYgKGxpbmsuZG93bmxvYWQgIT09IHVuZGVmaW5lZCkgeyAvLyBmZWF0dXJlIGRldGVjdGlvbgogICAgLy8gICAgIC8vICAgICAgICAgLy8gQnJvd3NlcnMgdGhhdCBzdXBwb3J0IEhUTUw1IGRvd25sb2FkIGF0dHJpYnV0ZQogICAgLy8gICAgIC8vICAgICAgICAgdmFyIHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAvLyAgICAgLy8gICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgiaHJlZiIsIHVybCk7CiAgICAvLyAgICAgLy8gICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgiZG93bmxvYWQiLCBleHBvcnRlZEZpbGVubWFlKTsKICAgIC8vICAgICAvLyAgICAgICAgIGxpbmsuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nOwogICAgLy8gICAgIC8vICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTsKICAgIC8vICAgICAvLyAgICAgICAgIGxpbmsuY2xpY2soKTsKICAgIC8vICAgICAvLyAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7CiAgICAvLyAgICAgLy8gICAgIH0KICAgIC8vICAgICAvLyB9CiAgICAvLyB9LAogICAgc2V0VGFibGVDb25maWdzKCkgewogICAgICB0aGlzLnBhcmVudERlZmF1bHRTeXN0ZW1WaWV3LmRlZmF1bHRUYWJsZS5kZW5zaXR5ID0gdGhpcy50YWJsZUNvbmZpZy5kZW5zaXR5OwogICAgICB0aGlzLnBhcmVudERlZmF1bHRTeXN0ZW1WaWV3LmRlZmF1bHRUYWJsZS5wYWdlU2l6ZSA9IHRoaXMudGFibGVDb25maWcucGFnZVNpemU7CiAgICAgIHRoaXMucGFyZW50RGVmYXVsdFN5c3RlbVZpZXcuZGVmYXVsdFRhYmxlLnBhZ2VOYW1lID0gdGhpcy50YWJsZUNvbmZpZy5wYWdlTmFtZTsKICAgICAgdGhpcy5wYXJlbnREZWZhdWx0U3lzdGVtVmlldy5kZWZhdWx0VGFibGUuc29ydEZpZWxkID0gdGhpcy50YWJsZUNvbmZpZy5zb3J0RmllbGQ7CiAgICAgIHRoaXMucGFyZW50RGVmYXVsdFN5c3RlbVZpZXcuZGVmYXVsdFRhYmxlLnNvcnREaXJlY3Rpb24gPSB0aGlzLnRhYmxlQ29uZmlnLnNvcnREaXJlY3Rpb247CiAgICAgIHRoaXMucGFyZW50RGVmYXVsdFN5c3RlbVZpZXcuZGVmYXVsdFRhYmxlLmNvbHVtbnMgPSB0aGlzLnRhYmxlQ29uZmlnLmNvbHVtbnM7CiAgICB9LAoKICAgIHNldFN0YXRpY0NvbHVtbigpIHsKICAgICAgbGV0IHN0YXRpY0NvbCA9IHRoaXMudGFibGVDb25maWcuY29sdW1ucy5maWx0ZXIoY29sID0+IGNvbC5sYWJlbE5hbWUgPT0gIlRlbXBsYXRlIE51bWJlciIpWzBdOwogICAgICB0aGlzLnBhcmVudFN5c3RlbVNldHRpbmdzLnN0YXRpY0NvbHVtbnMucHVzaChzdGF0aWNDb2wpOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRhYmxlQ29uZmlnLmNvbHVtbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy50YWJsZUNvbmZpZy5jb2x1bW5zW2ldLmxhYmVsTmFtZSA9PSBzdGF0aWNDb2wubGFiZWxOYW1lKSB7CiAgICAgICAgICB0aGlzLnRhYmxlQ29uZmlnLmNvbHVtbnMuc3BsaWNlKGksIDEpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgc3RhdGljQ29sID0gdGhpcy50YWJsZUNvbmZpZy5jb2x1bW5zLmZpbHRlcihjb2wgPT4gY29sLmxhYmVsTmFtZSA9PSAiVGVtcGxhdGUgTmFtZSIpWzBdOwogICAgICB0aGlzLnBhcmVudFN5c3RlbVNldHRpbmdzLnN0YXRpY0NvbHVtbnMucHVzaChzdGF0aWNDb2wpOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRhYmxlQ29uZmlnLmNvbHVtbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy50YWJsZUNvbmZpZy5jb2x1bW5zW2ldLmxhYmVsTmFtZSA9PSBzdGF0aWNDb2wubGFiZWxOYW1lKSB7CiAgICAgICAgICB0aGlzLnRhYmxlQ29uZmlnLmNvbHVtbnMuc3BsaWNlKGksIDEpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBjYXRjaERlcGFydHVyZTogZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgLy8gY29uc29sZS5sb2coImRhdGEiLCBkYXRhKTsKICAgICAgLy8gZGVidWdnZXIKICAgICAgaWYgKGRhdGEuc3RhdHVzID09IDEgfHwgZGF0YS5zdGF0dXMgPT0gMykgewogICAgICAgIHRoaXMubG9hZFRhYmxlKGRhdGEpOwogICAgICB9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09IDQpIHsKICAgICAgICB0aGlzLmxvYWRUYWJsZShkYXRhKTsKICAgICAgfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSAxMCkge30KICAgIH0sCgogICAgbG9hZFRhYmxlKHNkdERhdGEpIHsKICAgICAgbGV0IGZpbHRlcnMgPSBbXTsKICAgICAgdGhpcy5sb2FkZXJGbGFnID0gdHJ1ZTsKCiAgICAgIGZvciAobGV0IHNkdF9kYXRhIG9mIHNkdERhdGEubWVzc2FnZSkgewogICAgICAgIGlmIChzZHRfZGF0YS5maWVsZE5hbWUgIT09ICJhY3Rpb25zIikgewogICAgICAgICAgbGV0IG5ld0RhdGUgPSAiIjsKCiAgICAgICAgICBpZiAoc2R0X2RhdGEuZmllbGRUeXBlID09PSAiZGF0ZSIgJiYgc2R0X2RhdGEuZmlsdGVyVmFsdWUgIT09ICIiKSB7CiAgICAgICAgICAgIGxldCBkYXRlID0gc2R0X2RhdGEuZmlsdGVyVmFsdWUudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgZGF0ZSA9IGRhdGUuc3BsaXQoIi8iKTsKICAgICAgICAgICAgbmV3RGF0ZSA9IG5ldyBEYXRlKGAke2RhdGVbMV19LyR7ZGF0ZVswXX0vJHtkYXRlWzJdfWApOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChzZHRfZGF0YS5maWx0ZXJWYWx1ZSA9PT0gbnVsbCkgewogICAgICAgICAgICBzZHRfZGF0YS5maWx0ZXJWYWx1ZSA9ICIiOwogICAgICAgICAgfQoKICAgICAgICAgIGZpbHRlcnMucHVzaCh7CiAgICAgICAgICAgIGZpZWxkTmFtZTogc2R0X2RhdGEuZmllbGROYW1lLAogICAgICAgICAgICBmaWVsZFR5cGU6IHNkdF9kYXRhLmZpZWxkVHlwZSwKICAgICAgICAgICAgZmlsdGVyVmFsdWU6IG5ld0RhdGUgPT09IG51bGwgfHwgbmV3RGF0ZSA9PT0gIiIgPyBzZHRfZGF0YS5maWx0ZXJWYWx1ZSA6IG5ld0RhdGUuZ2V0VGltZSgpLAogICAgICAgICAgICBzZWNvbmRWYWx1ZTogc2R0X2RhdGEuc2Vjb25kVmFsdWUsCiAgICAgICAgICAgIGNvbXBhcmlzb25UeXBlOiBzZHRfZGF0YS5jb21wYXJpc29uVHlwZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmdldFBhZ2luYXRlZEFzc2V0SW1wb3J0VGVtcGxhdGVzRm9yU0RUKGZpbHRlcnMsIHNkdERhdGEuZGF0YS5zb3J0RmllbGQsIHNkdERhdGEuZGF0YS5zb3J0RGlyZWN0aW9uLCBzZHREYXRhLmRhdGEub2Zmc2V0LCBzZHREYXRhLmRhdGEubGltaXQsIHNkdERhdGEuZGF0YS5zZWFyY2hRdWVyeSk7CiAgICB9LAoKICAgIGxvYWRTRFQocmVzcG9uc2UsIGRhdGEpIHsKICAgICAgdGhpcy5pbnNwZWN0aW9ucyA9IGRhdGE7IC8vIHRoaXMucGFnZSA9IHJlc3BvbnNlLmRhdGEuc2R0RGF0YS5vZmZzZXQ7CgogICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgbGV0IGV2ZW50RGF0YSA9IHsKICAgICAgICBkYXRhOiB0aGlzLmluc3BlY3Rpb25zLAogICAgICAgIHRvdGFsRWxlbWVudHM6IHJlc3BvbnNlLmRhdGEuc2R0RGF0YS50b3RhbEVsZW1lbnRzLAogICAgICAgIHRvdGFsUGFnZXM6IHJlc3BvbnNlLmRhdGEuc2R0RGF0YS50b3RhbFBhZ2VzLAogICAgICAgIHBhZ2VOdW1iZXI6IHJlc3BvbnNlLmRhdGEuc2R0RGF0YS5vZmZzZXQKICAgICAgfTsKICAgICAgdGhpcy4kcmVmcy50ZXN0LmRhdGFMb2FkRXZlbnQoZXZlbnREYXRhKTsKICAgIH0sCgogICAgZXh0cmFjdEZpZWxkTmFtZXNGb3JTZWFyY2hRdWVyeShjb25maWcpIHsKICAgICAgZm9yIChsZXQgY29sdW1uIG9mIGNvbmZpZy5jb2x1bW5zKSB7CiAgICAgICAgdGhpcy5maWVsZE5hbWVzLnB1c2goY29sdW1uLmZpZWxkTmFtZSk7CiAgICAgIH0KICAgIH0sCgogICAgZ2V0UGFnaW5hdGVkQXNzZXRJbXBvcnRUZW1wbGF0ZXNGb3JTRFQoZmlsdGVycywgc29ydEZpZWxkLCBzb3J0RGlyZWN0aW9uLCBvZmZzZXQsIGxpbWl0LCBzZWFyY2hRdWVyeSkgewogICAgICBsZXQgY3VycmVudFVzZXJEZXRhaWxzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVudFVzZXJEZXRhaWxzIikpOwogICAgICBsZXQgcmVxdWVzdE9iaiA9IHsKICAgICAgICBzZWFyY2hRdWVyeTogc2VhcmNoUXVlcnksCiAgICAgICAgLy8gc2VhcmNoQ29sdW1uczogc2VhcmNoQ29sdW1ucywKICAgICAgICBmaWx0ZXJzOiBmaWx0ZXJzLAogICAgICAgIHNvcnRGaWVsZDogc29ydEZpZWxkLAogICAgICAgIHNvcnREaXJlY3Rpb246IHNvcnREaXJlY3Rpb24sCiAgICAgICAgb2Zmc2V0OiBvZmZzZXQsCiAgICAgICAgbGltaXQ6IGxpbWl0LAogICAgICAgIHRlbmFudFVVSUQ6IGN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLm9yZ2FuaXphdGlvbklkLAogICAgICAgIHVzZXJVVUlEOiBjdXJyZW50VXNlckRldGFpbHMucHJvZmlsZS51c2VyaWQsCiAgICAgICAgZmllbGROYW1lczogdGhpcy5maWVsZE5hbWVzCiAgICAgIH07CiAgICAgIGFzc2V0TWFuYWdlbWVudFNlcnZpY2UuZ2V0UGFnaW5hdGVkQXNzZXRJbXBvcnRUZW1wbGF0ZXNGb3JTRFQocmVxdWVzdE9iaikudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIHJlc3BvbnNlLmRhdGEuc2R0RGF0YS5jb250ZW50Lm1hcChpdGVtID0+IHsKICAgICAgICAgICAgaXRlbS5jcmVhdGVkRGF0ZSA9IG1vbWVudC51dGMoaXRlbS5jcmVhdGVkRGF0ZSkubG9jYWwoKS5mb3JtYXQoKTsKICAgICAgICAgIH0pOwogICAgICAgICAgbGV0IHRlbXBsYXRlcyA9IHJlc3BvbnNlLmRhdGEuc2R0RGF0YS5jb250ZW50OwogICAgICAgICAgcmVzcG9uc2UuZGF0YS5zZHREYXRhLm9mZnNldCA9IG9mZnNldCArIDE7CiAgICAgICAgICB0aGlzLmxvYWRTRFQocmVzcG9uc2UsIHRlbXBsYXRlcyk7CiAgICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy50b2FzdE1lc3NhZ2UgPSAiQW4gVW5leHBlY3RlZCBFcnJvciBvY2N1cnJlZCB3aGlsZSBnZXR0aW5nIGltcG9ydCBBc3NldCB0ZW1wbGF0ZXMuIjsKICAgICAgICAgIHRoaXMudG9hc3RUeXBlID0gImVycm9yIjsKICAgICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy50b2FzdEZsYWcrKzsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICB0aGlzLnRvYXN0TWVzc2FnZSA9ICJBbiBVbmV4cGVjdGVkIEVycm9yIG9jY3VycmVkIHdoaWxlIGdldHRpbmcgaW1wb3J0IEFzc2V0IHRlbXBsYXRlcy4iOwogICAgICAgIHRoaXMudG9hc3RUeXBlID0gImVycm9yIjsKICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgICB0aGlzLnRvYXN0RmxhZysrOwogICAgICB9KTsKICAgIH0gLy8gLS0tLS0tLS0tLS0tIFNEVCBGdW5jdGlvbnMgRU5EIC0tLS0tLS0tLS0tLS0tCgoKICB9LAoKICBtb3VudGVkKCkgewogICAgZG9jdW1lbnQudGl0bGUgPSB0aGlzLiRyb3V0ZS5tZXRhLnRpdGxlOwogICAgbGV0IGN1cnJlbnRVc2VyRGV0YWlscyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImN1cnJlbnRVc2VyRGV0YWlscyIpKTsKCiAgICBpZiAoY3VycmVudFVzZXJEZXRhaWxzID09PSBudWxsKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJmb3JjZVNpZ25vdXQiLCAieWVzIik7CiAgICAgIHJldHVybjsKICAgIH0gLy8gZmV0Y2hpbmcgY29uZmlncwoKCiAgICBsZXQgdXVpZCA9IGN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLm9yZ2FuaXphdGlvbklkOwogICAgYXNzZXRQZXJzb25uZWxTZXJ2aWNlLmdldE9yZ0NvbmZpZ3ModXVpZCwgInRhYmxlQ29uZmlncyIpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQogICAgICBsZXQgYWxsQ29uZmlncyA9IEpTT04ucGFyc2UocmVzcG9uc2UuZGF0YS50YWJsZUNvbmZpZ3MpOwogICAgICB0aGlzLnRhYmxlQ29uZmlnID0gYWxsQ29uZmlncy5maWx0ZXIoZGF0YSA9PiBkYXRhLnBhZ2VOYW1lID09PSAiRXhpc3RpbmdBc3NldENTVlRlbXBsYXRlcyIpWzBdOwogICAgICB0aGlzLmV4dHJhY3RGaWVsZE5hbWVzRm9yU2VhcmNoUXVlcnkodGhpcy50YWJsZUNvbmZpZyk7CiAgICAgIHRoaXMuc2V0U3RhdGljQ29sdW1uKCk7CiAgICAgIHRoaXMuc2V0VGFibGVDb25maWdzKCk7CiAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCJFcnJvciBmZXRjaGluZyBjb25maWdzIiwgZXJyb3IpOwogICAgfSk7CiAgfSwKCiAgdmFsaWRhdGlvbnM6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7fTsKICB9LAogIGNvbXB1dGVkOiB7fQp9Ow=="},null]}
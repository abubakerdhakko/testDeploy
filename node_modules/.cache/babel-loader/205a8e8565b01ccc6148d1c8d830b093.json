{"remainingRequest":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/babel-loader/lib/index.js!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/views/issues/archivedIssues.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/views/issues/archivedIssues.vue","mtime":1661968702436},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/babel.config.js","mtime":1661968702388},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":1662622637759},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/babel-loader/lib/index.js","mtime":1662622637719},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":1662622637759},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js","mtime":1662622639723}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGFzc2V0TWFuYWdlbWVudFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZXMvQXNzZXRNYW5hZ2VtZW50U2VydmljZSI7CmltcG9ydCBhc3NldFBlcnNvbm5lbFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZXMvQXNzZXRQZXJzb25uZWxTZXJ2aWNlIjsKaW1wb3J0IEluc3BlY3Rpb25TZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2VzL0luc3BlY3Rpb25TZXJ2aWNlIjsKaW1wb3J0IHdvcmtPcmRlclNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZXMvV29ya09yZGVyU2VydmljZSI7CmltcG9ydCB7IHJlcXVpcmVkIH0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIjsKaW1wb3J0IEVuZHBvaW50cyBmcm9tICIuLi8uLi9zZXJ2aWNlcy9FbmRQb2ludHMiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCBBcmNoaXZlZElzc3VlcyBmcm9tICIuLy4uL2lzc3Vlcy9hcmNoaXZlZElzc3Vlcy52dWUiOwppbXBvcnQgVmlld0lzc3VlIGZyb20gIi4uLy4uL3ZpZXdzL2lzc3Vlcy9jb21wb25lbnRzL1ZpZXdJc3N1ZSI7CmltcG9ydCBEZWxldGVEaWFsb2cgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9EZWxldGVEaWFsb2cudnVlIjsKaW1wb3J0IFJlc3RvcmVEaWFsb2cgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9SZXN0b3JlRGlhbG9nLnZ1ZSI7CmltcG9ydCBsb2FkZXIgZnJvbSAiQC9jb21wb25lbnRzL0xvYWRlci52dWUiOwpsZXQgc3RyaW5nT3B0aW9uV29ya09yZGVyVVVJRCA9IFtdOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIklzc3VlcyIsCiAgY29tcG9uZW50czogewogICAgVmlld0lzc3VlLAogICAgRGVsZXRlRGlhbG9nLAogICAgQXJjaGl2ZWRJc3N1ZXMsCiAgICBSZXN0b3JlRGlhbG9nLAogICAgbG9hZGVyCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRlckZsYWc6IGZhbHNlLAogICAgICB0b2FzdEZsYWc6IGZhbHNlLAogICAgICB0b2FzdE1lc3NhZ2U6ICIiLAogICAgICB0b2FzdFR5cGU6ICIiLAogICAgICByZXN0b3JlSXNzdWVEaWFsb2c6IGZhbHNlLAogICAgICBmaWx0ZXJDb3VudDogIiIsCiAgICAgIGN1cnJlbnRVc2VyRGV0YWlsczogIiIsCiAgICAgIGlzc3VlSUQ6ICIiLAogICAgICBkZWxldGVJc3N1ZURpYWxvZzogZmFsc2UsCiAgICAgIHZpZXdJc3N1ZTogZmFsc2UsCiAgICAgIGVkaXRJc3N1ZTogZmFsc2UsCiAgICAgIHVzZXI6ICIiLAogICAgICB1c2VybmFtZTogIiIsCiAgICAgIGlzTG9hZGluZ1BhZ2U6IGZhbHNlLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBwcm9tcHQ6IGZhbHNlLAogICAgICBwcm9tcHRWaWV3TmFtZTogIiIsCiAgICAgIHNlcnZlckRhdGE6ICIiLAogICAgICBmaWx0ZXJGaWVsZExpc3Q6IFtdLAogICAgICBpc3N1ZTogIiIsCiAgICAgIGV2ZW50RGF0YTogIiIsCiAgICAgIHNkdF90b2tlbjogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVudFVzZXJEZXRhaWxzIikpLmFjY2Vzc190b2tlbiwKICAgICAgcGFyZW50U3lzdGVtU2V0dGluZ3M6IHsKICAgICAgICBzZXJ2aWNlVVJMOiBFbmRwb2ludHMucHJlZmVyZW5jZVNlcnZpY2UucHJlZmVyZW5jZSwKICAgICAgICAvLyBzZXJ2aWNlVVJMOiAnaHR0cDovL2xvY2FsaG9zdDo4MDk5L3ByZWZlcmVuY2VzJywKICAgICAgICBidXR0b25zOiBbXSwKICAgICAgICBzZWFyY2hWYWx1ZTogIiIsCiAgICAgICAgaGVpZ2h0OiAiOTUwcHgiLAogICAgICAgIHNlbGVjdGlvbkNvbHVtbjogZmFsc2UsCiAgICAgICAgc2VsZWN0VHlwZTogImNoZWNrYm94IiwKICAgICAgICBtb3JlT3B0aW9uczogW10sCiAgICAgICAgYWN0aW9uc09wdGlvbnM6IFsiVmlldyIsICJSZXN0b3JlIl0sCiAgICAgICAgY29sdW1uSWNvbnM6IFt7CiAgICAgICAgICBmaWVsZDogIiIsCiAgICAgICAgICBpY29uOiAicG9ydCIKICAgICAgICB9LCB7CiAgICAgICAgICBmaWVsZDogIiIsCiAgICAgICAgICBpY29uOiAicG9ydCIKICAgICAgICB9XSwKICAgICAgICBwaWxsQ29uZmlnOiBbewogICAgICAgICAgY29sdW1uOiAiIiwKICAgICAgICAgIHN0YXRlOiAic3VjY2VzcyIsCiAgICAgICAgICBkYXRhOiAiIgogICAgICAgIH0sIHsKICAgICAgICAgIGNvbHVtbjogIiIsCiAgICAgICAgICBzdGF0ZTogImVycm9yIiwKICAgICAgICAgIGRhdGE6ICIiCiAgICAgICAgfSwgewogICAgICAgICAgY29sdW1uOiAiIiwKICAgICAgICAgIHN0YXRlOiAibm9ybWFsIiwKICAgICAgICAgIGRhdGE6ICIiCiAgICAgICAgfV0sCiAgICAgICAgc3RhdGljQ29sdW1uczogW10sCiAgICAgICAgdXNlcjogIiIsCiAgICAgICAgdXBwZXJjYXNlQ29sdW1uczogW10sCiAgICAgICAgLy8gcGFzcyBjb2x1bW4gbmFtZSB3aG9zZSBkYXRhIHNob3VsZCBiZSBzaG93biBpbiBjYXBzCiAgICAgICAgZGF0ZUZvcm1hdDogIkREL01NL3l5eXkgaGg6bW0gYSIgLy9wYXNzIGFueSBtb21lbnQgZGF0ZSBmb3JtYXQgaGVyZQoKICAgICAgfSwKICAgICAgcGFyZW50RGVmYXVsdFN5c3RlbVZpZXc6IHsKICAgICAgICB2aWV3TmFtZXM6IFt7CiAgICAgICAgICBuYW1lOiAiRGVmYXVsdCBWaWV3IiwKICAgICAgICAgIHRpbGVGbGFnOiB0cnVlLAogICAgICAgICAgcG9zaXRpb246IDEsCiAgICAgICAgICBwcml2YWN5OiAicHJpdmF0ZSIKICAgICAgICB9LCB7CiAgICAgICAgICBuYW1lOiAiQWRkIEEgVmlldyBUaWxlIiwKICAgICAgICAgIHRpbGVGbGFnOiB0cnVlLAogICAgICAgICAgcG9zaXRpb246IDAsCiAgICAgICAgICBwcml2YWN5OiAicHJpdmF0ZSIKICAgICAgICB9XSwKICAgICAgICBkZWZhdWx0VGFibGU6IHsKICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgdmlld05hbWU6ICJEZWZhdWx0IFZpZXciLAogICAgICAgICAgZGVuc2l0eTogIiIsCiAgICAgICAgICBwYWdlU2l6ZTogIiIsCiAgICAgICAgICBwYWdlTmFtZTogIiIsCiAgICAgICAgICB1c2VyOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjdXJyZW50VXNlckRldGFpbHMiKSkucHJvZmlsZS51c2VybmFtZSwKICAgICAgICAgIGRlZmF1bHRWaWV3RmxhZzogdHJ1ZSwKICAgICAgICAgIHNvcnRGaWVsZDogIiIsCiAgICAgICAgICBzb3J0RGlyZWN0aW9uOiAiIiwKICAgICAgICAgIHRpbGVGbGFnOiB0cnVlLAogICAgICAgICAgcG9zaXRpb246IDEsCiAgICAgICAgICAvLyBhbHdheXMgcGFzcyAxCiAgICAgICAgICBwcml2YWN5OiAicHJpdmF0ZSIsCiAgICAgICAgICBjb2x1bW5zOiBbXQogICAgICAgIH0KICAgICAgfSwKICAgICAgcGFyZW50RGF0YTogW10sCiAgICAgIGlzc3Vlc1VVSUQ6IFtdLAogICAgICBpc3N1ZXNOdW1iZXI6IFtdLAogICAgICBpc3N1ZXNBc3NldE9iajogW10sCiAgICAgIGlzc3Vlc1N0YXR1czogW10sCiAgICAgIGlzc3Vlc1dvcmtvYmo6IFtdLAogICAgICBhc3NldFVVSUQ6IFtdLAogICAgICBpc3N1ZVJlc29sdmVkOiBbXSwKICAgICAgd29ya09yZGVyT3B0OiBzdHJpbmdPcHRpb25Xb3JrT3JkZXJVVUlELAogICAgICBleGlzdGluZzogZmFsc2UsCiAgICAgIHdvcmtPcmRlck51bWJlcjogIiIsCiAgICAgIHRhYmxlQ29uZmlnOiAiIiwKICAgICAgc2hvd0NyZWF0ZU9yZGVyOiBmYWxzZSwKICAgICAgc2R0RGF0YTogIiIsCiAgICAgIGZpZWxkTmFtZXM6IFtdCiAgICB9OwogIH0sCgogIG1ldGhvZHM6IHsKICAgIGNsb3NlRGlhbG9nKCkgewogICAgICB0aGlzLmRlbGV0ZUlzc3VlRGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMucmVzdG9yZUlzc3VlRGlhbG9nID0gZmFsc2U7CiAgICB9LAoKICAgIGRlbGV0ZURpYWxvZygpIHsKICAgICAgdGhpcy5kZWxldGVJc3N1ZURpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLmRlbGV0ZUlzc3Vlcyh0aGlzLmlzc3VlSUQsICJEZWxldGUiKTsKICAgIH0sCgogICAgc2F2ZSgpIHsKICAgICAgdGhpcy5jcmVhdGVJc3N1ZXMgPSBmYWxzZTsKICAgIH0sCgogICAgZGVsZXRlSXNzdWVzKHV1aWQsIHR5cGUpIHsKICAgICAgdGhpcy5sb2FkZXJGbGFnID0gdHJ1ZTsKICAgICAgSW5zcGVjdGlvblNlcnZpY2UuZGVsZXRlSXNzdWVzKHV1aWQsIHR5cGUpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgaWYgKHR5cGUgPT09ICJEZWxldGUiKSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoInNob3dUb2FzdCIsIHJlc3BvbnNlLmRhdGEuZGVzY3JpcHRpb24sICJzdWNjZXNzIik7CiAgICAgICAgICAgIHRoaXMubG9hZFRhYmxlKHRoaXMuc2R0RGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgdGhpcy4kZW1pdCgic2hvd1RvYXN0IiwgZXJyb3IucmVzcG9uc2UuZGF0YS5kZXNjcmlwdGlvbiwgImVycm9yIik7CiAgICAgIH0pOwogICAgfSwKCiAgICByZXN0b3JlQXJjaGl2ZWQoKSB7CiAgICAgIHRoaXMucmVzdG9yZUlzc3VlRGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMubG9hZGVyRmxhZyA9IHRydWU7CiAgICAgIEluc3BlY3Rpb25TZXJ2aWNlLnJlc3RvcmVJc3N1ZSh0aGlzLmlzc3VlKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCJzaG93VG9hc3QiLCAiSXNzdWUgcmVzdG9yZWQgc3VjY2Vzc2Z1bGx5IiwgInN1Y2Nlc3MiKTsKICAgICAgICAgIHRoaXMubG9hZFRhYmxlKHRoaXMuc2R0RGF0YSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICB0aGlzLiRlbWl0KCJzaG93VG9hc3QiLCBlLnJlc3BvbnNlLmRhdGEuZGVzY3JpcHRpb24sICJlcnJvciIpOwogICAgICB9KTsKICAgIH0sCgogICAgY2xvc2VJc3N1ZURpYWxvZygpIHsKICAgICAgdGhpcy5lZGl0SXNzdWUgPSBmYWxzZTsKICAgICAgdGhpcy52aWV3SXNzdWUgPSBmYWxzZTsKICAgIH0sCgogICAgLy8gU0RUIGZ1bmN0aW9ucyBzdGFydCBoZXJlCiAgICBjYXRjaERlcGFydHVyZTogZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgLy8gY29uc29sZS5sb2coImRhdGEiLCBkYXRhKTsKICAgICAgdGhpcy5zZHREYXRhID0gZGF0YTsKCiAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAxIHx8IGRhdGEuc3RhdHVzID09IDMpIHsKICAgICAgICB0aGlzLmxvYWRUYWJsZShkYXRhKTsKICAgICAgfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSA0KSB7CiAgICAgICAgdGhpcy5sb2FkVGFibGUoZGF0YSk7CiAgICAgIH0gZWxzZSBpZiAoZGF0YS5zdGF0dXMgPT0gMTApIHsKICAgICAgICB2YXIgaSA9IFtdOyAvLyBjb25zb2xlLmxvZyhkYXRhLm1lc3NhZ2UpOwoKICAgICAgICBpZiAoZGF0YS5tZXNzYWdlLmNoZWNrYm94LmNoZWNrZWQgPT09IGZhbHNlKSB7CiAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5pc3N1ZXNVVUlELmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgICBpZiAodGhpcy5pc3N1ZXNVVUlEW2luZGV4XSAhPT0gZGF0YS5tZXNzYWdlLnV1aWQpIHsKICAgICAgICAgICAgICBpLnB1c2goaW5kZXgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5pc3N1ZXNVVUlEID0gdGhpcy5pc3N1ZXNVVUlELmZpbHRlcigoaXNzdWUsIGluZGV4KSA9PiB7CiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaS5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgIGlmIChpW2pdID09PSBpbmRleCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGlzc3VlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmlzc3Vlc051bWJlciA9IHRoaXMuaXNzdWVzTnVtYmVyLmZpbHRlcigoaXNzdWUsIGluZGV4KSA9PiB7CiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaS5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgIGlmIChpW2pdID09PSBpbmRleCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGlzc3VlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmlzc3Vlc0Fzc2V0T2JqID0gdGhpcy5pc3N1ZXNBc3NldE9iai5maWx0ZXIoKGlzc3VlLCBpbmRleCkgPT4gewogICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGkubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICBpZiAoaVtqXSA9PT0gaW5kZXgpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpc3N1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5pc3N1ZXNXb3Jrb2JqID0gdGhpcy5pc3N1ZXNXb3Jrb2JqLmZpbHRlcigoaXNzdWUsIGluZGV4KSA9PiB7CiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaS5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgIGlmIChpW2pdID09PSBpbmRleCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGlzc3VlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmFzc2V0VVVJRCA9IHRoaXMuYXNzZXRVVUlELmZpbHRlcigoaXNzdWUsIGluZGV4KSA9PiB7CiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaS5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgIGlmIChpW2pdID09PSBpbmRleCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGlzc3VlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmlzc3VlUmVzb2x2ZWQgPSB0aGlzLmlzc3VlUmVzb2x2ZWQuZmlsdGVyKChpc3N1ZSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgaWYgKGlbal0gPT09IGluZGV4KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaXNzdWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuaXNzdWVzU3RhdHVzID0gdGhpcy5pc3N1ZXNTdGF0dXMuZmlsdGVyKChpc3N1ZSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgaWYgKGlbal0gPT09IGluZGV4KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaXNzdWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5pc3N1ZXNBc3NldE9iai5wdXNoKGRhdGEubWVzc2FnZS5hc3NldE5hbWUpOwogICAgICAgICAgdGhpcy5pc3N1ZXNTdGF0dXMucHVzaChkYXRhLm1lc3NhZ2Uuc3RhdHVzKTsKICAgICAgICAgIHRoaXMuaXNzdWVzV29ya29iai5wdXNoKGRhdGEubWVzc2FnZS53b3JrT3JkZXIpOwogICAgICAgICAgdGhpcy5pc3N1ZXNVVUlELnB1c2goZGF0YS5tZXNzYWdlLnV1aWQpOwogICAgICAgICAgdGhpcy5pc3N1ZXNOdW1iZXIucHVzaChkYXRhLm1lc3NhZ2UuaXNzdWVOdW1iZXIpOwogICAgICAgICAgdGhpcy5hc3NldFVVSUQucHVzaChkYXRhLm1lc3NhZ2UuYXNzZXRVVUlEKTsKICAgICAgICAgIHRoaXMuaXNzdWVSZXNvbHZlZC5wdXNoKGRhdGEubWVzc2FnZS5yZXNvbHZlZCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIGxvYWRUYWJsZShzZHREYXRhKSB7CiAgICAgIGxldCBmaWx0ZXJzID0gW107CiAgICAgIHRoaXMubG9hZGVyRmxhZyA9IHRydWU7CiAgICAgIGxldCBmaWx0ZXJGbGFnID0gZmFsc2U7CgogICAgICBmb3IgKGxldCBzZHRfZGF0YSBvZiBzZHREYXRhLm1lc3NhZ2UpIHsKICAgICAgICBpZiAoc2R0X2RhdGEuZmllbGROYW1lICE9PSAiYWN0aW9ucyIpIHsKICAgICAgICAgIGxldCBuZXdEYXRlID0gIiI7CgogICAgICAgICAgaWYgKHNkdF9kYXRhLmZpZWxkVHlwZSA9PT0gImRhdGUiICYmIHNkdF9kYXRhLmZpbHRlclZhbHVlICE9PSAiIikgewogICAgICAgICAgICBsZXQgZGF0ZSA9IHNkdF9kYXRhLmZpbHRlclZhbHVlLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgIGRhdGUgPSBkYXRlLnNwbGl0KCIvIik7CiAgICAgICAgICAgIG5ld0RhdGUgPSBuZXcgRGF0ZShgJHtkYXRlWzFdfS8ke2RhdGVbMF19LyR7ZGF0ZVsyXX1gKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc2R0X2RhdGEuZmlsdGVyVmFsdWUgPT09IG51bGwpIHsKICAgICAgICAgICAgc2R0X2RhdGEuZmlsdGVyVmFsdWUgPSAiIjsKICAgICAgICAgIH0KCiAgICAgICAgICBmaWx0ZXJzLnB1c2goewogICAgICAgICAgICBmaWVsZE5hbWU6IHNkdF9kYXRhLmZpZWxkTmFtZSwKICAgICAgICAgICAgZmllbGRUeXBlOiBzZHRfZGF0YS5maWVsZFR5cGUsCiAgICAgICAgICAgIGZpbHRlclZhbHVlOiBuZXdEYXRlID09PSBudWxsIHx8IG5ld0RhdGUgPT09ICIiID8gc2R0X2RhdGEuZmlsdGVyVmFsdWUgOiBuZXdEYXRlLmdldFRpbWUoKSwKICAgICAgICAgICAgc2Vjb25kVmFsdWU6IHNkdF9kYXRhLnNlY29uZFZhbHVlLAogICAgICAgICAgICBjb21wYXJpc29uVHlwZTogc2R0X2RhdGEuY29tcGFyaXNvblR5cGUKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5nZXRQYWdpbmF0ZWRBcmNoaXZlZElzc3VlcyhmaWx0ZXJzLCBzZHREYXRhLmRhdGEuc29ydEZpZWxkLCBzZHREYXRhLmRhdGEuc29ydERpcmVjdGlvbiwgc2R0RGF0YS5kYXRhLm9mZnNldCwgc2R0RGF0YS5kYXRhLmxpbWl0LCBzZHREYXRhLmRhdGEuc2VhcmNoUXVlcnkpOwogICAgfSwKCiAgICBsb2FkU0RUKHJlc3BvbnNlLCBkYXRhKSB7CiAgICAgIHRoaXMucGFyZW50RGF0YSA9IGRhdGE7CiAgICAgIGxldCBldmVudERhdGEgPSB7CiAgICAgICAgZGF0YTogdGhpcy5wYXJlbnREYXRhLAogICAgICAgIHRvdGFsRWxlbWVudHM6IHJlc3BvbnNlLmRhdGEuaXNzdWVSZXBvcnRpbmdzLnRvdGFsRWxlbWVudHMsCiAgICAgICAgdG90YWxQYWdlczogcmVzcG9uc2UuZGF0YS5pc3N1ZVJlcG9ydGluZ3MudG90YWxQYWdlcywKICAgICAgICBwYWdlTnVtYmVyOiByZXNwb25zZS5kYXRhLmlzc3VlUmVwb3J0aW5ncy5vZmZzZXQKICAgICAgfTsKICAgICAgdGhpcy4kcmVmcy50ZXN0LmRhdGFMb2FkRXZlbnQoZXZlbnREYXRhKTsKICAgIH0sCgogICAgZ2V0UGFnaW5hdGVkQXJjaGl2ZWRJc3N1ZXMoZmlsdGVycywgc29ydEZpZWxkLCBzb3J0RGlyZWN0aW9uLCBvZmZzZXQsIGxpbWl0LCBzZWFyY2hRdWVyeSkgewogICAgICBsZXQgY3VycmVudFVzZXJEZXRhaWxzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVudFVzZXJEZXRhaWxzIikpOwogICAgICBsZXQgcmVxdWVzdE9iaiA9IHsKICAgICAgICBzZWFyY2hRdWVyeTogc2VhcmNoUXVlcnksCiAgICAgICAgLy8gc2VhcmNoQ29sdW1uczogc2VhcmNoQ29sdW1ucywKICAgICAgICBmaWx0ZXJzOiBmaWx0ZXJzLAogICAgICAgIHNvcnRGaWVsZDogc29ydEZpZWxkLAogICAgICAgIHNvcnREaXJlY3Rpb246IHNvcnREaXJlY3Rpb24sCiAgICAgICAgb2Zmc2V0OiBvZmZzZXQsCiAgICAgICAgbGltaXQ6IGxpbWl0LAogICAgICAgIHRlbmFudFVVSUQ6IGN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLm9yZ2FuaXphdGlvbklkLAogICAgICAgIGZpZWxkTmFtZXM6IHRoaXMuZmllbGROYW1lcwogICAgICB9OwogICAgICBJbnNwZWN0aW9uU2VydmljZS5nZXRQYWdpbmF0ZWRBcmNoaXZlZElzc3Vlc0ZvclNEVChyZXF1ZXN0T2JqKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgIHJlc3BvbnNlLmRhdGEuaXNzdWVSZXBvcnRpbmdzLm9mZnNldCA9IG9mZnNldDsKICAgICAgICAgIGxldCBpc3N1ZXMgPSByZXNwb25zZS5kYXRhLmlzc3VlUmVwb3J0aW5ncy5jb250ZW50OwogICAgICAgICAgdGhpcy5maWx0ZXJDb3VudCA9IHJlc3BvbnNlLmRhdGEuaXNzdWVSZXBvcnRpbmdzLnRvdGFsRWxlbWVudHM7CgogICAgICAgICAgaWYgKGlzc3Vlcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgdGhpcy5sb2FkU0RUKHJlc3BvbnNlLCBpc3N1ZXMpOwogICAgICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChpc3N1ZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIHRoaXMuY291bnRPZlRvdGFsSXNzdWVzID0gcmVzcG9uc2UuZGF0YS5pc3N1ZVJlcG9ydGluZ3MudG90YWxFbGVtZW50czsKICAgICAgICAgICAgdGhpcy5pc3N1ZXMgPSBpc3N1ZXM7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpc3N1ZXMubWFwKGlzc3VlID0+IHsKICAgICAgICAgICAgICBpZiAoaXNzdWUucmVzb2x2ZWQgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIGlzc3VlLnJlc29sdmVkID0gIlllcyI7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlzc3VlLnJlc29sdmVkID0gIk5vIjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmIChpc3N1ZS5saW5rZWQgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIGlzc3VlLmxpbmtlZCA9ICJZZXMiOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpc3N1ZS5saW5rZWQgPSAiTm8iOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKCFpc3N1ZS53b3JrT3JkZXJBc3NpZ25lZCkgewogICAgICAgICAgICAgICAgaXNzdWUud29ya09yZGVyTnVtYmVyID0gIk5vdCBBc3NpZ25lZCI7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAoaXNzdWUud29ya09yZGVyQXNzaWduZWQgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIGlzc3VlLndvcmtPcmRlckFzc2lnbmVkID0gIlllcyI7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlzc3VlLndvcmtPcmRlckFzc2lnbmVkID0gIk5vIjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlzc3VlLnJlcG9ydGVkQXQgPSBtb21lbnQudXRjKGlzc3VlLnJlcG9ydGVkQXQpLmxvY2FsKCkuZm9ybWF0KCdERC9NTS9ZWVlZIGhoOm1tIGEnKTsKICAgICAgICAgICAgICBpc3N1ZS5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgaXNzdWVzLnRpdGxlID0gaXNzdWVzLnRpdGxlID8gaXNzdWUudGl0bGUgOiBpc3N1ZS5pc3N1ZU5hbWU7CgogICAgICAgICAgICAgIGlmICghaXNzdWUudGl0bGUpIHsKICAgICAgICAgICAgICAgIGlzc3VlLnRpdGxlID0gaXNzdWUuaXNzdWVEZXNjcmlwdGlvbjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIHJlc3BvbnNlLmRhdGEuaXNzdWVSZXBvcnRpbmdzLm9mZnNldCA9IG9mZnNldCArIDE7CiAgICAgICAgICB0aGlzLmxvYWRTRFQocmVzcG9uc2UsIGlzc3Vlcyk7CiAgICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuaXNzdWVzID0gaXNzdWVzOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJGVtaXQoInNob3dUb2FzdCIsICJFcnJvciB3aGlsZSBnZXR0aW5nIGlzc3Vlcy5QbGVhc2UgdHJ5IGFnYWluIiwgImVycm9yIik7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgdGhpcy5sb2FkZXJGbGFnID0gZmFsc2U7CgogICAgICAgIGlmIChlcnJvci5yZXNwb25zZSAhPT0gdW5kZWZpbmVkICYmIGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA2KSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCJzaG93VG9hc3QiLCBlcnJvci5yZXNwb25zZS5kYXRhLmRlc2NyaXB0aW9uLCAiZXJyb3IiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zaG93VG9hc3QoIkFuIEVycm9yIG9jY3VycmVkIHdoaWxlIGdldHRpbmcgSXNzdWVzLiBQbGVhc2UgdHJ5IGFnYWluLiIsICJlcnJvciIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIGdldEFjdGlvbnNPcHRpb24odmFsKSB7CiAgICAgIGlmICh2YWwudmFsdWUgPT0gIlZpZXciKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogImlzc3VlLWRldGFpbCIsCiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgaXNzdWVJRDogdmFsLnJvdy51dWlkLAogICAgICAgICAgICBmbGFnOiB0cnVlCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICh2YWwudmFsdWUgPT0gIkRlbGV0ZSIpIHsKICAgICAgICB0aGlzLmlzc3VlSUQgPSB2YWwucm93LnV1aWQ7CiAgICAgICAgdGhpcy5kZWxldGVJc3N1ZURpYWxvZyA9IHRydWU7CiAgICAgIH0KCiAgICAgIGlmICh2YWwudmFsdWUgPT0gIlJlc3RvcmUiKSB7CiAgICAgICAgdGhpcy5pc3N1ZSA9IHZhbC5yb3cudXVpZDsKICAgICAgICB0aGlzLnJlc3RvcmVJc3N1ZURpYWxvZyA9IHRydWU7CiAgICAgIH0KICAgIH0sCgogICAgZ2V0RG93bmxvYWRBc09wdGlvbihvcHQpIHsKICAgICAgaWYgKG9wdC5vcHRpb24gPT0gInBkZiIpIHsvLyBub3RpZmljYXRpb25BbmRDb21tdW5pY2F0aW9uU2VydmljZS5kb3dubG9hZFNlbGVjdGVkUERGKG9iaikKICAgICAgICAvLyAudGhlbigocmVzKSA9PiB7CiAgICAgICAgLy8gLy8gY29uc29sZS5sb2cocmVzKQogICAgICAgIC8vIGxldCBmaWxlQ29udGVudHMgPSBudWxsOwogICAgICAgIC8vICAgICBsZXQgcG9wdXBXaW49bnVsbDsKICAgICAgICAvLyAgICAgcG9wdXBXaW4gPSB3aW5kb3cub3BlbignJywgJ19ibGFuaycsICd0b3A9MCxsZWZ0PTAsaGVpZ2h0PTcwMCx3aWR0aD0xMDAwOycpOwogICAgICAgIC8vICAgICBsZXQgZG9jdW1lbnQgPSB7CiAgICAgICAgLy8gICAgICAgICAnZG9jdW1lbnROYW1lJzogJ0JpbGxpbmcnCiAgICAgICAgLy8gICAgIH07CiAgICAgICAgLy8gZmlsZUNvbnRlbnRzID0gcmVzLmRhdGEudHlwZSArIHJlcy5kYXRhLmNvbnRlbnQ7CiAgICAgICAgLy8gICBwb3B1cFdpbi5kb2N1bWVudC53cml0ZShgCiAgICAgICAgLy8gICAgIDxodG1sPgogICAgICAgIC8vICAgICAgICAgPGhlYWQ+CiAgICAgICAgLy8gICAgICAgICAgPCEtLXRpdGxlPlByaW50IHRhYjwvdGl0bGUtLT4KICAgICAgICAvLyAgICAgICAgICAgICA8c3R5bGU+CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICNidXR0b25ze2Rpc3BsYXk6bm9uZTt9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICBib2R5IHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAiT3BlbiBTYW5zIiwgLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAiU2Vnb2UgVUkiLCBFdWNsaWQgQ2lyY3VsYXIgQiwgIkhlbHZldGljYSBOZXVlIiwgQXJpYWwsIHNhbnMtc2VyaWYsICJBcHBsZSBDb2xvciBFbW9qaSIsICJTZWdvZSBVSSBFbW9qaSIsICJTZWdvZSBVSSBTeW1ib2wiOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzIxMjUyOTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGJ1dHRvbiwgbWV0ZXIsIHByb2dyZXNzIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIC13ZWJraXQtd3JpdGluZy1tb2RlOiBob3Jpem9udGFsLXRiICFpbXBvcnRhbnQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QsIGJ1dHRvbiB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0ZXh0LXJlbmRlcmluZzogYXV0bzsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBpbml0aWFsOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IG5vcm1hbDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHdvcmQtc3BhY2luZzogbm9ybWFsOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IG5vbmU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0ZXh0LWluZGVudDogMHB4OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGV4dC1zaGFkb3c6IG5vbmU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBzdGFydDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMGVtOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZm9udDogNDAwIDEzLjMzMzNweCBBcmlhbDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICBpbnB1dFt0eXBlPSJidXR0b24iIGldLCBpbnB1dFt0eXBlPSJzdWJtaXQiIGldLCBpbnB1dFt0eXBlPSJyZXNldCIgaV0sIGlucHV0W3R5cGU9ImZpbGUiIGldOjotd2Via2l0LWZpbGUtdXBsb2FkLWJ1dHRvbiwgYnV0dG9uIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBkZWZhdWx0OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGJ1dHRvbnRleHQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBidXR0b25mYWNlOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDJweCA2cHggM3B4OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXdpZHRoOiAycHg7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBib3JkZXItc3R5bGU6IG91dHNldDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogYnV0dG9uZmFjZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1pbWFnZTogaW5pdGlhbDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICBpbnB1dCwgYnV0dG9uLCBzZWxlY3QsIG9wdGdyb3VwLCB0ZXh0YXJlYSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogaW5oZXJpdDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiBpbmhlcml0OwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGJ1dHRvbiwgc2VsZWN0IHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiBub25lOwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC5idG4gewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMC4zNzVyZW0gMC43NXJlbTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwLjI1cmVtOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjE1cyBlYXNlLWluLW91dCwgYm9yZGVyLWNvbG9yIDAuMTVzIGVhc2UtaW4tb3V0LCBib3gtc2hhZG93IDAuMTVzIGVhc2UtaW4tb3V0OwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC5idG4tb3V0bGluZS1wcmltYXJ5IHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjMDA3YmZmOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiBub25lOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjMDA3YmZmOwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC5idG4tb3V0bGluZS1wcmltYXJ5IHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjZDAzMjMyOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2QwMzIzMjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICA8c3R5bGU+LmZhIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IG5vcm1hbCBub3JtYWwgbm9ybWFsIDE0cHgvMSBGb250QXdlc29tZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRleHQtcmVuZGVyaW5nOiBhdXRvOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlOwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9PC9zdHlsZT4KICAgICAgICAvLyAgICAgICAgICAgICAgICAgPHN0eWxlPiosICo6OmJlZm9yZSwgKjo6YWZ0ZXIgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICBTdHlsZSBBdHRyaWJ1dGUgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC5idG4sIC5mb3JtLWNvbnRyb2wgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMC4yNXJlbSAwLjVyZW07CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuODc1cmVtOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDAuM3JlbTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMTVweDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMjNweDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfTwvc3R5bGU+CiAgICAgICAgLy8gICAgICAgICAgICAgPC9zdHlsZT4KICAgICAgICAvLyAgICAgICAgIDwvaGVhZD4KICAgICAgICAvLyAgICAgICAgIDxib2R5IG9ubG9hZD0iIj4KICAgICAgICAvLyAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOnJpZ2h0OyIgPgogICAgICAgIC8vICAgICAgICAgICAgICAgICA8YSBocmVmPSIke2ZpbGVDb250ZW50c30iIGRvd25sb2FkPSIke2RvY3VtZW50LmRvY3VtZW50TmFtZX0iPjxidXR0b24gY2xhc3M9ImJ0biBidG4tc20gYnRuLW91dGxpbmUtcHJpbWFyeSI+RG93bmxvYWQ8L2J1dHRvbj48L2E+CiAgICAgICAgLy8gICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgLy8gICAgICAgICAgICAgPGJyPgogICAgICAgIC8vICAgICAgICAgICAgIDxpZnJhbWUgc3JjPScke2ZpbGVDb250ZW50c30nICBzdHlsZT0ibWluLXdpZHRoOiAxMDAlO2hlaWdodDogMTAwJTsiID48L2lmcmFtZT4KICAgICAgICAvLyAgICAgICAgIDwvYm9keT4KICAgICAgICAvLyAgICAgPC9odG1sPmAKICAgICAgICAvLyApOwogICAgICAgIC8vIH0pCiAgICAgICAgLy8gLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpOwogICAgICB9IGVsc2UgaWYgKG9wdC5vcHRpb24gPT0gImNzdiIpIHsvLyAJbGV0IGZpbGVUaXRsZSA9ICdCaWxsaW5ncyc7CiAgICAgICAgLy8gCWxldCBoZWFkZXJzID0gewogICAgICAgIC8vICAgICAgIGNyZWF0ZWREYXRlOiAnUmVxdWVzdGVkIE9uJy5yZXBsYWNlKC8sL2csICcnKSwgLy8gcmVtb3ZlIGNvbW1hcyB0byBhdm9pZCBlcnJvcnMKICAgICAgICAvLyAgICAgICBkdWVEYXRlOiAiRHVlIERhdGUiLAogICAgICAgIC8vICAgICAgIHNoaXBtZW50TnVtYmVyOiAiU2hpcG1lbnQgIyIsCiAgICAgICAgLy8gCQkgIHBvcnRPZkxvYWRpbmc6ICJQb3J0IG9mIExvYWQiLAogICAgICAgIC8vIAkJICBwb3J0T2ZEaXNjaGFyZ2U6ICJQb3J0IE9mIERpc2NoYXJnZSIsCiAgICAgICAgLy8gCQkgIGFtb3VudDogIkFtb3VudCIsCiAgICAgICAgLy8gCQkgIGJhbGFuY2U6ICJCYWxhbmNlIiwKICAgICAgICAvLyAJCSAgbmV0c3VpdGVTdGF0dXM6ICJTdGF0dXMiCiAgICAgICAgLy8gCX07CiAgICAgICAgLy8gCWxldCBkYXRhT2JqID0gW107CiAgICAgICAgLy8gCWZvciAobGV0IGkgPSAwOyBpIDwgb3B0LnJvd3MubGVuZ3RoOyBpKyspIHsKICAgICAgICAvLyAJCWNvbnN0IGJpbGwgPSBvcHQucm93c1tpXTsKICAgICAgICAvLyAJCWRhdGFPYmoucHVzaCh7CiAgICAgICAgLy8gCQkJY3JlYXRlZERhdGU6IGJpbGwuY3JlYXRlZERhdGUsCiAgICAgICAgLy8gCQkJZHVlRGF0ZTogYmlsbC5kdWVEYXRlLAogICAgICAgIC8vIAkJCXNoaXBtZW50TnVtYmVyOiBiaWxsLnNoaXBtZW50TnVtYmVyLAogICAgICAgIC8vIAkJCXBvcnRPZkxvYWRpbmc6IGJpbGwucG9ydE9mTG9hZGluZywKICAgICAgICAvLyAJCQlwb3J0T2ZEaXNjaGFyZ2U6IGJpbGwucG9ydE9mRGlzY2hhcmdlLAogICAgICAgIC8vIAkJCWFtb3VudDogYmlsbC5hbW91bnQsCiAgICAgICAgLy8gCQkJYmFsYW5jZTogYmlsbC5iYWxhbmNlLAogICAgICAgIC8vIAkJCW5ldHN1aXRlU3RhdHVzOiBiaWxsLm5ldHN1aXRlU3RhdHVzCiAgICAgICAgLy8gCQl9KTsKICAgICAgICAvLyAJfQogICAgICAgIC8vIAl0aGlzLmV4cG9ydENTVkZpbGUoaGVhZGVycywgZGF0YU9iaiwgZmlsZVRpdGxlKTsKICAgICAgfQogICAgfSwKCiAgICBleHBvcnRDU1ZGaWxlKGhlYWRlcnMsIGJpbGxpbmdEYXRhLCBmaWxlVGl0bGUpIHsvLyBpZiAoaGVhZGVycykgewogICAgICAvLyAgICAgYmlsbGluZ0RhdGEudW5zaGlmdChoZWFkZXJzKTsKICAgICAgLy8gfQogICAgICAvLyAvLyBDb252ZXJ0IE9iamVjdCB0byBKU09OCiAgICAgIC8vIHZhciBqc29uT2JqZWN0ID0gSlNPTi5zdHJpbmdpZnkoYmlsbGluZ0RhdGEpOwogICAgICAvLyB2YXIgY3N2ID0gdGhpcy5jb252ZXJ0VG9DU1YoanNvbk9iamVjdCk7CiAgICAgIC8vIHZhciBleHBvcnRlZEZpbGVubWFlID0gZmlsZVRpdGxlICsgJy5jc3YnIHx8ICdleHBvcnQuY3N2JzsKICAgICAgLy8gdmFyIGJsb2IgPSBuZXcgQmxvYihbY3N2XSwgeyB0eXBlOiAndGV4dC9jc3Y7Y2hhcnNldD11dGYtODsnIH0pOwogICAgICAvLyBpZiAobmF2aWdhdG9yLm1zU2F2ZUJsb2IpIHsgLy8gSUUgMTArCiAgICAgIC8vICAgICBuYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCBleHBvcnRlZEZpbGVubWFlKTsKICAgICAgLy8gfSBlbHNlIHsKICAgICAgLy8gICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAvLyAgICAgaWYgKGxpbmsuZG93bmxvYWQgIT09IHVuZGVmaW5lZCkgeyAvLyBmZWF0dXJlIGRldGVjdGlvbgogICAgICAvLyAgICAgICAgIC8vIEJyb3dzZXJzIHRoYXQgc3VwcG9ydCBIVE1MNSBkb3dubG9hZCBhdHRyaWJ1dGUKICAgICAgLy8gICAgICAgICB2YXIgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgLy8gICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgiaHJlZiIsIHVybCk7CiAgICAgIC8vICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoImRvd25sb2FkIiwgZXhwb3J0ZWRGaWxlbm1hZSk7CiAgICAgIC8vICAgICAgICAgbGluay5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7CiAgICAgIC8vICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTsKICAgICAgLy8gICAgICAgICBsaW5rLmNsaWNrKCk7CiAgICAgIC8vICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTsKICAgICAgLy8gICAgIH0KICAgICAgLy8gfQogICAgfSwKCiAgICBjb252ZXJ0VG9DU1Yob2JqQXJyYXkpIHsKICAgICAgdmFyIGFycmF5ID0gdHlwZW9mIG9iakFycmF5ICE9ICJvYmplY3QiID8gSlNPTi5wYXJzZShvYmpBcnJheSkgOiBvYmpBcnJheTsKICAgICAgdmFyIHN0ciA9ICIiOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBsaW5lID0gIiI7CgogICAgICAgIGZvciAodmFyIGluZGV4IGluIGFycmF5W2ldKSB7CiAgICAgICAgICBpZiAobGluZSAhPSAiIikgbGluZSArPSAiLCI7CiAgICAgICAgICBsaW5lICs9IGFycmF5W2ldW2luZGV4XTsKICAgICAgICB9CgogICAgICAgIHN0ciArPSBsaW5lICsgIlxyXG4iOwogICAgICB9CgogICAgICByZXR1cm4gc3RyOwogICAgfSwKCiAgICBzZXRUYWJsZUNvbmZpZ3MoKSB7CiAgICAgIHRoaXMucGFyZW50RGVmYXVsdFN5c3RlbVZpZXcuZGVmYXVsdFRhYmxlLmRlbnNpdHkgPSB0aGlzLnRhYmxlQ29uZmlnLmRlbnNpdHk7CiAgICAgIHRoaXMucGFyZW50RGVmYXVsdFN5c3RlbVZpZXcuZGVmYXVsdFRhYmxlLnBhZ2VTaXplID0gdGhpcy50YWJsZUNvbmZpZy5wYWdlU2l6ZTsKICAgICAgdGhpcy5wYXJlbnREZWZhdWx0U3lzdGVtVmlldy5kZWZhdWx0VGFibGUucGFnZU5hbWUgPSB0aGlzLnRhYmxlQ29uZmlnLnBhZ2VOYW1lOwogICAgICB0aGlzLnBhcmVudERlZmF1bHRTeXN0ZW1WaWV3LmRlZmF1bHRUYWJsZS5zb3J0RmllbGQgPSB0aGlzLnRhYmxlQ29uZmlnLnNvcnRGaWVsZDsKICAgICAgdGhpcy5wYXJlbnREZWZhdWx0U3lzdGVtVmlldy5kZWZhdWx0VGFibGUuc29ydERpcmVjdGlvbiA9IHRoaXMudGFibGVDb25maWcuc29ydERpcmVjdGlvbjsKICAgICAgdGhpcy5wYXJlbnREZWZhdWx0U3lzdGVtVmlldy5kZWZhdWx0VGFibGUuY29sdW1ucyA9IHRoaXMudGFibGVDb25maWcuY29sdW1uczsKICAgIH0sCgogICAgZXh0cmFjdEZpZWxkTmFtZXNGb3JTZWFyY2hRdWVyeShjb25maWcpIHsKICAgICAgZm9yIChsZXQgY29sdW1uIG9mIGNvbmZpZy5jb2x1bW5zKSB7CiAgICAgICAgdGhpcy5maWVsZE5hbWVzLnB1c2goY29sdW1uLmZpZWxkTmFtZSk7CiAgICAgIH0KICAgIH0sCgogICAgLy8gU0RUIGZ1bmN0aW9ucyBlbmQgaGVyZQogICAgY2FuY2VsKCkgewogICAgICB0aGlzLnNob3dDcmVhdGVPcmRlciA9IGZhbHNlOwogICAgICB0aGlzLmV4aXN0aW5nID0gZmFsc2U7CiAgICB9LAoKICAgIGNsb3NlTW9kYWwoKSB7CiAgICAgIHRoaXMuc2hvd0NyZWF0ZU9yZGVyID0gZmFsc2U7CiAgICAgIHRoaXMuZXhpc3RpbmcgPSBmYWxzZTsKICAgIH0sCgogICAgc2V0U3RhdGljQ29sdW1uKCkgewogICAgICBsZXQgc3RhdGljQ29sID0gdGhpcy50YWJsZUNvbmZpZy5jb2x1bW5zLmZpbHRlcihjb2wgPT4gY29sLmxhYmVsTmFtZSA9PSAiSXNzdWUgTnVtYmVyIilbMF07CiAgICAgIHRoaXMucGFyZW50U3lzdGVtU2V0dGluZ3Muc3RhdGljQ29sdW1ucy5wdXNoKHN0YXRpY0NvbCk7CiAgICB9CgogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICBkb2N1bWVudC50aXRsZSA9IHRoaXMuJHJvdXRlLm1ldGEudGl0bGU7CiAgICBsZXQgY3VycmVudFVzZXJEZXRhaWxzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVudFVzZXJEZXRhaWxzIikpOwogICAgdGhpcy5jdXJyZW50VXNlckRldGFpbHMgPSBjdXJyZW50VXNlckRldGFpbHM7IC8vIHNlbmRpbmcgb25seSBmaXJzdCBhbmQgbGFzdCBuYW1lIGZvciBTRFQKCiAgICBsZXQgbmFtZSA9IGN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLnVzZXJuYW1lOwoKICAgIGlmIChuYW1lLmluY2x1ZGVzKCJAIikpIHsKICAgICAgbmFtZSA9IG5hbWUuc3BsaXQoIkAiKTsKICAgICAgbmFtZSA9IG5hbWVbMF07CiAgICB9CgogICAgdGhpcy5wYXJlbnRTeXN0ZW1TZXR0aW5ncy51c2VyID0gbmFtZTsKCiAgICBpZiAoY3VycmVudFVzZXJEZXRhaWxzID09PSBudWxsKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJmb3JjZVNpZ25vdXQiLCAieWVzIik7CiAgICAgIHJldHVybjsKICAgIH0gLy8gZmV0Y2hpbmcgY29uZmlncwoKCiAgICBsZXQgdXVpZCA9IGN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLm9yZ2FuaXphdGlvbklkOwogICAgYXNzZXRQZXJzb25uZWxTZXJ2aWNlLmdldE9yZ0NvbmZpZ3ModXVpZCwgInRhYmxlQ29uZmlncyIpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQogICAgICBsZXQgYWxsQ29uZmlncyA9IEpTT04ucGFyc2UocmVzcG9uc2UuZGF0YS50YWJsZUNvbmZpZ3MpOwogICAgICBhbGxDb25maWdzID0gYWxsQ29uZmlncy5maWx0ZXIoZGF0YSA9PiBkYXRhLnBhZ2VOYW1lID09PSAiYXJjaGl2ZWRJc3N1ZXNTRFQiKVswXTsKICAgICAgdGhpcy50YWJsZUNvbmZpZyA9IGFsbENvbmZpZ3M7CiAgICAgIHRoaXMuZXh0cmFjdEZpZWxkTmFtZXNGb3JTZWFyY2hRdWVyeSh0aGlzLnRhYmxlQ29uZmlnKTsKICAgICAgdGhpcy5zZXRTdGF0aWNDb2x1bW4oKTsKICAgICAgdGhpcy5zZXRUYWJsZUNvbmZpZ3MoKTsKICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgdGhpcy4kZW1pdCgic2hvd1RvYXN0IiwgImVycm9yLmRhdGEucmVzcG9uc2UiLCAiZXJyb3IiKTsKICAgIH0pOwogIH0sCgogIHByb3BzOiB7CiAgICBhbGxDb25maWdzOiB7fSwKICAgIHNob3dUb2FzdDogewogICAgICB0eXBlOiBGdW5jdGlvbgogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNzc1ZhcnMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgIi0tdGgtcHJpbWFyeSI6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInRoZW1lQ29uZmlncyIpKS5wcmltYXJ5LAogICAgICAgICItLXRoLXByaW1hcnlUZXh0IjogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidGhlbWVDb25maWdzIikpLnByaW1hcnlUZXh0LAogICAgICAgICItLXRoLXNlY29uZGFyeSI6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInRoZW1lQ29uZmlncyIpKS5zZWNvbmRhcnksCiAgICAgICAgIi0tdGgtc2Vjb25kYXJ5VGV4dCI6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInRoZW1lQ29uZmlncyIpKS5zZWNvbmRhcnlUZXh0LAogICAgICAgICItLXRoLWZvbmQtZmFtaWx5IjogIkhlZWJvIgogICAgICB9OwogICAgfSwKCiAgICBxQnRuU3R5bGUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgYmFja2dyb3VuZDogInZhcigtLXRoLXNlY29uZGFyeSkiLAogICAgICAgIGNvbG9yOiAidmFyKC0tdGgtc2Vjb25kYXJ5VGV4dCkiLAogICAgICAgICJ0ZXh0LXRyYW5zZm9ybSI6ICJpbml0aWFsIiwKICAgICAgICAvLyAid2lkdGgiOiIxMDAlIiwKICAgICAgICBmbG9hdDogInJpZ2h0IgogICAgICB9OwogICAgfQoKICB9LAogIHZhbGlkYXRpb25zOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICB3b3JrT3JkZXJOdW1iZXI6IHsKICAgICAgICByZXF1aXJlZAogICAgICB9CiAgICB9OwogIH0KfTs="},null]}
{"remainingRequest":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/babel-loader/lib/index.js!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/components/InspectionItems.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/components/InspectionItems.vue","mtime":1661968702404},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/babel.config.js","mtime":1661968702388},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEluc3BlY3Rpb25TZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL0luc3BlY3Rpb25TZXJ2aWNlIjsKaW1wb3J0IFdvcmtPcmRlclNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvV29ya09yZGVyU2VydmljZSI7CmltcG9ydCBDcmVhdGVJc3N1ZSBmcm9tICIuLi9jb21wb25lbnRzL0NyZWF0ZUlzc3VlIjsKaW1wb3J0IEV4aXN0aW5nSXNzdWUgZnJvbSAiLi4vY29tcG9uZW50cy9FeGlzdGluZ0lzc3VlIjsKaW1wb3J0IElnbm9yZUluc3BlY3Rpb25JdGVtcyBmcm9tICIuLi92aWV3cy9pbnNwZWN0aW9uL2NvbXBvbmVudHMvSWdub3JlSW5zcGVjdGlvbkl0ZW1zIjsKaW1wb3J0IGxvYWRlciBmcm9tICIuL0xvYWRlci52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkluc3BlY3Rpb25JdGVtIiwKICBjb21wb25lbnRzOiB7CiAgICBDcmVhdGVJc3N1ZSwKICAgIEV4aXN0aW5nSXNzdWUsCiAgICBJZ25vcmVJbnNwZWN0aW9uSXRlbXMsCiAgICBsb2FkZXIKICB9LAogIHByb3BzOiB7CiAgICBpbnNwZWN0aW9uUmVwb3J0SXRlbToge30sCiAgICBpbWFnZVZvaWNlczoge30sCiAgICBhc3NldFVVSUQ6IHt9LAogICAgc2hvd1RvYXN0OiB7fSwKICAgIHdvcmtPcmRlcjoge30sCiAgICBzZXRMb2FkaW5nOiB7fSwKICAgIHR5cGU6IHt9CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1heGltdW1JbWFnZTogMiwKICAgICAgaGlkZUFkZEljb246IHRydWUsCiAgICAgIGl0ZW1JbWFnZXM6IFtdLAogICAgICBpbWFnZUluZGV4OiAwLAogICAgICBsb2FkZXJGbGFnOiBmYWxzZSwKICAgICAgaW1hZ2VzUHJlc2VudDogZmFsc2UsCiAgICAgIGN1cnJlbnRVc2VyRGV0YWlsczogIiIsCiAgICAgIGRpc2FibGVBY3Rpb25zOiB0cnVlLAogICAgICBsb2NhdGlvbkRpYWxvZzogZmFsc2UsCiAgICAgIGZhaWxlZE9ubHk6IGZhbHNlLAogICAgICBmaWx0ZXJMYWJlbDogImFsbCIsCiAgICAgIGZpbHRlck9wdGlvbnM6IFt7CiAgICAgICAgbGFiZWw6ICJBbGwiLAogICAgICAgIHZhbHVlOiAiYWxsIgogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICJJbWFnZSBPbmx5IiwKICAgICAgICB2YWx1ZTogImltYWdlIgogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICJDb21tZW50cyBPbmx5IiwKICAgICAgICB2YWx1ZTogImNvbW1lbnRzIgogICAgICB9XSwKICAgICAgcmVzZXRJbWFnZXM6IDAsCiAgICAgIGluc3BlY3Rpb25JdGVtczogbnVsbCwKICAgICAgZmlsdGVySW5kZXg6IDAsCiAgICAgIGNyZWF0ZUlzc3VlOiBmYWxzZSwKICAgICAgbWVyZ2VJc3N1ZTogZmFsc2UsCiAgICAgIGlnbm9yZU5ld0lzc3VlOiBmYWxzZSwKICAgICAgaXNzdWVzT3B0aW9uOiBbXSwKICAgICAgc2VydmljZVJlcXVlc3Q6ICIiLAogICAgICBpc3N1ZXM6ICIiLAogICAgICBzZWxlY3RlZEluc3BlY3Rpb25JdG06IFtdLAogICAgICBpbnNwZWN0aW9uQXNzZXRVVUlEOiAiIiwKICAgICAgbW9kZWw6ICIiLAogICAgICBpbnNwZWN0aW9udXVpZDogIiIsCiAgICAgIHN0YXR1czogIiIsCiAgICAgIGluc3BlY3Rpb25EZXRhaWw6ICIiLAogICAgICBkaWFsb2dJbWFnZTogIiIsCiAgICAgIHNvdXJjZTogW3sKICAgICAgICBuYW1lOiAiQ3JlYXRlIElzc3VlIiwKICAgICAgICB2YWx1ZTogIkNyZWF0ZSBJc3N1ZSIKICAgICAgfSwgewogICAgICAgIG5hbWU6ICJJZ25vcmUgUmVxdWVzdCIsCiAgICAgICAgdmFsdWU6ICJJZ25vcmUgUmVxdWVzdCIKICAgICAgfSwgewogICAgICAgIG5hbWU6ICJBZGQgdG8gRXhpc3RpbmcgSXNzdWUiLAogICAgICAgIHZhbHVlOiAiQWRkIHRvIEV4aXN0aW5nIElzc3VlIgogICAgICB9LCB7CiAgICAgICAgbmFtZTogIlJlc3RvcmUgSXRlbXMiLAogICAgICAgIHZhbHVlOiAiUmVzdG9yZSBJdGVtcyIKICAgICAgfV0sCiAgICAgIEluc3BlY3Rpb25JdGVtSW1hZ2U6IFtdLAogICAgICBuZXdBcnJJbWc6IFtdLAogICAgICBjaGVja0FjYzogZmFsc2UKICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgc2hvd0FsbEltYWdlcygpIHsKICAgICAgdGhpcy5oaWRlQWRkSWNvbiA9IGZhbHNlOwogICAgICB0aGlzLm1heGltdW1JbWFnZSA9IHRoaXMuaXRlbUltYWdlcy5sZW5ndGggLSAxOwogICAgfSwKCiAgICBjbG9zZSgpIHsKICAgICAgdGhpcy5sb2NhdGlvbkRpYWxvZyA9IGZhbHNlOwogICAgfSwKCiAgICBjbG9zZUlnbm9yZUlzc3VlKCkgewogICAgICB0aGlzLmlnbm9yZU5ld0lzc3VlID0gZmFsc2U7CiAgICB9LAoKICAgIGlnbm9yZVJlcXVlc3QodmFsdWUpIHsKICAgICAgbGV0IGlnbm9yZUNvbW1lbnRzRmllbGQgPSB2YWx1ZTsKCiAgICAgIGlmICghaWdub3JlQ29tbWVudHNGaWVsZC52YWx1ZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgbGV0IHVwZGF0ZUlzc3VlUmVxdWVzdCA9IHsKICAgICAgICBpbnNwZWN0aW9uSXRlbXNVVUlEOiBbXSwKICAgICAgICB1c2VybmFtZTogdGhpcy5jdXJyZW50VXNlckRldGFpbHMucHJvZmlsZS51c2VybmFtZSwKICAgICAgICBpZ25vcmVDb21tZW50czogdmFsdWUudmFsdWUsCiAgICAgICAgdHlwZTogImlnbm9yZSIKICAgICAgfTsKICAgICAgdGhpcy4kZW1pdCgic2V0TG9hZGluZyIsIHRydWUpOwoKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJbnNwZWN0aW9uSXRtICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5zZWxlY3RlZEluc3BlY3Rpb25JdG0ubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5zZWxlY3RlZEluc3BlY3Rpb25JdG1baW5kZXhdLmluc3BlY3Rpb25SZXBvcnRGaWVsZHNbMF0udXVpZDsKICAgICAgICAgIHVwZGF0ZUlzc3VlUmVxdWVzdC5pbnNwZWN0aW9uSXRlbXNVVUlELnB1c2goZWxlbWVudCk7CiAgICAgICAgfQogICAgICB9IC8vIHJldHVybjsKCgogICAgICB0aGlzLmNsb3NlSWdub3JlSXNzdWUoKTsKICAgICAgSW5zcGVjdGlvblNlcnZpY2UuaWdub3JlSW5zcGVjdGlvbkl0ZW1zKHVwZGF0ZUlzc3VlUmVxdWVzdCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCJzaG93VG9hc3QiLCAiIElnbm9yZWQgSXRlbXMgc3VjY2Vzc2Z1bGx5ISIsICJzdWNjZXNzIik7IC8vIHRoaXMuJHJvdXRlci5nbyh7CiAgICAgICAgICAgIC8vICAgbmFtZTogImluc3BlY3Rpb24tZGV0YWlscyIsCiAgICAgICAgICAgIC8vICAgcGFyYW1zOiB7CiAgICAgICAgICAgIC8vICAgICBpbnNwZWN0aW9uVVVJRDogdGhpcy5pbnNwZWN0aW9udXVpZCwKICAgICAgICAgICAgLy8gICB9LAogICAgICAgICAgICAvLyB9KTsKCiAgICAgICAgICAgIHRoaXMuJGVtaXQoInNldExvYWRpbmciLCBmYWxzZSk7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoInVwZGF0ZUluc3BlY3Rpb25JdGVtcyIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgic2V0TG9hZGluZyIsIGZhbHNlKTsKICAgICAgICAgICAgdGhpcy4kZW1pdCgic2hvd1RvYXN0IiwgIkVycm9yIHdoaWxlIGlnbm9yaW5nIHNlcnZpY2UgcmVxdWVzdC4gUGxlYXNlIHRyeSBhZ2FpbiIsICJlcnJvciIpOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHRoaXMuJGVtaXQoInNldExvYWRpbmciLCBmYWxzZSk7CiAgICAgICAgICB0aGlzLiRlbWl0KCJzaG93VG9hc3QiLCAiRXJyb3Igd2hpbGUgaWdub3Jpbmcgc2VydmljZSByZXF1ZXN0LiBQbGVhc2UgdHJ5IGFnYWluIiwgImVycm9yIik7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgdGhpcy4kZW1pdCgic2V0TG9hZGluZyIsIGZhbHNlKTsKCiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA2KSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCJzaG93VG9hc3QiLCAiQW4gdW5leHBlY3RlZCBFcnJvciBPY2N1cnJlZC4iLCAiZXJyb3IiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kZW1pdCgic2hvd1RvYXN0IiwgIkFuIHVuZXhwZWN0ZWQgRXJyb3IgT2NjdXJyZWQuIiwgImVycm9yIik7CiAgICAgICAgfQogICAgICB9KS5maW5hbGx5KCgpID0+IHt9KTsKICAgIH0sCgogICAgcmVzdG9yZVJlcXVlc3QoKSB7CiAgICAgIGxldCB1cGRhdGVJc3N1ZVJlcXVlc3QgPSB7CiAgICAgICAgaW5zcGVjdGlvbkl0ZW1zVVVJRDogW10sCiAgICAgICAgdXNlcm5hbWU6IHRoaXMuY3VycmVudFVzZXJEZXRhaWxzLnByb2ZpbGUudXNlcm5hbWUsCiAgICAgICAgaWdub3JlQ29tbWVudHM6ICIiLAogICAgICAgIHR5cGU6ICIiCiAgICAgIH07CiAgICAgIHRoaXMuJGVtaXQoInNldExvYWRpbmciLCB0cnVlKTsKCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5zcGVjdGlvbkl0bSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuc2VsZWN0ZWRJbnNwZWN0aW9uSXRtLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuc2VsZWN0ZWRJbnNwZWN0aW9uSXRtW2luZGV4XS5pbnNwZWN0aW9uUmVwb3J0RmllbGRzWzBdLnV1aWQ7CiAgICAgICAgICB1cGRhdGVJc3N1ZVJlcXVlc3QuaW5zcGVjdGlvbkl0ZW1zVVVJRC5wdXNoKGVsZW1lbnQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgSW5zcGVjdGlvblNlcnZpY2UuaWdub3JlSW5zcGVjdGlvbkl0ZW1zKHVwZGF0ZUlzc3VlUmVxdWVzdCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCJzaG93VG9hc3QiLCAiSXRlbXMgUmVzdG9yZSBzdWNjZXNzZnVsbHkhIiwgInN1Y2Nlc3MiKTsgLy8gdGhpcy4kcm91dGVyLmdvKHsKICAgICAgICAgICAgLy8gICBuYW1lOiAiaW5zcGVjdGlvbi1kZXRhaWxzIiwKICAgICAgICAgICAgLy8gICBwYXJhbXM6IHsKICAgICAgICAgICAgLy8gICAgIGluc3BlY3Rpb25VVUlEOiB0aGlzLmluc3BlY3Rpb251dWlkLAogICAgICAgICAgICAvLyAgIH0sCiAgICAgICAgICAgIC8vIH0pOwoKICAgICAgICAgICAgdGhpcy4kZW1pdCgic2V0TG9hZGluZyIsIGZhbHNlKTsKICAgICAgICAgICAgdGhpcy4kZW1pdCgidXBkYXRlSW5zcGVjdGlvbkl0ZW1zIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRlbWl0KCJzZXRMb2FkaW5nIiwgZmFsc2UpOwogICAgICAgICAgICB0aGlzLiRlbWl0KCJzaG93VG9hc3QiLCAiRXJyb3Igd2hpbGUgaWdub3Jpbmcgc2VydmljZSByZXF1ZXN0LiBQbGVhc2UgdHJ5IGFnYWluIiwgImVycm9yIik7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgdGhpcy4kZW1pdCgic2V0TG9hZGluZyIsIGZhbHNlKTsKICAgICAgICAgIHRoaXMuJGVtaXQoInNob3dUb2FzdCIsICJFcnJvciB3aGlsZSBpZ25vcmluZyBzZXJ2aWNlIHJlcXVlc3QuIFBsZWFzZSB0cnkgYWdhaW4iLCAiZXJyb3IiKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICB0aGlzLiRlbWl0KCJzZXRMb2FkaW5nIiwgZmFsc2UpOwoKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDYpIHsKICAgICAgICAgIHRoaXMuJGVtaXQoInNob3dUb2FzdCIsICJBbiB1bmV4cGVjdGVkIEVycm9yIE9jY3VycmVkLiIsICJlcnJvciIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCJzaG93VG9hc3QiLCAiQW4gdW5leHBlY3RlZCBFcnJvciBPY2N1cnJlZC4iLCAiZXJyb3IiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBvblNlbGVjdGVkKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZS5kaXNwbGF5ID09PSAiQ3JlYXRlIElzc3VlIikgewogICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnNlbGVjdGVkSW5zcGVjdGlvbkl0bS5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLnNlbGVjdGVkSW5zcGVjdGlvbkl0bVtpbmRleF0uaXRlbVN0YXR1czsKICAgICAgICAgIGNvbnN0IGVsZW1lbnQxID0gdGhpcy5zZWxlY3RlZEluc3BlY3Rpb25JdG1baW5kZXhdLmlzc3VlTnVtYmVyOwoKICAgICAgICAgIGlmIChlbGVtZW50ICE9PSAiSWdub3JlIiAmJiBlbGVtZW50MSA9PSBudWxsKSB7CiAgICAgICAgICAgIHRoaXMuY3JlYXRlSXNzdWUgPSB0cnVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgic2hvd1RvYXN0IiwgIlBsZWFzZSBTZWxlY3QgT3RoZXIgSXRlbXMiLCAiZXJyb3IiKTsKICAgICAgICAgIH0gLy8gdGhpcy5jbGlja0FjY29yZGlvbkZ1bmN0aW9uKCk7CgogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh2YWx1ZS5kaXNwbGF5ID09PSAiSWdub3JlIFJlcXVlc3QiKSB7CiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuc2VsZWN0ZWRJbnNwZWN0aW9uSXRtLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuc2VsZWN0ZWRJbnNwZWN0aW9uSXRtW2luZGV4XS5pdGVtU3RhdHVzOwoKICAgICAgICAgIGlmIChlbGVtZW50ICE9PSAiSWdub3JlIikgewogICAgICAgICAgICB0aGlzLmlnbm9yZWRJc3N1ZSgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgic2hvd1RvYXN0IiwgIlBsZWFzZSBTZWxlY3QgdW4taWdub3JlIEl0ZW0iLCAiZXJyb3IiKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodmFsdWUuZGlzcGxheSA9PT0gIkFkZCB0byBFeGlzdGluZyBJc3N1ZSIpIHsKICAgICAgICB0aGlzLmNyZWF0ZUV4aXN0aW5nSXNzdWUoKTsKICAgICAgfSBlbHNlIGlmICh2YWx1ZS5kaXNwbGF5ID09PSAiUmVzdG9yZSBJdGVtcyIpIHsKICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5zZWxlY3RlZEluc3BlY3Rpb25JdG0ubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5zZWxlY3RlZEluc3BlY3Rpb25JdG1baW5kZXhdLml0ZW1TdGF0dXM7CgogICAgICAgICAgaWYgKGVsZW1lbnQgPT09ICJJZ25vcmUiKSB7CiAgICAgICAgICAgIHRoaXMucmVzdG9yZVJlcXVlc3QoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoInNob3dUb2FzdCIsICJQbGVhc2UgU2VsZWN0IElnbm9yZSBJdGVtIiwgImVycm9yIik7IC8vIHRoaXMuJHJvdXRlci5nbyh7CiAgICAgICAgICAgIC8vICAgbmFtZTogImluc3BlY3Rpb24tZGV0YWlscyIsCiAgICAgICAgICAgIC8vICAgcGFyYW1zOiB7CiAgICAgICAgICAgIC8vICAgICBpbnNwZWN0aW9uVVVJRDogdGhpcy5pbnNwZWN0aW9udXVpZCwKICAgICAgICAgICAgLy8gICB9LAogICAgICAgICAgICAvLyB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgaWdub3JlZElzc3VlKCkgewogICAgICB0aGlzLmlnbm9yZU5ld0lzc3VlID0gdHJ1ZTsKICAgIH0sCgogICAgY3JlYXRlRXhpc3RpbmdJc3N1ZSgpIHsKICAgICAgdGhpcy5tZXJnZUlzc3VlID0gdHJ1ZTsKICAgIH0sCgogICAgY2xvc2VkTWVyZ2UoKSB7CiAgICAgIHRoaXMubWVyZ2VJc3N1ZSA9IGZhbHNlOwogICAgfSwKCiAgICBhc3luYyBtZXJnZU5ld0lzc3VlKHZhbHVlKSB7CiAgICAgIHRoaXMubG9hZGVyRmxhZyA9IHRydWU7CgogICAgICBpZiAodGhpcy52YWx1ZSA9PT0gIiIpIHsKICAgICAgICB0aGlzLiRlbWl0KCJzaG93VG9hc3QiLCAiUGxlYXNlIHNlbGVjdCByZXF1aXJlZCBmaWVsZHMiLCAiZXJyb3IiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmV4aXN0aW5nSXNzdWUgPSBmYWxzZTsKICAgICAgICBsZXQgbGlua0lzc3VlUmVxdWVzdCA9IHt9OwogICAgICAgIGxpbmtJc3N1ZVJlcXVlc3QubGlua2VkV2l0aElzc3VlVVVJRCA9IHZhbHVlOwogICAgICAgIGxpbmtJc3N1ZVJlcXVlc3QuaXNzdWVVVUlEID0gdGhpcy5zZXJ2aWNlUmVxdWVzdC51dWlkOwoKICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEluc3BlY3Rpb25JdG0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgbGV0IGluc3BlY3Rpb25JdGVtT2JqID0gewogICAgICAgICAgICBpbnNwZWN0aW9uVVVJRDogdGhpcy5zZWxlY3RlZEluc3BlY3Rpb25JdG0uaW5zcGVjdGlvblVVSUQsCiAgICAgICAgICAgIGluc3BlY3Rpb25SZXBvcnRzRmllbGRzOiBbXQogICAgICAgICAgfTsKCiAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5zZWxlY3RlZEluc3BlY3Rpb25JdG0ubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLnNlbGVjdGVkSW5zcGVjdGlvbkl0bVtpbmRleF0uaW5zcGVjdGlvblJlcG9ydEZpZWxkc1swXS51dWlkOwogICAgICAgICAgICBpbnNwZWN0aW9uSXRlbU9iai5pbnNwZWN0aW9uUmVwb3J0c0ZpZWxkcy5wdXNoKGVsZW1lbnQpOwogICAgICAgICAgfQoKICAgICAgICAgIGxpbmtJc3N1ZVJlcXVlc3QuaW5wc2VjdGlvbkl0ZW1zVVVJRCA9IEpTT04uc3RyaW5naWZ5KGluc3BlY3Rpb25JdGVtT2JqKTsKICAgICAgICB9IC8vIGNvbnNvbGUubG9nKCdsaW5rSXNzdWVSZXF1ZXN0JyxsaW5rSXNzdWVSZXF1ZXN0KQoKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciByZXNwb25zZSA9IGF3YWl0IEluc3BlY3Rpb25TZXJ2aWNlLmxpbmtJc3N1ZXMobGlua0lzc3VlUmVxdWVzdCk7CgogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoInNob3dUb2FzdCIsICJJc3N1ZSBsaW5rZWQgU3VjY2Vzc2Z1bGx5IiwgInN1Y2Nlc3MiKTsKICAgICAgICAgICAgdGhpcy5jbG9zZWRNZXJnZSgpOwogICAgICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgICAgIH0gLy8gYnVzaW5lc3MgbG9naWMgZ29lcyBoZXJlCgogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MjIpIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgic2hvd1RvYXN0IiwgIkFscmVhZHkgRXhpc3QiLCAid2FybmluZyIpOwogICAgICAgICAgICB0aGlzLmNsb3NlZE1lcmdlKCk7CiAgICAgICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IGZhbHNlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7IC8vIGZyb20gY3JlYXRpb24gb3IgYnVzaW5lc3MgbG9naWMKCiAgICAgICAgICAgIHRoaXMuJGVtaXQoInNob3dUb2FzdCIsICJFcnJvciB3aGlsZSBsaW5raW5nIGlzc3Vlcy4gUGxlYXNlIHRyeSBhZ2FpbiIsICJlcnJvciIpOwogICAgICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgZ2V0SXNzdWVzQnlBc3NldHMoYXNzZXRVVUlEKSB7CiAgICAgIEluc3BlY3Rpb25TZXJ2aWNlLmZpbHRlcklzc3Vlc0J5QXNzZXRVVUlEKGFzc2V0VVVJRCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLmlzc3VlcyA9IHJlc3BvbnNlLmRhdGEuaXNzdWVzOwoKICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCByZXNwb25zZS5kYXRhLmlzc3Vlcy5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgICAgdGhpcy5pc3N1ZXNPcHRpb24ucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogcmVzcG9uc2UuZGF0YS5pc3N1ZXNbaW5kZXhdLmlzc3VlTnVtYmVyICsgIiwiICsgcmVzcG9uc2UuZGF0YS5pc3N1ZXNbaW5kZXhdLmlzc3VlTmFtZSwKICAgICAgICAgICAgICB2YWx1ZTogcmVzcG9uc2UuZGF0YS5pc3N1ZXNbaW5kZXhdLnV1aWQKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7fSk7CiAgICB9LAoKICAgIGNsb3NlZElzc3VlKCkgewogICAgICB0aGlzLmNyZWF0ZUlzc3VlID0gZmFsc2U7CiAgICB9LAoKICAgIGNyZWF0ZU5ld0lzc3VlKCkgewogICAgICB0aGlzLmNyZWF0ZUlzc3VlID0gZmFsc2U7CiAgICAgIHRoaXMuJGVtaXQoInNob3dUb2FzdCIsICJJc3N1ZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseSIsICJzdWNjZXNzIik7CiAgICAgIHRoaXMuJGVtaXQoInVwZGF0ZUluc3BlY3Rpb25JdGVtcyIpOwogICAgfSwKCiAgICBjbGlja0FjY29yZGlvbkZ1bmN0aW9uKGluZHgpIHsKICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuJHJlZnMucmVmQWNjb3JkaW9uLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgIGlmIChpbmRleCAhPT0gaW5keCkgewogICAgICAgICAgdGhpcy4kcmVmcy5yZWZBY2NvcmRpb25baW5kZXhdLm9wZW5GbGFnID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLml0ZW1JbWFnZXMgPSBbXTsKICAgICAgbGV0IHByZXNlbnQgPSBmYWxzZTsKCiAgICAgIGZvciAobGV0IGluZCA9IDA7IGluZCA8IHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zW2luZHhdLmltYWdlLmxlbmd0aDsgaW5kKyspIHsKICAgICAgICBpZiAodGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXNbaW5keF0uaW1hZ2VbaW5kXS5pbWFnZUZsYWcgPT0gdHJ1ZSkgewogICAgICAgICAgcHJlc2VudCA9IHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAocHJlc2VudCkgewogICAgICAgIHRoaXMubWF4aW11bUltYWdlID0gMjsKICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSB0cnVlOwogICAgICAgIHRoaXMuaW1hZ2VzUHJlc2VudCA9IHRydWU7CiAgICAgICAgdGhpcy5oaWRlQWRkSWNvbiA9IHRydWU7CiAgICAgICAgdGhpcy5pdGVtSW1hZ2UoaW5keCwgdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXNbaW5keF0uaW5zcGVjdGlvblJlcG9ydEZpZWxkc1swXS51dWlkLCB0cnVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmltYWdlc1ByZXNlbnQgPSBmYWxzZTsKICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgfSAvLyB2b2ljZXMKCgogICAgICB0aGlzLml0ZW1Wb2ljZXMgPSBbXTsKICAgICAgbGV0IHZvaWNlUHJlc2VudCA9IGZhbHNlOyAvLyBmb3IgKAogICAgICAvLyAgIGxldCBpbmQgPSAwOwogICAgICAvLyAgIGluZCA8IHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zW2luZHhdLmltYWdlLmxlbmd0aDsKICAgICAgLy8gICBpbmQrKwogICAgICAvLyApIHsKICAgICAgLy8gICBpZiAodGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXNbaW5keF0uaW1hZ2VbaW5kXS5pbWFnZUZsYWcgPT0gdHJ1ZSkgewogICAgICAvLyAgICAgcHJlc2VudCA9IHRydWU7CiAgICAgIC8vICAgfQogICAgICAvLyB9CiAgICAgIC8vIGlmIChwcmVzZW50KSB7CiAgICAgIC8vICAgdGhpcy5tYXhpbXVtSW1hZ2UgPSAyOwogICAgICAvLyAgIHRoaXMubG9hZGVyRmxhZyA9IHRydWU7CiAgICAgIC8vICAgdGhpcy5pbWFnZXNQcmVzZW50ID0gdHJ1ZTsKICAgICAgLy8gICB0aGlzLmhpZGVBZGRJY29uID0gdHJ1ZTsKICAgICAgLy8gICB0aGlzLml0ZW1JbWFnZSgKICAgICAgLy8gICAgIGluZHgsCiAgICAgIC8vICAgICB0aGlzLmluc3BlY3Rpb25SZXBvcnRJdGVtc1tpbmR4XS5pbnNwZWN0aW9uUmVwb3J0RmllbGRzWzBdLnV1aWQsCiAgICAgIC8vICAgICB0cnVlCiAgICAgIC8vICAgKTsKICAgICAgLy8gfSBlbHNlIHsKICAgICAgLy8gICB0aGlzLmltYWdlc1ByZXNlbnQgPSBmYWxzZTsKICAgICAgLy8gICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgLy8gfQogICAgfSwKCiAgICBmdWxsc2NyZWVuSW1hZ2UoaW1hZ2UpIHsKICAgICAgdGhpcy5kaWFsb2dJbWFnZSA9IGltYWdlLmNvbnRlbnQ7CiAgICAgIHRoaXMubG9jYXRpb25EaWFsb2cgPSB0cnVlOwogICAgfSwKCiAgICBmYWlsZWRFdmVudCh2YWx1ZSkgewogICAgICB0aGlzLiRyZWZzLnJlZkFjY29yZGlvbi5tYXAocmVmID0+IHsKICAgICAgICByZWYub3BlbkZsYWcgPSBmYWxzZTsKICAgICAgfSk7CiAgICAgIHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zID0gW107CgogICAgICBpZiAodmFsdWUudmFsdWUgPT09IHRydWUpIHsKICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5pbnNwZWN0aW9uSXRlbXMubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICBpZiAodGhpcy5pbnNwZWN0aW9uSXRlbXNbaW5kZXhdLnN0YXR1cyA9PT0gImZhaWwiKSB7CiAgICAgICAgICAgIHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zLnB1c2godGhpcy5pbnNwZWN0aW9uSXRlbXNbaW5kZXhdKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXMgPSB0aGlzLmluc3BlY3Rpb25JdGVtczsgLy8gdGhpcy5pbnNwZWN0aW9uU3RhdHVzID0gInNoaXAucG5nIgogICAgICB9CgogICAgICB0aGlzLmZpbHRlckxhYmVsID0gIiI7CiAgICAgIHRoaXMuZmlsdGVySW5kZXgrKzsKICAgIH0sCgogICAgZmlsdGVyU2VsZWN0ZWQodmFsdWUpIHsKICAgICAgdGhpcy4kcmVmcy5yZWZBY2NvcmRpb24ubWFwKHJlZiA9PiB7CiAgICAgICAgcmVmLm9wZW5GbGFnID0gZmFsc2U7CiAgICAgIH0pOwogICAgICB0aGlzLmZhaWxlZE9ubHkgPSBmYWxzZTsKICAgICAgdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXMgPSBbXTsKICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CgogICAgICBpZiAodmFsdWUuc2VsZWN0ZWRPYmplY3QudmFsdWUgPT09ICJjb21tZW50cyIpIHsKICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5pbnNwZWN0aW9uSXRlbXMubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICBmb3VuZCA9IGZhbHNlOwoKICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5pbnNwZWN0aW9uSXRlbXNbaW5kZXhdLmltYWdlLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmluc3BlY3Rpb25JdGVtc1tpbmRleF0uaW1hZ2Vbal0ubWVzc2FnZUZsYWcgPT09IHRydWUpIHsKICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZm91bmQgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXMucHVzaCh0aGlzLmluc3BlY3Rpb25JdGVtc1tpbmRleF0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh2YWx1ZS5zZWxlY3RlZE9iamVjdC52YWx1ZSA9PT0gImltYWdlIikgewogICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmluc3BlY3Rpb25JdGVtcy5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgIGZvdW5kID0gZmFsc2U7CgogICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmluc3BlY3Rpb25JdGVtc1tpbmRleF0uaW1hZ2UubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgaWYgKHRoaXMuaW5zcGVjdGlvbkl0ZW1zW2luZGV4XS5pbWFnZVtqXS5pbWFnZUZsYWcgPT09IHRydWUpIHsKICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZm91bmQgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXMucHVzaCh0aGlzLmluc3BlY3Rpb25JdGVtc1tpbmRleF0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmluc3BlY3Rpb25SZXBvcnRJdGVtcyA9IHRoaXMuaW5zcGVjdGlvbkl0ZW1zOwogICAgICB9CiAgICB9LAoKICAgIGZ1bmNOYW1lKHZhbHVlLCBpbmRleCkgewogICAgICBsZXQgaW5zcGVjdGlvbkl0ZW1zID0gW107CgogICAgICBpZiAodmFsdWUudmFsdWUgPT09IHRydWUpIHsKICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSB0cnVlOwogICAgICAgIHRoaXMuY2hlY2tBY2MgPSB0cnVlOwogICAgICAgIHRoaXMuY2xpY2tBY2NvcmRpb25GdW5jdGlvbihpbmRleCk7CiAgICAgICAgdGhpcy5kaXNhYmxlQWN0aW9ucyA9IGZhbHNlLCB0aGlzLnNlbGVjdGVkSW5zcGVjdGlvbkl0bS5wdXNoKHZhbHVlKTsKICAgICAgICB0aGlzLnNlbGVjdGVkSW5zcGVjdGlvbkl0bS5pbnNwZWN0aW9uVVVJRCA9IHRoaXMuaW5zcGVjdGlvbnV1aWQ7CiAgICAgIH0KCiAgICAgIGlmICh2YWx1ZS52YWx1ZSA9PT0gZmFsc2UpIHsKICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5JbnNwZWN0aW9uSXRlbUltYWdlLmZpbHRlcihrID0+ICF2YWx1ZS5pbWFnZS5zb21lKHAgPT4gcC5pZCA9PSBrLmlkKSk7CiAgICAgICAgdGhpcy5JbnNwZWN0aW9uSXRlbUltYWdlID0gcmVzdWx0OwoKICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5zZWxlY3RlZEluc3BlY3Rpb25JdG0ubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEluc3BlY3Rpb25JdG1baW5kZXhdLnV1aWQgIT09IHZhbHVlLnV1aWQpIHsKICAgICAgICAgICAgaW5zcGVjdGlvbkl0ZW1zLnB1c2godGhpcy5zZWxlY3RlZEluc3BlY3Rpb25JdG1baW5kZXhdKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMuc2VsZWN0ZWRJbnNwZWN0aW9uSXRtID0gaW5zcGVjdGlvbkl0ZW1zOwoKICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEluc3BlY3Rpb25JdG0ubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICB0aGlzLmRpc2FibGVBY3Rpb25zID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgZ2V0SW5zcGVjdGlvbkl0ZW0oKSB7CiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmltYWdlVm9pY2VzKTsKICAgICAgbGV0IHV1aWQgPSBudWxsOwoKICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmluc3BlY3Rpb25SZXBvcnRJdGVtcy5sZW5ndGg7IGorKykgewogICAgICAgIHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zW2pdLmltYWdlID0gW107CiAgICAgICAgdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXNbal0udmFsdWUgPSBmYWxzZTsKCiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCB0aGlzLmluc3BlY3Rpb25SZXBvcnRJdGVtc1tqXS5pbnNwZWN0aW9uUmVwb3J0RmllbGRzLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICBpZiAodGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXNbal0uaW5zcGVjdGlvblJlcG9ydEZpZWxkc1trXS5pZ25vcmVDb21tZW50cyAhPT0gdW5kZWZpbmVkICYmIHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zW2pdLmluc3BlY3Rpb25SZXBvcnRGaWVsZHNba10uaWdub3JlQ29tbWVudHMgIT09IG51bGwpIHsKICAgICAgICAgICAgdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXNbal0uaXRlbVN0YXR1c1dpdGhOYW1lID0gdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXNbal0ubmFtZSArICIgLSBJZ25vcmUiOwogICAgICAgICAgICB0aGlzLmluc3BlY3Rpb25SZXBvcnRJdGVtc1tqXS5pdGVtU3RhdHVzID0gIklnbm9yZSI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmluc3BlY3Rpb25SZXBvcnRJdGVtc1tqXS5pdGVtU3RhdHVzV2l0aE5hbWUgPSB0aGlzLmluc3BlY3Rpb25SZXBvcnRJdGVtc1tqXS5uYW1lOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0aGlzLmluc3BlY3Rpb25SZXBvcnRJdGVtc1tqXS5pbnNwZWN0aW9uUmVwb3J0RmllbGRzW2tdLmlzc3VlUmVwb3J0aW5nICE9PSB1bmRlZmluZWQgJiYgdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXNbal0uaW5zcGVjdGlvblJlcG9ydEZpZWxkc1trXS5pc3N1ZVJlcG9ydGluZyAhPT0gbnVsbCkgewogICAgICAgICAgICB1dWlkID0gdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXNbal0uaW5zcGVjdGlvblJlcG9ydEZpZWxkc1trXS5pc3N1ZVJlcG9ydGluZy51dWlkOwoKICAgICAgICAgICAgaWYgKCFrZXlzLmluY2x1ZGVzKHV1aWQpKSB7CiAgICAgICAgICAgICAgdXVpZCA9IHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zW2pdLmluc3BlY3Rpb25SZXBvcnRGaWVsZHNba10udXVpZDsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdXVpZCA9IHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zW2pdLmluc3BlY3Rpb25SZXBvcnRGaWVsZHNba10udXVpZDsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmluc3BlY3Rpb25SZXBvcnRJdGVtc1tqXS5pbWFnZSA9IHRoaXMuaW1hZ2VWb2ljZXNbdXVpZF07CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmluc3BlY3Rpb25JdGVtcyA9IHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zOwogICAgfSwKCiAgICBpdGVtSW1hZ2UoaW5kZXgsIHV1aWQsIHByZXNlbnQpIHsKICAgICAgaWYgKHRoaXMud29ya09yZGVyICE9IHVuZGVmaW5lZCkgewogICAgICAgIFdvcmtPcmRlclNlcnZpY2UuZ2V0SW1hZ2VWb2ljZXNCeUluc3BlY3Rpb25JdGVtVVVJRCh1dWlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLmRhdGEucmVzcG9uc2VJZGVudGlmaWVyID09PSAiU3VjY2VzcyIpIHsKICAgICAgICAgICAgaWYgKHByZXNlbnQpIHsKICAgICAgICAgICAgICB0aGlzLmhpZGVBZGRJY29uID0gdHJ1ZTsKICAgICAgICAgICAgICB0aGlzLm1heGltdW1JbWFnZSA9IDI7CiAgICAgICAgICAgICAgdGhpcy5pdGVtSW1hZ2VzID0gcmVzLmRhdGEuaW1hZ2VWb2ljZXNbdXVpZF07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuaW1hZ2VJbmRleCsrOwogICAgICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIEluc3BlY3Rpb25TZXJ2aWNlLmdldEltYWdlVm9pY2VzQnlJbnNwZWN0aW9uSXRlbVVVSUQodXVpZCkudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5kYXRhLnJlc3BvbnNlSWRlbnRpZmllciA9PT0gIlN1Y2Nlc3MiKSB7CiAgICAgICAgICAgIGlmIChwcmVzZW50KSB7CiAgICAgICAgICAgICAgdGhpcy5oaWRlQWRkSWNvbiA9IHRydWU7CiAgICAgICAgICAgICAgdGhpcy5tYXhpbXVtSW1hZ2UgPSAyOwogICAgICAgICAgICAgIHRoaXMuaXRlbUltYWdlcyA9IHJlcy5kYXRhLmltYWdlVm9pY2VzW3V1aWRdOwoKICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja0FjYyA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICB2YXIgdGVzdEFycmF5ID0gcmVzLmRhdGEuaW1hZ2VWb2ljZXNbdXVpZF07CgogICAgICAgICAgICAgICAgZm9yICh2YXIgaXRlbSBvZiB0ZXN0QXJyYXkpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5JbnNwZWN0aW9uSXRlbUltYWdlLnB1c2goaXRlbSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc3QgdW5pcXVlSWRzID0gbmV3IFNldCgpOwogICAgICAgICAgICAgICAgY29uc3QgdW5pcXVlID0gdGhpcy5JbnNwZWN0aW9uSXRlbUltYWdlLmZpbHRlcihlbGVtZW50ID0+IHsKICAgICAgICAgICAgICAgICAgY29uc3QgaXNEdXBsaWNhdGUgPSB1bmlxdWVJZHMuaGFzKGVsZW1lbnQuaWQpOwogICAgICAgICAgICAgICAgICB1bmlxdWVJZHMuYWRkKGVsZW1lbnQuaWQpOwoKICAgICAgICAgICAgICAgICAgaWYgKCFpc0R1cGxpY2F0ZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuSW5zcGVjdGlvbkl0ZW1JbWFnZSA9IHVuaXF1ZTsgLy8gY29uc29sZS5sb2coJ3RoaXMuSW5zcGVjdGlvbkl0ZW1JbWFnZScsdGhpcy5JbnNwZWN0aW9uSXRlbUltYWdlKQoKICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tBY2MgPSBmYWxzZTsgLy8gdGhpcy5sb2FkZXJGbGFnID0gZmFsc2U7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLmltYWdlSW5kZXgrKzsKICAgICAgICAgICAgdGhpcy5sb2FkZXJGbGFnID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5pbnNwZWN0aW9udXVpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pbnNwZWN0aW9uVVVJRDsKICAgIHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zID0gdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbTsKICAgIHRoaXMuaW5zcGVjdGlvbkFzc2V0VVVJRCA9IHRoaXMuYXNzZXRVVUlEOwogICAgdGhpcy5jdXJyZW50VXNlckRldGFpbHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjdXJyZW50VXNlckRldGFpbHMiKSk7CiAgICB0aGlzLmdldElzc3Vlc0J5QXNzZXRzKHRoaXMuYXNzZXRVVUlEKTsKICAgIHRoaXMuZ2V0SW5zcGVjdGlvbkl0ZW0oKTsKICAgIHRoaXMuaW5zcGVjdGlvbkRldGFpbHMgPSB0aGlzLmluc3BlY3Rpb25EZXRhaWw7CiAgfSwKCiAgdmFsaWRhdGlvbnM6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7fTsKICB9Cn07"},null]}
{"remainingRequest":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/babel-loader/lib/index.js!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/views/consumption/AddConsumption.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/views/consumption/AddConsumption.vue","mtime":1661968702436},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/babel.config.js","mtime":1661968702388},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":1662622637759},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/babel-loader/lib/index.js","mtime":1662622637719},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":1662622637759},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js","mtime":1662622639723}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgQXNzZXRNYW5hZ2VtZW50U2VydmljZSB9IGZyb20gIi4uLy4uL3NlcnZpY2VzL0Fzc2V0TWFuYWdlbWVudFNlcnZpY2UiOwppbXBvcnQgeyBBc3NldFBlcnNvbm5lbFNlcnZpY2UgfSBmcm9tICIuLi8uLi9zZXJ2aWNlcy9Bc3NldFBlcnNvbm5lbFNlcnZpY2UiOwppbXBvcnQgeyByZXF1aXJlZCwgbWluVmFsdWUgfSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOwppbXBvcnQgeyBGdW5jdGlvbnMgfSBmcm9tICJAL3NoYXJlZC9GdW5jdGlvbnMiOwppbXBvcnQgbG9hZGVyIGZyb20gIkAvY29tcG9uZW50cy9Mb2FkZXIudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJWaWV3Q29uc3VtcHRpb24iLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZWRpdEZsYWc6IGZhbHNlLAogICAgICB0b2FzdEZsYWc6IDAsCiAgICAgIHRvYXN0TWVzc2FnZTogIiIsCiAgICAgIHRvYXN0VHlwZTogIiIsCiAgICAgIGxvYWRlckZsYWc6IGZhbHNlLAogICAgICBjb25zdW1wdGlvbjogewogICAgICAgIG1ldGVyVHlwZTogIiIKICAgICAgfSwKICAgICAgc3RhdGVEaXNhYmxlOiBmYWxzZSwKICAgICAgY3VycmVudFVzZXJEZXRhaWxzOiAiIiwKICAgICAgYXNzZXRDYXRlZ29yaWVzOiAiIiwKICAgICAgYXNzZXRDYXRlZ29yeTogIiIsCiAgICAgIGFzc2V0Q2F0ZWdvcnlMYWJlbDogIiIsCiAgICAgIGFzc2V0c05hbWVzOiBbXSwKICAgICAgdG90YWxBc3NldE5hbWVzOiAiIiwKICAgICAgZmlsZVJlY29yZDogbnVsbCwKICAgICAgYXNzZXROYW1lOiAiIiwKICAgICAgYXNzZXROYW1lTGFiZWw6ICIiLAogICAgICBhc3NldFVVSUQ6ICIiLAogICAgICBpbWFnZVZvaWNlczogW10sCiAgICAgIGtleUluZGV4OiAwLAogICAgICBmaWVsZENhdGVnb3J5TGFiZWw6ICIiLAogICAgICBtYXJrZXJzOiBbXSwKICAgICAgcG9wdXBJbWFnZTogIiIsCiAgICAgIGltYWdlRGlhbG9nOiBmYWxzZSwKICAgICAgbG9jYXRpb25EaWFsb2c6IGZhbHNlLAogICAgICBmaWVsZENhdGVnb3JpZXM6IFt7CiAgICAgICAgbmFtZTogIlByaW1hcnkiLAogICAgICAgIHZhbHVlOiAiMSIKICAgICAgfSwgewogICAgICAgIG5hbWU6ICJTZWNvbmRhcnkiLAogICAgICAgIHZhbHVlOiAiMiIKICAgICAgfV0sCiAgICAgIGxhdDogIiIsCiAgICAgIGxhbmc6ICIiLAogICAgICBwcmltYXJ5VXNhZ2VVbml0OiAiIiwKICAgICAgc2Vjb25kYXJ5VXNhZ2VVbml0OiAiIiwKICAgICAgQ29uc3VtcHRpb25Qb2ludHM6IFt7CiAgICAgICAgbmFtZTogIjAiLAogICAgICAgIHZhbHVlOiAiMCIKICAgICAgfSwgewogICAgICAgIG5hbWU6ICIxIiwKICAgICAgICB2YWx1ZTogIjEiCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAiMiIsCiAgICAgICAgdmFsdWU6ICIyIgogICAgICB9LCB7CiAgICAgICAgbmFtZTogIjMiLAogICAgICAgIHZhbHVlOiAiMyIKICAgICAgfSwgewogICAgICAgIG5hbWU6ICI0IiwKICAgICAgICB2YWx1ZTogIjQiCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAiNSIsCiAgICAgICAgdmFsdWU6ICI1IgogICAgICB9LCB7CiAgICAgICAgbmFtZTogIjYiLAogICAgICAgIHZhbHVlOiAiNiIKICAgICAgfSwgewogICAgICAgIG5hbWU6ICI3IiwKICAgICAgICB2YWx1ZTogIjciCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAiOCIsCiAgICAgICAgdmFsdWU6ICI4IgogICAgICB9IC8vIHsgbmFtZTogIjkiLCB2YWx1ZTogIjkiIH0sCiAgICAgIC8vIHsgbmFtZTogIjEwIiwgdmFsdWU6ICIxMCIgfSwKICAgICAgXSwKICAgICAgdmlldzogZmFsc2UKICAgIH07CiAgfSwKCiAgcHJvcHM6IHsKICAgIGlkOiB7fSwKICAgIHJlYWRPbmx5OiBCb29sZWFuLAogICAgZm9ybVRpdGxlczogU3RyaW5nCiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGVja0ZpZWxkVmFsaWRhdGlvbihmaWVsZCkgewogICAgICB0aGlzLiR2LmNvbnN1bXB0aW9uW2ZpZWxkXS4kdG91Y2goKTsKICAgIH0sCgogICAgZ2V0Rm9ybUVycm9yTWVzc2FnZShmaWVsZFZhbGlkYXRpb24pIHsKICAgICAgaWYgKGZpZWxkVmFsaWRhdGlvbiAmJiBmaWVsZFZhbGlkYXRpb24uJGRpcnR5KSB7CiAgICAgICAgcmV0dXJuIEZ1bmN0aW9ucy5nZXRGb3JtRmllbGRFcnJvck1lc3NhZ2UoZmllbGRWYWxpZGF0aW9uKTsKICAgICAgfQogICAgfSwKCiAgICBjbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgiY2xvc2UiKTsKICAgIH0sCgogICAgZnVsbHNjcmVlbkltYWdlKHZhbHVlKSB7CiAgICAgIHRoaXMucG9wdXBJbWFnZSA9IHZhbHVlOwogICAgICB0aGlzLmltYWdlRGlhbG9nID0gdHJ1ZTsKICAgIH0sCgogICAgZGVsZXRlQ29uc3VtcHRpb25JbWFnZSh1dWlkKSB7CiAgICAgIEFzc2V0TWFuYWdlbWVudFNlcnZpY2UuZGVsZXRlQ29uc3VtcHRpb25JbWFnZSh1dWlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5zaG93VG9hc3QoIkltYWdlIHJlbW92ZWQgc3VjY2Vzc2Z1bGx5LiIsICJzdWNjZXNzIik7CiAgICAgICAgICB0aGlzLnZpZXdDb25zdW1wdGlvbigpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgdGhpcy5zaG93VG9hc3QoZS5kYXRhLnJlc3BvbnNlLCAiZXJyb3IiKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGNsb3NlRGlhbG9nKCkgewogICAgICB0aGlzLmxvY2F0aW9uRGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMuaW1hZ2VEaWFsb2cgPSBmYWxzZTsKICAgIH0sCgogICAgYWRkQ29uc3VtcHRpb24oKSB7CiAgICAgIHRoaXMuJHYuJHRvdWNoKCk7CgogICAgICBpZiAodGhpcy4kdi4kaW52YWxpZCkgewogICAgICAgIHRoaXMuc2hvd1RvYXN0KCJQbGVhc2UgZmlsbCBhbGwgcmVxdWlyZWQgZmllbGRzLiIsICJ3YXJuaW5nIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5maWxlUmVjb3JkID09PSBudWxsKSB7CiAgICAgICAgdGhpcy5zaG93VG9hc3QoIlBsZWFzZSBzZWxlY3QgYW4gaW1hZ2UiLCAiZXJyb3IiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGxldCBvYmogPSB7fTsKICAgICAgbGV0IGNvbnN1bXB0aW9uID0gewogICAgICAgIGNvbnN1bXB0aW9uVmFsdWU6IHRoaXMuY29uc3VtcHRpb24uY29uc3VtcHRpb25WYWx1ZSwKICAgICAgICBwcmljZTogdGhpcy5jb25zdW1wdGlvbi5wcmljZSwKICAgICAgICBjdXJyZW5jeTogdGhpcy5jb25zdW1wdGlvbi5jdXJyZW5jeSwKICAgICAgICB1cGRhdGVkQ29uc3VtcHRpb25Qb2ludHM6IHRoaXMuY29uc3VtcHRpb24udXBkYXRlZENvbnN1bXB0aW9uUG9pbnRzLAogICAgICAgIG1ldGVyVHlwZTogdGhpcy5jb25zdW1wdGlvbi5tZXRlclR5cGUsCiAgICAgICAgbWV0ZXJWYWx1ZTogdGhpcy5jb25zdW1wdGlvbi5tZXRlclZhbHVlLAogICAgICAgIGxhdDogdGhpcy5sYXQsCiAgICAgICAgbG5nOiB0aGlzLmxvbmcsCiAgICAgICAgdGVuYW50VVVJRDogdGhpcy5jdXJyZW50VXNlckRldGFpbHMucHJvZmlsZS5vcmdhbml6YXRpb25JZCwKICAgICAgICBhc3NldFVVSUQ6IHRoaXMuYXNzZXRVVUlECiAgICAgIH07CiAgICAgIG9iai5jb25zdW1wdGlvbiA9IGNvbnN1bXB0aW9uOwogICAgICBvYmouaW1hZ2VWb2ljZXMgPSB0aGlzLmltYWdlVm9pY2VzOwogICAgICBvYmouYXNzZXRVVUlEID0gdGhpcy5hc3NldFVVSUQ7CiAgICAgIG9iai51c2VyVVVJRCA9IHRoaXMuY3VycmVudFVzZXJEZXRhaWxzLnByb2ZpbGUudXNlcmlkOwogICAgICBBc3NldE1hbmFnZW1lbnRTZXJ2aWNlLmFkZENvbnN1bXB0aW9uKG9iaikudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuJGVtaXQoInRvYXN0RmxhZyIsIHJlcy5kYXRhLmRlc2NyaXB0aW9uLCAic3VjY2VzcyIpOwogICAgICAgIHRoaXMuY2xvc2UoKTsKICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgdGhpcy5zaG93VG9hc3QoZS5kYXRhLnJlc3BvbnNlLCAiZXJyb3IiKTsKICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAoKICAgIHVwZGF0ZUNvbnN1bXB0aW9uKCkgewogICAgICB0aGlzLiR2LiR0b3VjaCgpOwoKICAgICAgaWYgKHRoaXMuJHYuJGludmFsaWQpIHsKICAgICAgICB0aGlzLnNob3dUb2FzdCgiUGxlYXNlIGZpbGwgYWxsIHJlcXVpcmVkIGZpZWxkcy4iLCAid2FybmluZyIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5sb2FkZXJGbGFnID0gdHJ1ZTsKICAgICAgbGV0IGNvbnN1bXB0aW9uID0gewogICAgICAgIHV1aWQ6IHRoaXMuY29uc3VtcHRpb24udXVpZCwKICAgICAgICBjb25zdW1wdGlvblZhbHVlOiB0aGlzLmNvbnN1bXB0aW9uLmNvbnN1bXB0aW9uVmFsdWUsCiAgICAgICAgcHJpY2U6IHRoaXMuY29uc3VtcHRpb24ucHJpY2UsCiAgICAgICAgY3VycmVuY3k6IHRoaXMuY29uc3VtcHRpb24uY3VycmVuY3ksCiAgICAgICAgdXBkYXRlZENvbnN1bXB0aW9uUG9pbnRzOiB0aGlzLmNvbnN1bXB0aW9uLnVwZGF0ZWRDb25zdW1wdGlvblBvaW50cyAvLyBtZXRlclR5cGU6IHRoaXMuY29uc3VtcHRpb24ubWV0ZXJUeXBlLAogICAgICAgIC8vIG1ldGVyVmFsdWU6IHRoaXMuY29uc3VtcHRpb24ubWV0ZXJWYWx1ZSwKICAgICAgICAvLyBsYXQ6IHRoaXMubGF0LAogICAgICAgIC8vIGxuZzogdGhpcy5sb25nLAogICAgICAgIC8vIHRlbmFudFVVSUQ6IHRoaXMuY3VycmVudFVzZXJEZXRhaWxzLnByb2ZpbGUub3JnYW5pemF0aW9uSWQsCiAgICAgICAgLy8gYXNzZXRVVUlEOiB0aGlzLmFzc2V0VVVJRCwKCiAgICAgIH07IC8vIHJldHVybgoKICAgICAgQXNzZXRNYW5hZ2VtZW50U2VydmljZS5lZGl0Q29uc3VtcHRpb24oY29uc3VtcHRpb24pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLiRlbWl0KCJ0b2FzdEZsYWciLCByZXMuZGF0YS5kZXNjcmlwdGlvbiwgInN1Y2Nlc3MiKTsKICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgICB0aGlzLmNsb3NlKCk7CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuc2hvd1RvYXN0KGUuZGF0YS5yZXNwb25zZSwgImVycm9yIik7CiAgICAgICAgdGhpcy5sb2FkZXJGbGFnID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKCiAgICBsb2NhdG9yQnV0dG9uUHJlc3NlZCgpIHsKICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihwb3NpdGlvbiA9PiB7CiAgICAgICAgdGhpcy5sYXQgPSBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7CiAgICAgICAgdGhpcy5sb25nID0gcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZTsKCiAgICAgICAgaWYgKHBvc2l0aW9uICYmICF0aGlzLnZpZXcpIHsKICAgICAgICAgIHRoaXMubWFya2Vycy5wdXNoKHsKICAgICAgICAgICAgbGF0OiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsCiAgICAgICAgICAgIGxuZzogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSwKICAgICAgICAgICAgdHlwZTogIm9mZmljZSIKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5sb2NhdGlvbkRpYWxvZyA9IHRydWU7CiAgICAgIH0sIGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CiAgICAgIH0pOwogICAgfSwKCiAgICBvblNlbGVjdGVkRmllbGQoKSB7fSwKCiAgICBjbGVhclNlbGVjdGVkQ29uc3VtcHRpb25MZXZlbCgpIHsKICAgICAgdGhpcy5jb25zdW1wdGlvbi51cGRhdGVkQ29uc3VtcHRpb25Qb2ludHMgPSAiIjsKICAgICAgdGhpcy5rZXlJbmRleCsrOwogICAgfSwKCiAgICByZWNlaXZlSW1hZ2UoZmlsZSkgewogICAgICB0aGlzLmxvYWRlckZsYWcgPSB0cnVlOwogICAgICBBc3NldE1hbmFnZW1lbnRTZXJ2aWNlLnVwbG9hZEZpbGVUb3MzKHRoaXMuZmlsZVJlY29yZCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YS5yZXNwb25zZUlkZW50aWZpZXIgPT09ICJTdWNjZXNzIikgewogICAgICAgICAgbGV0IGltYWdlVm9pY2UgPSB7CiAgICAgICAgICAgIGNvbnRlbnRVcmw6IHJlcy5kYXRhLmZpbGVVcmwKICAgICAgICAgIH07CiAgICAgICAgICB0aGlzLmltYWdlVm9pY2VzID0gW107CiAgICAgICAgICB0aGlzLmltYWdlVm9pY2VzLnB1c2goaW1hZ2VWb2ljZSk7CiAgICAgICAgICB0aGlzLnNob3dUb2FzdCgiSW1hZ2UgYWRkZWQgc3VjY2Vzc2Z1bGx5Iik7CiAgICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuc2hvd1RvYXN0KCJQbGVhc2UgdXBsb2FkIHRoZSBpbWFnZSBhZ2FpbiIsICJlcnJvciIpOwogICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCgogICAgb25TZWxlY3RlZENhdGVnb3J5KHZhbHVlKSB7CiAgICAgIHRoaXMuYXNzZXRzTmFtZXMgPSBbXTsKICAgICAgdGhpcy5hc3NldENhdGVnb3J5ID0gdmFsdWUuc2VsZWN0ZWRPYmplY3Q7CgogICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy50b3RhbEFzc2V0TmFtZXMubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgaWYgKHRoaXMudG90YWxBc3NldE5hbWVzW2luZGV4XS5jYXRlZ29yeVVVSUQgPT09IHRoaXMuYXNzZXRDYXRlZ29yeS51dWlkKSB7CiAgICAgICAgICB0aGlzLmFzc2V0c05hbWVzLnB1c2godGhpcy50b3RhbEFzc2V0TmFtZXNbaW5kZXhdKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgY2xlYXJTZWxlY3RlZENhdGVnb3J5KCkgewogICAgICB0aGlzLmNvbnN1bXB0aW9uLmFzc2V0Q2F0ZWdvcnkgPSAiIjsKICAgICAgdGhpcy5hc3NldHNOYW1lcyA9IFtdOwogICAgICB0aGlzLmNvbnN1bXB0aW9uLmFzc2V0TmFtZSA9ICIiOwogICAgICB0aGlzLmtleUluZGV4Kys7CiAgICB9LAoKICAgIG9uU2VsZWN0ZWRGaWVsZENhdGVnb3J5KHZhbHVlKSB7CiAgICAgIHRoaXMuY29uc3VtcHRpb24ubWV0ZXJUeXBlID0gdmFsdWUuc2VsZWN0ZWRPYmplY3QudmFsdWU7CgogICAgICBpZiAodmFsdWUuc2VsZWN0ZWRPYmplY3QudmFsdWUgPT09ICIxIikgewogICAgICAgIHRoaXMuY29uc3VtcHRpb24udXNhZ2VVbml0ID0gdGhpcy5wcmltYXJ5VXNhZ2VVbml0OwogICAgICAgIHRoaXMua2V5SW5kZXgrKzsKICAgICAgfSBlbHNlIGlmICh2YWx1ZS5zZWxlY3RlZE9iamVjdC52YWx1ZSA9PT0gIjIiKSB7CiAgICAgICAgdGhpcy5jb25zdW1wdGlvbi51c2FnZVVuaXQgPSB0aGlzLnNlY29uZGFyeVVzYWdlVW5pdDsKICAgICAgICB0aGlzLmtleUluZGV4Kys7CiAgICAgIH0gLy8gIHRoaXMua2V5SW5kZXgrKzsKICAgICAgLy8gICB0aGlzLmZpZWxkQ2F0ZWdvcnkgPSB2YWx1ZS5zZWxlY3RlZE9iamVjdDsKCiAgICB9LAoKICAgIGNsZWFyU2VsZWN0ZWRNZXRlclR5cGUoKSB7CiAgICAgIHRoaXMuY29uc3VtcHRpb24ubWV0ZXJUeXBlID0gIiI7CiAgICAgIHRoaXMuY29uc3VtcHRpb24udXNhZ2VVbml0ID0gIiI7CiAgICAgIHRoaXMuZmllbGRDYXRlZ29yeSA9IHt9OwogICAgICB0aGlzLmtleUluZGV4Kys7CiAgICB9LAoKICAgIG9uU2VsZWN0ZWROYW1lKHZhbHVlKSB7CiAgICAgIEFzc2V0TWFuYWdlbWVudFNlcnZpY2UuZ2V0QXNzZXQodmFsdWUuc2VsZWN0ZWRPYmplY3QudXVpZCkudGhlbihyZXMgPT4gewogICAgICAgIGxldCBhc3NldCA9IHJlcy5kYXRhLmFzc2V0OwogICAgICAgIHRoaXMuY29uc3VtcHRpb24uY29uc3VtcHRpb25Vbml0ID0gYXNzZXQuY29uc3VtcHRpb25Vbml0OwogICAgICAgIHRoaXMuY29uc3VtcHRpb24udXBkYXRlZENvbnN1bXB0aW9uUG9pbnRzID0gYXNzZXQuY29uc3VtcHRpb25Qb2ludHMudG9TdHJpbmcoKTsKICAgICAgICB0aGlzLmFzc2V0VVVJRCA9IHZhbHVlLnNlbGVjdGVkT2JqZWN0LnV1aWQ7CiAgICAgICAgdGhpcy5wcmltYXJ5VXNhZ2VVbml0ID0gYXNzZXQucHJpbWFyeVVzYWdlVW5pdDsKICAgICAgICB0aGlzLnNlY29uZGFyeVVzYWdlVW5pdCA9IGFzc2V0LnNlY29uZGFyeVVzYWdlVW5pdDsKICAgICAgICB0aGlzLmtleUluZGV4Kys7CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB9KTsKICAgICAgdGhpcy5hc3NldE5hbWVMYWJlbCA9IHZhbHVlLnNlbGVjdGVkT2JqZWN0Lm5hbWU7CiAgICB9LAoKICAgIGNsZWFyU2VsZWN0ZWRBc3NldCgpIHsKICAgICAgdGhpcy5jb25zdW1wdGlvbi5hc3NldE5hbWUgPSAiIjsKICAgICAgdGhpcy5jb25zdW1wdGlvbi5jb25zdW1wdGlvblVuaXQgPSAiIjsKICAgICAgdGhpcy5jb25zdW1wdGlvbi51cGRhdGVkQ29uc3VtcHRpb25Qb2ludHMgPSAiIjsKICAgICAgdGhpcy5wcmltYXJ5VXNhZ2VVbml0ID0gIiI7CiAgICAgIHRoaXMuc2Vjb25kYXJ5VXNhZ2VVbml0ID0gIiI7CiAgICAgIHRoaXMuYXNzZXROYW1lTGFiZWwgPSAiIjsKICAgICAgdGhpcy5rZXlJbmRleCsrOwogICAgfSwKCiAgICBnZXRBbGxDYXRlZ29yaWVzKGN1cnJlbnRVc2VyRGV0YWlscykgewogICAgICBBc3NldE1hbmFnZW1lbnRTZXJ2aWNlLmdldEFsbEFzc2V0Q2F0ZWdvcmllcyhjdXJyZW50VXNlckRldGFpbHMucHJvZmlsZS5vcmdhbml6YXRpb25JZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLmFzc2V0Q2F0ZWdvcmllcyA9IHJlc3BvbnNlLmRhdGEuY2F0ZWdvcmllczsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHt9KTsKICAgIH0sCgogICAgZ2V0QWxsQXNzZXQoY3VycmVudFVzZXJEZXRhaWxzKSB7CiAgICAgIEFzc2V0TWFuYWdlbWVudFNlcnZpY2UuZ2V0QWxsQXNzZXRzKGN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLm9yZ2FuaXphdGlvbklkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgIHRoaXMudG90YWxBc3NldE5hbWVzID0gcmVzcG9uc2UuZGF0YS5hc3NldHM7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7fSk7CiAgICB9LAoKICAgIHZpZXdDb25zdW1wdGlvbigpIHsKICAgICAgdGhpcy5sb2FkZXJGbGFnID0gdHJ1ZTsKICAgICAgQXNzZXRNYW5hZ2VtZW50U2VydmljZS5nZXRDb25zdW1wdGlvbkJ5SWQodGhpcy5pZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICBsZXQgY29uc3VtcHRpb24gPSByZXNwb25zZS5kYXRhLmNvbnN1bXB0aW9uOwogICAgICAgICAgdGhpcy5pbWFnZVZvaWNlcyA9IHJlc3BvbnNlLmRhdGEuaW1hZ2VWb2ljZXM7CiAgICAgICAgICBsZXQgYXNzZXR1dWlkcyA9IFtdOwogICAgICAgICAgYXNzZXR1dWlkcy5wdXNoKGNvbnN1bXB0aW9uLmFzc2V0VVVJRCk7CiAgICAgICAgICBBc3NldE1hbmFnZW1lbnRTZXJ2aWNlLmdldE5hbWVBbmRUeXBlT2ZBc3NldHNCeVVVSURTKHsKICAgICAgICAgICAgdXVpZHM6IGFzc2V0dXVpZHMKICAgICAgICAgIH0pLnRoZW4ocmVzMSA9PiB7CiAgICAgICAgICAgIGxldCBjQnlVVUlEID0gcmVzMS5kYXRhLmFzc2V0c1tjb25zdW1wdGlvbi5hc3NldFVVSURdOyAvLwljb25zb2xlLmxvZyhjQnlVVUlEKTsKCiAgICAgICAgICAgIGNvbnN1bXB0aW9uLmFzc2V0TmFtZSA9IGNCeVVVSUQubmFtZTsKICAgICAgICAgICAgY29uc3VtcHRpb24uYXNzZXRDYXRlZ29yeSA9IGNCeVVVSUQudHlwZTsKICAgICAgICAgICAgY29uc3VtcHRpb24uYXNzZXROdW1iZXIgPSBjQnlVVUlELmFzc2V0TnVtYmVyOwogICAgICAgICAgICBjb25zdW1wdGlvbi5jb25zdW1wdGlvblVuaXQgPSBjQnlVVUlELmNvbnN1bXB0aW9uVW5pdDsKICAgICAgICAgICAgY29uc3VtcHRpb24ubWF4aW11bUNvbnN1bXB0aW9uTGV2ZWwgPSBjQnlVVUlELm1heGltdW1Dc3VtcHRpb25MZXZlbDsKCiAgICAgICAgICAgIGlmIChjb25zdW1wdGlvbi5tZXRlclR5cGUgPT09ICIxIikgewogICAgICAgICAgICAgIGNvbnN1bXB0aW9uLm1ldGVyVHlwZSA9ICJQcmltYXJ5IjsKICAgICAgICAgICAgICBjb25zdW1wdGlvbi51c2FnZVVuaXQgPSBjQnlVVUlELnByaW1hcnlVc2FnZVVuaXQ7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29uc3VtcHRpb24ubWV0ZXJUeXBlID09PSAiMiIpIHsKICAgICAgICAgICAgICBjb25zdW1wdGlvbi5tZXRlclR5cGUgPSAiU2Vjb25kYXJ5IjsKICAgICAgICAgICAgICBjb25zdW1wdGlvbi51c2FnZVVuaXQgPSBjQnlVVUlELnNlY29uZGFyeVVzYWdlVW5pdDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3VtcHRpb24udXBkYXRlZENvbnN1bXB0aW9uUG9pbnRzID0gY29uc3VtcHRpb24udXBkYXRlZENvbnN1bXB0aW9uUG9pbnRzLnRvU3RyaW5nKCk7CiAgICAgICAgICAgIHRoaXMubWFya2Vycy5wdXNoKHsKICAgICAgICAgICAgICBsYXQ6IGNvbnN1bXB0aW9uLmxhdCwKICAgICAgICAgICAgICBsbmc6IGNvbnN1bXB0aW9uLmxuZywKICAgICAgICAgICAgICB0eXBlOiAib2ZmaWNlIgogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy52aWV3ID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5jb25zdW1wdGlvbiA9IGNvbnN1bXB0aW9uOwogICAgICAgICAgICB0aGlzLmtleUluZGV4Kys7CiAgICAgICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IGZhbHNlOwogICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSB0cnVlOwogICAgICAgICAgICB0aGlzLnNob3dUb2FzdChlcnJvci5kYXRhLnJlc3BvbnNlLCAiZXJyb3IiKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IHRydWU7CiAgICAgICAgdGhpcy5zaG93VG9hc3QoZXJyb3IuZGF0YS5yZXNwb25zZSwgImVycm9yIik7CiAgICAgIH0pOwogICAgfSwKCiAgICBnZXRDdXJyZW5jeSgpIHsKICAgICAgQXNzZXRQZXJzb25uZWxTZXJ2aWNlLmdldENvbXBhbnlDdXJyZW5jeSh0aGlzLmN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLm9yZ2FuaXphdGlvbklkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmNvbnN1bXB0aW9uLmN1cnJlbmN5ID0gcmVzcG9uc2UuZGF0YS5jdXJyZW5jeTsKICAgICAgfSk7CiAgICB9LAoKICAgIHNob3dUb2FzdChtZXNzYWdlLCB0eXBlKSB7CiAgICAgIHRoaXMudG9hc3RNZXNzYWdlID0gbWVzc2FnZTsKICAgICAgdGhpcy50b2FzdFR5cGUgPSB0eXBlOwogICAgICB0aGlzLnRvYXN0RmxhZysrOwogICAgfQoKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5jdXJyZW50VXNlckRldGFpbHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjdXJyZW50VXNlckRldGFpbHMiKSk7CiAgICB0aGlzLmdldEN1cnJlbmN5KCk7CiAgICB0aGlzLmdldEFsbENhdGVnb3JpZXModGhpcy5jdXJyZW50VXNlckRldGFpbHMpOwogICAgdGhpcy5nZXRBbGxBc3NldCh0aGlzLmN1cnJlbnRVc2VyRGV0YWlscyk7CgogICAgaWYgKHRoaXMuZm9ybVRpdGxlcyA9PT0gIlZpZXcgQ29uc3VtcHRpb24iKSB7CiAgICAgIHRoaXMuc3RhdGVEaXNhYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5lZGl0RmxhZyA9IHRydWU7CiAgICAgIHRoaXMudmlld0NvbnN1bXB0aW9uKCk7CiAgICB9CgogICAgaWYgKHRoaXMuZm9ybVRpdGxlcyA9PT0gIkVkaXQgQ29uc3VtcHRpb24iKSB7CiAgICAgIHRoaXMuc3RhdGVEaXNhYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5lZGl0RmxhZyA9IGZhbHNlOwogICAgICB0aGlzLnZpZXdDb25zdW1wdGlvbigpOwogICAgfQogIH0sCgogIHZhbGlkYXRpb25zOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICBjb25zdW1wdGlvbjogewogICAgICAgIGNvbnN1bXB0aW9uVmFsdWU6IHsKICAgICAgICAgIHJlcXVpcmVkLAogICAgICAgICAgbWluVmFsdWU6IG1pblZhbHVlKDEpCiAgICAgICAgfSwKICAgICAgICBwcmljZTogewogICAgICAgICAgcmVxdWlyZWQsCiAgICAgICAgICBtaW5WYWx1ZTogbWluVmFsdWUoMSkKICAgICAgICB9LAogICAgICAgIHVwZGF0ZWRDb25zdW1wdGlvblBvaW50czogewogICAgICAgICAgcmVxdWlyZWQKICAgICAgICB9LAogICAgICAgIG1ldGVyVHlwZTogewogICAgICAgICAgcmVxdWlyZWQKICAgICAgICB9LAogICAgICAgIG1ldGVyVmFsdWU6IHsKICAgICAgICAgIHJlcXVpcmVkCiAgICAgICAgfSwKICAgICAgICBhc3NldENhdGVnb3J5OiB7CiAgICAgICAgICByZXF1aXJlZAogICAgICAgIH0sCiAgICAgICAgYXNzZXROYW1lOiB7CiAgICAgICAgICByZXF1aXJlZAogICAgICAgIH0sCiAgICAgICAgY29uc3VtcHRpb25Vbml0OiB7CiAgICAgICAgICByZXF1aXJlZAogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIGxvYWRlcgogIH0KfTs="},null]}
{"remainingRequest":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/babel-loader/lib/index.js!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/components/CreateIssue.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/components/CreateIssue.vue","mtime":1661968702408},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/babel.config.js","mtime":1661968702388},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":1662622637759},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/babel-loader/lib/index.js","mtime":1662622637719},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":1662622637759},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js","mtime":1662622639723}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEluc3BlY3Rpb25TZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL0luc3BlY3Rpb25TZXJ2aWNlIjsKaW1wb3J0IEFzc2V0TWFuYWdlbWVudFNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvQXNzZXRNYW5hZ2VtZW50U2VydmljZSI7CmltcG9ydCB7IHJlcXVpcmVkLCBtYXhMZW5ndGggfSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOwppbXBvcnQgeyBGdW5jdGlvbnMgfSBmcm9tICJAL3NoYXJlZC9GdW5jdGlvbnMiOwppbXBvcnQgbG9hZGVyIGZyb20gIi4vTG9hZGVyLnZ1ZSI7IC8vIGltcG9ydCBmdW5jIGZyb20gInZ1ZS1lZGl0b3ItYnJpZGdlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ3JlYXRlSXNzdWUiLAogIGNvbXBvbmVudHM6IHsKICAgIGxvYWRlcgogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc3N1ZVVVSURQYXJhbTogIiIsCiAgICAgIGxvYWRlckZsYWc6IGZhbHNlLAogICAgICBpbnN0cnVjdGlvbkNoZWNrbGlzdDogW3sKICAgICAgICB2YWx1ZTogIiIKICAgICAgfV0sCiAgICAgIHRvYXN0RmxhZzogMCwKICAgICAgdG9hc3RNZXNzYWdlOiAiIiwKICAgICAgdG9hc3RUeXBlOiAiIiwKICAgICAgaXNzdWVOYW1lOiAiIiwKICAgICAgaXNzdWVUeXBlOiAiIiwKICAgICAgY2F0ZWdvcnk6ICIiLAogICAgICBhc3NldE5hbWU6ICIiLAogICAgICBhc3NldFV1aWQ6ICIiLAogICAgICBmaWxlUmVjb3JkOiBudWxsLAogICAgICBhc3NldENhdGVnb3J5T3B0aW9uczogW10sCiAgICAgIGFsbEFzc2V0RGF0YTogW10sCiAgICAgIGFzc2V0TmFtZXM6IFtdLAogICAgICBpc3N1ZUNhdGVnb3J5OiAiIiwKICAgICAgaXNzdWVQcmlvcml0eTogIiIsCiAgICAgIHVzZXJDb21tZW50czogIiIsCiAgICAgIHJlcGFpckluc3RydWN0aW9uOiAiIiwKICAgICAgY3VycmVudFVzZXJEZXRhaWxzOiAiIiwKICAgICAgcHJpb3JpdHlPcHRpb25zOiBbewogICAgICAgIGxhYmVsOiAiTG93IiwKICAgICAgICB2YWx1ZTogIkxvdyIKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAiTWVkaXVtIiwKICAgICAgICB2YWx1ZTogIk1lZGl1bSIKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAiSGlnaCIsCiAgICAgICAgdmFsdWU6ICJIaWdoIgogICAgICB9XSwKICAgICAgY2F0ZWdvcnlPcHRpb25zOiBbXSwKICAgICAgdHlwZU9wdGlvbnM6IFtdLAogICAgICBkcm9wRG93bkNvbmZpZ3M6IHt9LAogICAgICBjYXRlZ29yeUluZGV4OiAwLAogICAgICBhc3NldEluZGV4OiAwLAogICAgICBjb21tZW50c0tleTogMCwKICAgICAgdmFsdWU6ICIiLAogICAgICBmbGFnOiBmYWxzZSwKICAgICAgaW1hZ2VWb2ljZXM6IFtdLAogICAgICBpc3N1ZUNhdGVnb3J5SW5kZXg6ICIiLAogICAgICBhc3NldDoge30sCiAgICAgIGNyZWF0ZUlzc3VlSW1nOiBbXSwKICAgICAgY2F0ZWdvcnlMaXN0OiAiIiwKICAgICAgY2F0ZU9wdGlvbnM6IFtdLAogICAgICBpbWdBdHRhY2htZW50U2hvdzogIiIsCiAgICAgIHNlY3Rpb25Mb2FkZXI6IGZhbHNlLAogICAgICBjYXRlTmFtZTogIiIKICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgZ2V0Rm9ybUVycm9yTWVzc2FnZShmaWVsZFZhbGlkYXRpb24pIHsKICAgICAgaWYgKGZpZWxkVmFsaWRhdGlvbi4kZXJyb3IpIHsKICAgICAgICByZXR1cm4gRnVuY3Rpb25zLmdldEZvcm1GaWVsZEVycm9yTWVzc2FnZShmaWVsZFZhbGlkYXRpb24pOwogICAgICB9CiAgICB9LAoKICAgIGNsZWFyU2VsZWN0ZWRQcmlvcml0eSgpIHsKICAgICAgdGhpcy5pc3N1ZVByaW9yaXR5ID0gIiI7CiAgICAgIHRoaXMuaXNzdWVDYXRlZ29yeUluZGV4Kys7CiAgICB9LAoKICAgIGNsZWFyU2VsZWN0ZWRDYXRlZ29yeSgpIHsKICAgICAgdGhpcy5pc3N1ZUNhdGVnb3J5ID0gIiI7CiAgICAgIHRoaXMudHlwZU9wdGlvbnMgPSBbXTsKICAgICAgdGhpcy5pc3N1ZVR5cGUgPSAiIjsKICAgICAgdGhpcy5pc3N1ZUNhdGVnb3J5SW5kZXgrKzsKICAgIH0sCgogICAgY2xlYXJTZWxlY3RlZENhdGVnb3J0VHlwZSgpIHsKICAgICAgdGhpcy5pc3N1ZVR5cGUgPSAiIjsKICAgICAgdGhpcy5pc3N1ZUNhdGVnb3J5SW5kZXgrKzsKICAgIH0sCgogICAgYWRkSW5zdHJ1Y3Rpb24oKSB7CiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25DaGVja2xpc3QucHVzaCh7CiAgICAgICAgdmFsdWU6ICIiCiAgICAgIH0pOwogICAgfSwKCiAgICBzdWJJbnN0cnVjdGlvbihpbnN0cnVjdGlvbkluZGV4KSB7CiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25DaGVja2xpc3Quc3BsaWNlKGluc3RydWN0aW9uSW5kZXgsIDEpOwogICAgfSwKCiAgICBjbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgiY2xvc2UiKTsKICAgIH0sCgogICAgc2F2ZSgpIHsKICAgICAgdGhpcy4kZW1pdCgic2F2ZSIpOwogICAgfSwKCiAgICB1cGRhdGVTRFQoKSB7CiAgICAgIHRoaXMuJGVtaXQoInVwZGF0ZVNEVCIpOwogICAgfSwKCiAgICByZWNlaXZlRG9jdW1lbnQoZmlsZSkgewogICAgICB0aGlzLmxvYWRlckZsYWcgPSB0cnVlOwogICAgICBBc3NldE1hbmFnZW1lbnRTZXJ2aWNlLnVwbG9hZEZpbGVUb3MzKHRoaXMuZmlsZVJlY29yZCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YS5yZXNwb25zZUlkZW50aWZpZXIgPT09ICJTdWNjZXNzIikgewogICAgICAgICAgbGV0IGltYWdlVm9pY2UgPSB7CiAgICAgICAgICAgIHV1aWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCksCiAgICAgICAgICAgIGNvbnRlbnRVcmw6IHJlcy5kYXRhLmZpbGVVcmwsCiAgICAgICAgICAgIGltYWdlRmxhZzogdHJ1ZSwKICAgICAgICAgICAgLy8gdGhpcyBuZWVkIHRvIGJlIGNoZWNrZWQKICAgICAgICAgICAgdm9pY2VGbGFnOiBmYWxzZSwKICAgICAgICAgICAgLy8gdGhpcyBuZWVkIHRvIGJlIGNoZWNrZWQKICAgICAgICAgICAgbWVzc2FnZUZsYWc6IGZhbHNlLAogICAgICAgICAgICBpc3N1ZVVVSUQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCkKICAgICAgICAgIH07IC8vIHRoaXMuaW1hZ2VWb2ljZXMgPSBbXTsKCiAgICAgICAgICB0aGlzLmltYWdlVm9pY2VzLnB1c2goaW1hZ2VWb2ljZSk7CiAgICAgICAgICB0aGlzLnNob3dUb2FzdCgiSW1hZ2UgYWRkZWQgc3VjY2Vzc2Z1bGx5IiwgInN1Y2Nlc3MiKTsKICAgICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgdGhpcy5zaG93VG9hc3QoYCR7ZX0uIFBsZWFzZSB1cGxvYWQgaW1hZ2UgYWdhaW5gLCAiZXJyb3IiKTsKICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAoKICAgIGNyZWF0ZUlzc3VlKCkgewogICAgICB0aGlzLiR2LiR0b3VjaCgpOwoKICAgICAgaWYgKHRoaXMuJHYuJGludmFsaWQpIHsKICAgICAgICB0aGlzLnNob3dUb2FzdCgiUGxlYXNlIGZpbGwgYXJlIHRoZSByZXF1aXJlZCBmaWVsZHMiLCAid2FybmluZyIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgbGV0IGlzc3VlUmVxdWVzdCA9IHsKICAgICAgICBpc3N1ZVJlcG9ydGluZzogewogICAgICAgICAgaXNzdWVOYW1lOiB0aGlzLmlzc3VlTmFtZSwKICAgICAgICAgIHN0YXR1czogInJlcG9ydGVkIiwKICAgICAgICAgIGluc3RydWN0aW9uQ2hlY2tsaXN0OiBKU09OLnN0cmluZ2lmeSh0aGlzLmluc3RydWN0aW9uQ2hlY2tsaXN0KSwKICAgICAgICAgIGFzc2V0VVVJRDogdGhpcy5hc3NldFVVSUQsCiAgICAgICAgICBzdWJtaXR0ZWRCeVVzZXJVVUlEOiB0aGlzLmN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLnVzZXJpZCwKICAgICAgICAgIHJlcG9ydGVkQnk6IHRoaXMuY3VycmVudFVzZXJEZXRhaWxzLnByb2ZpbGUuZmlyc3ROYW1lICsgIiAiICsgdGhpcy5jdXJyZW50VXNlckRldGFpbHMucHJvZmlsZS5sYXN0TmFtZSwKICAgICAgICAgIGlzc3VlVHlwZTogdGhpcy5pc3N1ZVR5cGUsCiAgICAgICAgICBpc3N1ZUNhdGVnb3J5OiB0aGlzLmlzc3VlQ2F0ZWdvcnksCiAgICAgICAgICBwcmlvcml0eTogdGhpcy5pc3N1ZVByaW9yaXR5LAogICAgICAgICAgdGVuYW50VVVJRDogdGhpcy5jdXJyZW50VXNlckRldGFpbHMucHJvZmlsZS5vcmdhbml6YXRpb25JZCwKICAgICAgICAgIGlzc3VlRmxhZzogdHJ1ZSwKICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLnJlcGFpckluc3RydWN0aW9uLAogICAgICAgICAgaXNzdWVEZXNjcmlwdGlvbjogdGhpcy51c2VyQ29tbWVudHMKICAgICAgICB9CiAgICAgIH07CgogICAgICBpZiAodGhpcy5zZWxlY3RlZEluc3BlY3Rpb25JdG0gIT09IHVuZGVmaW5lZCkgewogICAgICAgIGxldCBpbnNwZWN0aW9uSXRlbU9iaiA9IHsKICAgICAgICAgIGluc3BlY3Rpb25VVUlEOiB0aGlzLnNlbGVjdGVkSW5zcGVjdGlvbkl0bS5pbnNwZWN0aW9uVVVJRCwKICAgICAgICAgIGluc3BlY3Rpb25SZXBvcnRzRmllbGRzOiBbXQogICAgICAgIH07CgogICAgICAgIGZvciAobGV0IHNlbGVjdGVkX2luc3BlY3Rpb25faXRlbSBvZiB0aGlzLnNlbGVjdGVkSW5zcGVjdGlvbkl0bSkgewogICAgICAgICAgY29uc3QgZWxlbWVudCA9IHNlbGVjdGVkX2luc3BlY3Rpb25faXRlbS5pbnNwZWN0aW9uUmVwb3J0RmllbGRzWzBdLnV1aWQ7CiAgICAgICAgICBpbnNwZWN0aW9uSXRlbU9iai5pbnNwZWN0aW9uUmVwb3J0c0ZpZWxkcy5wdXNoKGVsZW1lbnQpOwogICAgICAgIH0KCiAgICAgICAgaXNzdWVSZXF1ZXN0Lmlzc3VlUmVwb3J0aW5nLmlucGVjdGlvbkl0ZW1zVVVJRCA9IEpTT04uc3RyaW5naWZ5KGluc3BlY3Rpb25JdGVtT2JqKTsKICAgICAgICBpc3N1ZVJlcXVlc3QuaXNzdWVSZXBvcnRpbmcuYXNzZXRVVUlEID0gdGhpcy5pbnNwZWN0aW9uQXNzZXRVVUlEOwogICAgICAgIGlzc3VlUmVxdWVzdC5pc3N1ZVJlcG9ydGluZy5hc3NldE5hbWUgPSB0aGlzLmFzc2V0Lm5hbWU7CiAgICAgICAgaXNzdWVSZXF1ZXN0Lmlzc3VlUmVwb3J0aW5nLmFzc2V0Q2F0ZWdvcnkgPSB0aGlzLmFzc2V0LmNhdGVnb3J5OwogICAgICAgIGlzc3VlUmVxdWVzdC5pc3N1ZVJlcG9ydGluZy5hc3NldE51bWJlciA9IHRoaXMuYXNzZXQuYXNzZXROdW1iZXI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaXNzdWVSZXF1ZXN0Lmlzc3VlUmVwb3J0aW5nLmFzc2V0VVVJRCA9IHRoaXMuYXNzZXRVVUlEOwoKICAgICAgICBpZiAodGhpcy5hc3NldFVVSUQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmFzc2V0VVVJRCAhPT0gbnVsbCkgewogICAgICAgICAgbGV0IGFzc2V0RGF0YSA9IHRoaXMuZ2V0QXNzZXREYXRhKHRoaXMuYXNzZXRVVUlEKTsKICAgICAgICAgIGlzc3VlUmVxdWVzdC5pc3N1ZVJlcG9ydGluZy5hc3NldE5hbWUgPSBhc3NldERhdGEubGFiZWw7CiAgICAgICAgICBpc3N1ZVJlcXVlc3QuaXNzdWVSZXBvcnRpbmcuYXNzZXRDYXRlZ29yeSA9IGFzc2V0RGF0YS50eXBlOwogICAgICAgICAgaXNzdWVSZXF1ZXN0Lmlzc3VlUmVwb3J0aW5nLmFzc2V0TnVtYmVyID0gYXNzZXREYXRhLmFzc2V0TnVtYmVyOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHRoaXMuJHJvdXRlLm5hbWUgPT09ICJzZXJ2aWNlLXJlcXVlc3RzIiB8fCB0aGlzLiRyb3V0ZS5uYW1lID09PSAic2VydmljZS1yZXF1ZXN0cy1kZXRhaWxzIiB8fCB0aGlzLiRyb3V0ZS5uYW1lID09PSAic2VydmljZS1yZXF1ZXN0cy1lZGl0IikgewogICAgICAgIGlzc3VlUmVxdWVzdC5pc3N1ZVJlcG9ydGluZy51dWlkID0gdGhpcy5zZXJ2aWNlUmVxdWVzdERldGFpbC51dWlkOwogICAgICAgIGlzc3VlUmVxdWVzdC5pc3N1ZVJlcG9ydGluZy5zZXJ2aWNlUmVxdWVzdEZsYWcgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIGlzc3VlUmVxdWVzdC5pc3N1ZVJlcG9ydGluZy5zZXJ2aWNlUmVxdWVzdEZsYWcgPSBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZmlsZVJlY29yZCAhPT0gbnVsbCB8fCB0aGlzLmltYWdlVm9pY2VzICE9ICIiKSB7CiAgICAgICAgdGhpcy5sb2FkZXJGbGFnID0gdHJ1ZTsKCiAgICAgICAgaWYgKHRoaXMuSW5zcGVjdGlvbkl0ZW1JbWFnZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB2YXIgcHJvcF9JbnNwZWN0aW9uSXRlbUltYWdlID0gdGhpcy5JbnNwZWN0aW9uSXRlbUltYWdlOwogICAgICAgICAgdmFyIGNsZWFuQXJyYXkgPSBwcm9wX0luc3BlY3Rpb25JdGVtSW1hZ2UubWFwKGl0ZW0gPT4gewogICAgICAgICAgICBkZWxldGUgaXRlbS5jb250ZW50LCBkZWxldGUgaXRlbS5maWVsZFVVSUQsIGRlbGV0ZSBpdGVtLm1lc3NhZ2U7CiAgICAgICAgICAgIGl0ZW0udXVpZCA9IHRoaXMuZ2VuZXJhdGVVVUlEKCksIGl0ZW0uY29udGVudFVybCwgaXRlbS5pbWFnZUZsYWcgPSB0cnVlLCBpdGVtLm1lc3NhZ2VGbGFnID0gdHJ1ZSwgaXRlbS5pc3N1ZVVVSUQgPSB0aGlzLmdlbmVyYXRlVVVJRCgpOwogICAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICAgIH0pOwogICAgICAgICAgcHJvcF9JbnNwZWN0aW9uSXRlbUltYWdlID0gY2xlYW5BcnJheTsKICAgICAgICAgIHRoaXMuaW1hZ2VWb2ljZXMucHVzaCguLi5wcm9wX0luc3BlY3Rpb25JdGVtSW1hZ2UpOwogICAgICAgIH0KCiAgICAgICAgaXNzdWVSZXF1ZXN0LmltYWdlVm9pY2VzID0gdGhpcy5pbWFnZVZvaWNlczsKICAgICAgICBJbnNwZWN0aW9uU2VydmljZS5hZGRJc3N1ZShpc3N1ZVJlcXVlc3QpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgdGhpcy5zYXZlKCk7CiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTsKICAgICAgICAgICAgdGhpcy4kZW1pdCgidG9hc3RGbGFnIik7IC8vIHRoaXMuc2hvd1RvYXN0KCJJc3N1ZSBDcmVhdGVkIFN1Y2Nlc3NmdWxseSIsICJzdWNjZXNzIik7CgogICAgICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodGhpcy4kcm91dGVyLm5hbWUgPT09ICJpbnNwZWN0aW9uLWRldGFpbHMiKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvaW5zcGVjdGlvbi1kZXRhaWxzLzppbnNwZWN0aW9uVVVJRCIpOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLiRyb3V0ZXIuaGlzdG9yeS5jdXJyZW50Lm5hbWUgPT09ICJzZXJ2aWNlLXJlcXVlc3RzIikgewogICAgICAgICAgICB0aGlzLnVwZGF0ZVNEVCgpOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLiRyb3V0ZXIuaGlzdG9yeS5jdXJyZW50Lm5hbWUgPT09ICJ2aWV3LWFzc2V0IikgewogICAgICAgICAgICB0aGlzLiRlbWl0KCJnZXRJc3N1ZXMiKTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgdGhpcy5sb2FkZXJGbGFnID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnNob3dUb2FzdChlcnIucmVzcG9uc2UuZGF0YS5kZXNjcmlwdGlvbiwgImVycm9yIik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zaG93VG9hc3QoIlBsZWFzZSBzZWxlY3QgdGhlIGltYWdlIiwgImVycm9yIik7CiAgICAgIH0KICAgIH0sCgogICAgZ2V0QXNzZXREYXRhKHV1aWQpIHsKICAgICAgbGV0IGluZGV4ID0gdW5kZWZpbmVkOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFsbEFzc2V0RGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLmFsbEFzc2V0RGF0YVtpXS51dWlkID09PSB1dWlkKSB7CiAgICAgICAgICBpbmRleCA9IGk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbmRleCAhPT0gdW5kZWZpbmVkID8gdGhpcy5hbGxBc3NldERhdGFbaW5kZXhdIDogaW5kZXg7CiAgICB9LAoKICAgIGdlbmVyYXRlVVVJRCgpIHsKICAgICAgbGV0IGQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKCiAgICAgIGlmIChEYXRlLm5vdygpKSB7CiAgICAgICAgZCA9IERhdGUubm93KCk7CiAgICAgIH0KCiAgICAgIGxldCB1dWlkID0gInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCIucmVwbGFjZSgvW3h5XS9nLCBjID0+IHsKICAgICAgICBsZXQgciA9IChkICsgTWF0aC5yYW5kb20oKSAqIDE2KSAlIDE2IHwgMDsKICAgICAgICBkID0gTWF0aC5mbG9vcihkIC8gMTYpOwogICAgICAgIHJldHVybiAoYyA9PT0gIngiID8gciA6IHIgJiAweDMgfCAweDgpLnRvU3RyaW5nKDE2KTsKICAgICAgfSk7CiAgICAgIHJldHVybiB1dWlkOwogICAgfSwKCiAgICBzZWxlY3RDYXRlKHZhbHVlKSB7CiAgICAgIHRoaXMudHlwZU9wdGlvbnMgPSBbXTsKICAgICAgdGhpcy5pc3N1ZVR5cGUgPSAiIjsKCiAgICAgIGZvciAobGV0IHggaW4gdGhpcy5jYXRlT3B0aW9ucykgewogICAgICAgIGlmICh2YWx1ZS52YWx1ZSA9PT0gdGhpcy5jYXRlT3B0aW9uc1t4XS5sYWJlbCAmJiB0aGlzLmNhdGVPcHRpb25zW3hdLm9wdGlvbnMgIT09ICIiKSB7CiAgICAgICAgICB2YXIgc3BsaXRWYWxzID0gdGhpcy5jYXRlT3B0aW9uc1t4XS5vcHRpb25zLnNwbGl0KCIsIik7CgogICAgICAgICAgZm9yIChsZXQgeSBpbiBzcGxpdFZhbHMpIHsKICAgICAgICAgICAgbGV0IG9iaiA9IHsKICAgICAgICAgICAgICBsYWJlbDogc3BsaXRWYWxzW3ldLAogICAgICAgICAgICAgIHZhbHVlOiBzcGxpdFZhbHNbeV0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy50eXBlT3B0aW9ucy5wdXNoKG9iaik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIG9uU2VsZWN0ZWRBc3NldENhdGVnb3J5KHZhbHVlKSB7CiAgICAgIHRoaXMuYXNzZXROYW1lcyA9IFtdOwoKICAgICAgZm9yIChsZXQgYXNzZXRfZGF0YSBvZiB0aGlzLmFsbEFzc2V0RGF0YSkgewogICAgICAgIGlmIChhc3NldF9kYXRhLmNhdGVnb3J5VVVJRCA9PT0gdmFsdWUuc2VsZWN0ZWRPYmplY3QuY2F0ZWdvcnlVVUlEKSB7CiAgICAgICAgICB0aGlzLmFzc2V0TmFtZXMucHVzaChhc3NldF9kYXRhKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuYXNzZXRJbmRleCsrOyAvLyBmb3IgaXNzdWUgY2F0ZWdvcnkKCiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmNhdGVnb3J5TGlzdC5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICBpZiAodGhpcy5jYXRlZ29yeUxpc3RbaW5kZXhdLm5hbWUgPT09IHZhbHVlLnZhbHVlKSB7CiAgICAgICAgICBmb3IgKGxldCBpbmRleDEgPSAwOyBpbmRleDEgPCB0aGlzLmNhdGVnb3J5TGlzdFtpbmRleF0uaXNzdWVzQ2F0ZWdvcnkuZmllbGRzLmxlbmd0aDsgaW5kZXgxKyspIHsKICAgICAgICAgICAgbGV0IG9iaiA9IHsKICAgICAgICAgICAgICBsYWJlbDogdGhpcy5jYXRlZ29yeUxpc3RbaW5kZXhdLmlzc3Vlc0NhdGVnb3J5LmZpZWxkc1tpbmRleDFdLmxhYmVsLAogICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmNhdGVnb3J5TGlzdFtpbmRleF0uaXNzdWVzQ2F0ZWdvcnkuZmllbGRzW2luZGV4MV0ubGFiZWwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy5jYXRlT3B0aW9ucy5wdXNoKHRoaXMuY2F0ZWdvcnlMaXN0W2luZGV4XS5pc3N1ZXNDYXRlZ29yeS5maWVsZHNbaW5kZXgxXSk7CiAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlPcHRpb25zLnB1c2gob2JqKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgY2xlYXJTZWxlY3RlZEFzc2V0Q2F0ZWdvcnkoKSB7CiAgICAgIHRoaXMuYXNzZXROYW1lcyA9IFtdOwogICAgICB0aGlzLmNhdGVnb3J5ID0gIiI7CiAgICAgIHRoaXMuYXNzZXROYW1lID0gIiI7CiAgICAgIHRoaXMuYXNzZXRJbmRleCsrOwogICAgfSwKCiAgICBvblNlbGVjdGVkQXNzZXROYW1lKHZhbHVlKSB7CiAgICAgIHRoaXMuYXNzZXRVVUlEID0gdmFsdWUuc2VsZWN0ZWRPYmplY3QudXVpZDsKICAgIH0sCgogICAgY2xlYXJTZWxlY3RlZEFzc2V0TmFtZSgpIHsKICAgICAgdGhpcy5hc3NldFVVSUQgPSAiIjsKICAgICAgdGhpcy5hc3NldE5hbWUgPSAiIjsKICAgICAgdGhpcy5hc3NldEluZGV4Kys7CiAgICB9LAoKICAgIGdldEFsbENhdGVnb3JpZXMoY3VycmVudFVzZXJEZXRhaWxzKSB7CiAgICAgIHRoaXMubG9hZGVyRmxhZyA9IHRydWU7CiAgICAgIEFzc2V0TWFuYWdlbWVudFNlcnZpY2UuZ2V0QWxsQXNzZXRDYXRlZ29yaWVzKGN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLm9yZ2FuaXphdGlvbklkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5jYXRlZ29yeUxpc3QgPSByZXMuZGF0YS5jYXRlZ29yaWVzOwoKICAgICAgICBmb3IgKGxldCBjYXRlZ29yeSBvZiByZXMuZGF0YS5jYXRlZ29yaWVzKSB7CiAgICAgICAgICBsZXQgb2JqID0gewogICAgICAgICAgICBpZDogY2F0ZWdvcnkuaWQsCiAgICAgICAgICAgIGNhdGVnb3J5VVVJRDogY2F0ZWdvcnkudXVpZCwKICAgICAgICAgICAgbGFiZWw6IGNhdGVnb3J5Lm5hbWUKICAgICAgICAgIH07CiAgICAgICAgICB0aGlzLmFzc2V0Q2F0ZWdvcnlPcHRpb25zLnB1c2gob2JqKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuZ2V0QWxsQXNzZXQoY3VycmVudFVzZXJEZXRhaWxzKTsKICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKCiAgICAgICAgaWYgKHRoaXMuJHJvdXRlLm5hbWUgPT0gImFzc2V0cyIgfHwgdGhpcy4kcm91dGUubmFtZSA9PSAndmlldy1hc3NldCcgfHwgdGhpcy4kcm91dGUubmFtZSA9PSAnaW5zcGVjdGlvbi1kZXRhaWxzJykgewogICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLm5hbWUgPT0gImFzc2V0cyIpIHsKICAgICAgICAgICAgdGhpcy5jYXRlTmFtZSA9IHRoaXMuYXNzZXRPYmouY2F0ZWdvcnlOYW1lOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLiRyb3V0ZS5uYW1lID09ICd2aWV3LWFzc2V0JykgewogICAgICAgICAgICB0aGlzLmNhdGVOYW1lID0gdGhpcy5hc3NldE9iai5jYXRlZ29yeS5uYW1lOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5jYXRlTmFtZSA9IHRoaXMuY2F0ZWdvcnk7CiAgICAgICAgICB9CgogICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuY2F0ZWdvcnlMaXN0Lmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgICBpZiAodGhpcy5jYXRlZ29yeUxpc3RbaW5kZXhdLm5hbWUgPT09IHRoaXMuY2F0ZU5hbWUpIHsKICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleDEgPSAwOyBpbmRleDEgPCB0aGlzLmNhdGVnb3J5TGlzdFtpbmRleF0uaXNzdWVzQ2F0ZWdvcnkuZmllbGRzLmxlbmd0aDsgaW5kZXgxKyspIHsKICAgICAgICAgICAgICAgIGxldCBvYmogPSB7CiAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmNhdGVnb3J5TGlzdFtpbmRleF0uaXNzdWVzQ2F0ZWdvcnkuZmllbGRzW2luZGV4MV0ubGFiZWwsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmNhdGVnb3J5TGlzdFtpbmRleF0uaXNzdWVzQ2F0ZWdvcnkuZmllbGRzW2luZGV4MV0ubGFiZWwKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB0aGlzLmNhdGVPcHRpb25zLnB1c2godGhpcy5jYXRlZ29yeUxpc3RbaW5kZXhdLmlzc3Vlc0NhdGVnb3J5LmZpZWxkc1tpbmRleDFdKTsKICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlPcHRpb25zLnB1c2gob2JqKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGdldEFsbEFzc2V0KGN1cnJlbnRVc2VyRGV0YWlscykgewogICAgICBsZXQgY2F0ZWdvcnlVVUlEID0gIiI7CiAgICAgIHRoaXMubG9hZGVyRmxhZyA9IHRydWU7CiAgICAgIEFzc2V0TWFuYWdlbWVudFNlcnZpY2UuZ2V0QWxsQXNzZXRzKGN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLm9yZ2FuaXphdGlvbklkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ2dldEFsbEFzc2V0cycscmVzKQogICAgICAgIGZvciAobGV0IGFzc2V0IG9mIHJlcy5kYXRhLmFzc2V0cykgewogICAgICAgICAgbGV0IG9iaiA9IHsKICAgICAgICAgICAgdXVpZDogYXNzZXQudXVpZCwKICAgICAgICAgICAgY2F0ZWdvcnlVVUlEOiBhc3NldC5jYXRlZ29yeVVVSUQsCiAgICAgICAgICAgIGxhYmVsOiBhc3NldC5uYW1lLAogICAgICAgICAgICB0eXBlOiBhc3NldC50eXBlLAogICAgICAgICAgICBhc3NldE51bWJlcjogYXNzZXQuYXNzZXROdW1iZXIKICAgICAgICAgIH07CiAgICAgICAgICB0aGlzLmFsbEFzc2V0RGF0YS5wdXNoKG9iaik7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmNyZWF0ZVdvcmtPcmRlciA9PT0gdHJ1ZSkgewogICAgICAgICAgZm9yIChsZXQgYXNzZXRfZGF0YSBvZiB0aGlzLmFsbEFzc2V0RGF0YSkgewogICAgICAgICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmFzc2V0VVVJRCA9PT0gYXNzZXRfZGF0YS51dWlkKSB7CiAgICAgICAgICAgICAgY2F0ZWdvcnlVVUlEID0gYXNzZXRfZGF0YS5jYXRlZ29yeVVVSUQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBmb3IgKGxldCBhc3NldF9jYXRlZ29yeSBvZiB0aGlzLmFzc2V0Q2F0ZWdvcnlPcHRpb25zKSB7CiAgICAgICAgICAgIGlmIChhc3NldF9jYXRlZ29yeS5jYXRlZ29yeVVVSUQgPT09IGNhdGVnb3J5VVVJRCkgewogICAgICAgICAgICAgIHRoaXMud29ya09yZGVyU3VtYXJ5LmNhdGVnb3J5ID0gYXNzZXRfY2F0ZWdvcnkubGFiZWw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBmb3IgKGxldCBhc3NldERhdGEgb2YgdGhpcy5hbGxBc3NldERhdGEpIHsKICAgICAgICAgICAgaWYgKGFzc2V0RGF0YS5jYXRlZ29yeVVVSUQgPT09IGNhdGVnb3J5VVVJRCkgewogICAgICAgICAgICAgIHRoaXMud29ya09yZGVyU3VtYXJ5Lm5hbWUgPSBhc3NldERhdGEubGFiZWw7CiAgICAgICAgICAgICAgdGhpcy5hc3NldE5hbWVzLnB1c2goYXNzZXREYXRhKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy5jYXRlZ29yeUluZGV4Kys7CiAgICAgICAgICB0aGlzLmFzc2V0SW5kZXgrKzsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGdldEFzc2V0KHV1aWQpIHsKICAgICAgQXNzZXRNYW5hZ2VtZW50U2VydmljZS5nZXRBc3NldE5hbWVBbmROdW1iZXJBbmRDYXRlZ29yeUJ5QXNzZXRVVUlEKHV1aWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICBsZXQgYXNzZXQgPSByZXNwb25zZS5kYXRhLmFzc2V0SW5mb0RUTzsKICAgICAgICAgIHRoaXMuYXNzZXQgPSBhc3NldDsKICAgICAgICAgIHRoaXMuYXNzZXROYW1lID0gYXNzZXQubmFtZTsKICAgICAgICAgIHRoaXMuY2F0ZWdvcnkgPSBhc3NldC5jYXRlZ29yeTsKICAgICAgICAgIHRoaXMuY2F0ZWdvcnlJbmRleCsrOwogICAgICAgICAgdGhpcy5hc3NldEluZGV4Kys7CiAgICAgICAgICB0aGlzLmZsYWcgPSB0cnVlOwogICAgICAgIH0gLy8gZGVidWdnZXIKCiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgdGhpcy5zaG93VG9hc3QoIkZhaWxlZCB0byBsb2FkIGFzc2V0IGluZm9ybWF0aW9uIS4iLCAiZXJyb3IiKTsKICAgICAgfSk7CiAgICB9LAoKICAgIHNldERhdGEoKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5uYW1lID09ICJhc3NldHMiKSB7CiAgICAgICAgdGhpcy5hc3NldE5hbWUgPSB0aGlzLmFzc2V0T2JqLm5hbWU7CiAgICAgICAgdGhpcy5jYXRlZ29yeSA9IHRoaXMuYXNzZXRPYmouY2F0ZWdvcnlOYW1lOwogICAgICAgIHRoaXMuZmxhZyA9IHRoaXMuYXNzZXRPYmouYXNzZXRGbGFnOwogICAgICAgIHRoaXMuYXNzZXRVVUlEID0gdGhpcy5hc3NldE9iai51dWlkOwogICAgICB9CgogICAgICBpZiAodGhpcy4kcm91dGUubmFtZSA9PSAiaW5zcGVjdGlvbi1kZXRhaWxzIiB8fCB0aGlzLiRyb3V0ZS5uYW1lID09PSAid29yay1vcmRlci1kZXRhaWxzIiB8fCB0aGlzLiRyb3V0ZS5uYW1lID09PSAiZWRpdC13b3JrLW9yZGVyLWRldGFpbHMiKSB7CiAgICAgICAgdGhpcy5nZXRBc3NldCh0aGlzLmluc3BlY3Rpb25Bc3NldFVVSUQpOwogICAgICB9CgogICAgICBpZiAodGhpcy4kcm91dGUubmFtZSA9PSAic2VydmljZS1yZXF1ZXN0cy1kZXRhaWxzIiB8fCB0aGlzLiRyb3V0ZS5uYW1lID09PSAic2VydmljZS1yZXF1ZXN0cy1lZGl0IikgewogICAgICAgIHRoaXMuYXNzZXROYW1lID0gdGhpcy5zZXJ2aWNlUmVxdWVzdERldGFpbC5hc3NldE5hbWU7CiAgICAgICAgdGhpcy5jYXRlZ29yeSA9IHRoaXMuc2VydmljZVJlcXVlc3REZXRhaWwuYXNzZXRDYXRlZ29yeTsKICAgICAgICB0aGlzLmFzc2V0SW5kZXgrKzsKICAgICAgICB0aGlzLmNhdGVnb3J5SW5kZXgrKzsKICAgICAgICB0aGlzLmZsYWcgPSB0cnVlOwogICAgICB9CgogICAgICBpZiAodGhpcy4kcm91dGUubmFtZSA9PSAic2VydmljZS1yZXF1ZXN0cyIpIHsKICAgICAgICB0aGlzLmFzc2V0TmFtZSA9IHRoaXMuc2VydmljZVJlcXVlc3REZXRhaWwuYXNzZXROYW1lOwogICAgICAgIHRoaXMuY2F0ZWdvcnkgPSB0aGlzLnNlcnZpY2VSZXF1ZXN0RGV0YWlsLmFzc2V0Q2F0ZWdvcnk7CiAgICAgICAgdGhpcy5pc3N1ZUNhdGVnb3J5ID0gdGhpcy5zZXJ2aWNlUmVxdWVzdERldGFpbC5pc3N1ZU5hbWU7CiAgICAgICAgdGhpcy5pc3N1ZVR5cGUgPSB0aGlzLnNlcnZpY2VSZXF1ZXN0RGV0YWlsLmlzc3VlVHlwZTsKICAgICAgICB0aGlzLnVzZXJDb21tZW50cyA9IHRoaXMuc2VydmljZVJlcXVlc3REZXRhaWwuaXNzdWVEZXNjcmlwdGlvbjsKICAgICAgICB0aGlzLmFzc2V0VVVJRCA9IHRoaXMuc2VydmljZVJlcXVlc3REZXRhaWwuYXNzZXRVVUlEOwogICAgICAgIHRoaXMuYXNzZXRJbmRleCsrOwogICAgICAgIHRoaXMuY2F0ZWdvcnlJbmRleCsrOwogICAgICAgIHRoaXMuY29tbWVudHNLZXkrKzsKICAgICAgICB0aGlzLmZsYWcgPSB0cnVlOwogICAgICB9CgogICAgICBpZiAodGhpcy4kcm91dGUubmFtZSA9PSAidmlldy1hc3NldCIpIHsKICAgICAgICB0aGlzLmFzc2V0TmFtZSA9IHRoaXMuYXNzZXRPYmoubmFtZTsKICAgICAgICB0aGlzLmFzc2V0VVVJRCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5hc3NldElEOwogICAgICAgIHRoaXMuY2F0ZWdvcnkgPSB0aGlzLmFzc2V0T2JqLmNhdGVnb3J5Lm5hbWU7CiAgICAgICAgdGhpcy5hc3NldEluZGV4Kys7CiAgICAgICAgdGhpcy5jYXRlZ29yeUluZGV4Kys7CiAgICAgICAgdGhpcy5mbGFnID0gdHJ1ZTsKICAgICAgfQogICAgfSwKCiAgICBnZXRTZXJ2aWNlUmVxdWVzdEJ5VVVJRCgpIHsKICAgICAgdGhpcy5zZWN0aW9uTG9hZGVyID0gdHJ1ZTsKICAgICAgSW5zcGVjdGlvblNlcnZpY2UuZ2V0U2VydmljZVJlcXVlc3RCeVVVSUQodGhpcy5zZXJ2aWNlUmVxdWVzdERldGFpbC51dWlkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgIHRoaXMuaW1nQXR0YWNobWVudFNob3cgPSByZXNwb25zZS5kYXRhLmF0dGFjaG1lbnRzOwogICAgICAgICAgbGV0IGltZ0F0dGFjaG1lbnRzID0gcmVzcG9uc2UuZGF0YS5hdHRhY2htZW50czsKCiAgICAgICAgICBmb3IgKGxldCB4IGluIGltZ0F0dGFjaG1lbnRzKSB7CiAgICAgICAgICAgIGxldCBpbWFnZVZvaWNlID0gewogICAgICAgICAgICAgIHV1aWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCksCiAgICAgICAgICAgICAgY29udGVudFVybDogaW1nQXR0YWNobWVudHNbeF0uY29udGVudFVybCwKICAgICAgICAgICAgICBpbWFnZUZsYWc6IHRydWUsCiAgICAgICAgICAgICAgLy8gdGhpcyBuZWVkIHRvIGJlIGNoZWNrZWQKICAgICAgICAgICAgICB2b2ljZUZsYWc6IGZhbHNlLAogICAgICAgICAgICAgIC8vIHRoaXMgbmVlZCB0byBiZSBjaGVja2VkCiAgICAgICAgICAgICAgbWVzc2FnZUZsYWc6IGZhbHNlLAogICAgICAgICAgICAgIGlzc3VlVVVJRDogdGhpcy5nZW5lcmF0ZVVVSUQoKQogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLmltYWdlVm9pY2VzLnB1c2goaW1hZ2VWb2ljZSk7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5zZWN0aW9uTG9hZGVyID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgdGhpcy5zaG93VG9hc3QoZXJyb3IuZGF0YS5yZXNwb25zZSwgImVycm9yIik7CiAgICAgIH0pOwogICAgfSwKCiAgICBzaG93VG9hc3QobWVzc2FnZSwgdHlwZSkgewogICAgICB0aGlzLnRvYXN0TWVzc2FnZSA9IG1lc3NhZ2U7CiAgICAgIHRoaXMudG9hc3RUeXBlID0gdHlwZTsKICAgICAgdGhpcy50b2FzdEZsYWcrKzsKICAgIH0KCiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuY3VycmVudFVzZXJEZXRhaWxzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVudFVzZXJEZXRhaWxzIikpOwogICAgdGhpcy5nZXRBbGxDYXRlZ29yaWVzKHRoaXMuY3VycmVudFVzZXJEZXRhaWxzKTsKCiAgICBpZiAodGhpcy5zZWxlY3RlZEluc3BlY3Rpb25JdG0gIT09IHVuZGVmaW5lZCkgewogICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMuc2VsZWN0ZWRJbnNwZWN0aW9uSXRtKSB7CiAgICAgICAgbGV0IG5hbWUgPSBpdGVtLm5hbWU7CiAgICAgICAgY29uc3QgZWxlbWVudCA9IGl0ZW0uaW1hZ2U7CgogICAgICAgIGZvciAobGV0IGVsZSBvZiBlbGVtZW50KSB7CiAgICAgICAgICBpZiAoZWxlLm1lc3NhZ2UpIHsKICAgICAgICAgICAgbGV0IGNvbW1lbnRzID0gbmFtZSArICIgOiAiICsgZWxlLm1lc3NhZ2U7CiAgICAgICAgICAgIHRoaXMudXNlckNvbW1lbnRzID0gY29tbWVudHM7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKHRoaXMuJHJvdXRlLnBhdGggPT0gIi9zZXJ2aWNlLXJlcXVlc3RzLyIpIHsKICAgICAgdGhpcy5nZXRTZXJ2aWNlUmVxdWVzdEJ5VVVJRCgpOwogICAgfSAvLyB0aGlzLmNyZWF0ZUlzc3VlSW1nLnB1c2godGhpcy5JbnNwZWN0aW9uSXRlbUltYWdlKQogICAgLy8gY29uc29sZS5sb2coJ2NyZWF0ZUlzc3VlSW1nJyx0aGlzLkluc3BlY3Rpb25JdGVtSW1hZ2UpCgoKICAgIHRoaXMuc2V0RGF0YSgpOwogIH0sCgogIHZhbGlkYXRpb25zOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICBpc3N1ZU5hbWU6IHsKICAgICAgICByZXF1aXJlZCwKICAgICAgICBtYXhMZW5ndGg6IG1heExlbmd0aCg2MCkKICAgICAgfSwKICAgICAgaXNzdWVUeXBlOiB7CiAgICAgICAgcmVxdWlyZWQKICAgICAgfSwKICAgICAgY2F0ZWdvcnk6IHsKICAgICAgICByZXF1aXJlZAogICAgICB9LAogICAgICBhc3NldE5hbWU6IHsKICAgICAgICByZXF1aXJlZAogICAgICB9LAogICAgICBpc3N1ZUNhdGVnb3J5OiB7CiAgICAgICAgcmVxdWlyZWQKICAgICAgfSwKICAgICAgaXNzdWVQcmlvcml0eTogewogICAgICAgIHJlcXVpcmVkCiAgICAgIH0sCiAgICAgIHVzZXJDb21tZW50czogewogICAgICAgIHJlcXVpcmVkLAogICAgICAgIG1heExlbmd0aDogbWF4TGVuZ3RoKDUwMCkKICAgICAgfSwKICAgICAgaW5zdHJ1Y3Rpb25DaGVja2xpc3Q6IHsKICAgICAgICAkZWFjaDogewogICAgICAgICAgdmFsdWU6IHsKICAgICAgICAgICAgcmVxdWlyZWQsCiAgICAgICAgICAgIG1heExlbmd0aDogbWF4TGVuZ3RoKDE5MCkKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBwcm9wczogewogICAgSW5zcGVjdGlvbkl0ZW1JbWFnZToge30sCiAgICBhc3NldFVVSURzOiB7fSwKICAgIHNlbGVjdGVkSW5zcGVjdGlvbkl0bToge30sCiAgICBpbnNwZWN0aW9uQXNzZXRVVUlEOiB7fSwKICAgIGFzc2V0T2JqOiB7fSwKICAgIGluc3BlY3Rpb25EZXRhaWw6IHt9LAogICAgc2VydmljZVJlcXVlc3REZXRhaWw6IHt9CiAgfQp9Ow=="},null]}
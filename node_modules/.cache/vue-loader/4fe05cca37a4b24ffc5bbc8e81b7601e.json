{"remainingRequest":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/views/settings/Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/views/settings/Profile.vue","mtime":1661968702444},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IEF1dGhTZXJ2aWNlIH0gZnJvbSAiLi4vLi4vc2VydmljZXMvQXV0aFNlcnZpY2UiOwppbXBvcnQgeyBBc3NldFBlcnNvbm5lbFNlcnZpY2UgfSBmcm9tICIuLi8uLi9zZXJ2aWNlcy9Bc3NldFBlcnNvbm5lbFNlcnZpY2UiOwppbXBvcnQgY291bnRyaWVzQnlDdXJyZW5jeSBmcm9tICIuLi8uLi9zaGFyZWQvQ291bnRyaWVzQnlDdXJyZW5jeSI7CmltcG9ydCB7IEZ1bmN0aW9ucyB9IGZyb20gIkAvc2hhcmVkL0Z1bmN0aW9ucyI7CmltcG9ydCB7IHJlcXVpcmVkLCBlbWFpbCB9IGZyb20gInZ1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyI7CgppbXBvcnQgbG9hZGVyIGZyb20gIkAvY29tcG9uZW50cy9Mb2FkZXIudnVlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUHJvZmlsZSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVwZGF0ZUNvbXA6IDAsCiAgICAgIGxvYWRlckZsYWc6IGZhbHNlLAogICAgICB0b2FzdEZsYWc6IDAsCiAgICAgIHRvYXN0TWVzc2FnZTogIiIsCiAgICAgIHRvYXN0VHlwZTogIiIsCiAgICAgIGlzQWRtaW46IGZhbHNlLAogICAgICBpZDogIiIsCiAgICAgIHZhbHVlZTogIiIsCiAgICAgIGZpbGVOYW1lOiAiIiwKICAgICAgZnN0TmFtZTogIiIsCiAgICAgIGxzdE5hbWU6ICIiLAogICAgICBkZXNpZ25hdGlvbjogIiIsCiAgICAgIGNtcG55TmFtZTogIiIsCiAgICAgIG1haWxBZGRyOiAiIiwKICAgICAgY250TnVtOiAiIiwKICAgICAgb2xkUGFzc3dvcmQ6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIG5ld1Bhc3N3b3JkOiAiIiwKICAgICAgb3RoZXJQYXNzd29yZDogIiIsCiAgICAgIG90aGVyTmV3UGFzc3dvcmQ6ICIiLAogICAgICBwcm9maWxlSW1hZ2U6CiAgICAgICAgImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veUg1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlCUkFBNyIsCiAgICAgIG5vdGlmeU9wdGlvbnM6IFsKICAgICAgICB7IG5hbWU6ICJOb25lIiwgdmFsdWU6IDMgfSwKICAgICAgICB7IG5hbWU6ICJFbWFpbCIsIHZhbHVlOiAyIH0sCiAgICAgICAgeyBuYW1lOiAiSW4tQXBwIE5vdGlmaWNhdGlvbiIsIHZhbHVlOiAxIH0sCiAgICAgICAgeyBuYW1lOiAiRW1haWwgJiBJbi1BcHAgTm90aWZpY2F0aW9uIiwgdmFsdWU6ICIwIiB9LAogICAgICBdLAogICAgICBwcmVmZXJlbmNlczogewogICAgICAgIGFzc2V0QXNzaWdubWVudDogMywKICAgICAgICBhc3NldFVuYXNzaWdubWVudDogMywKICAgICAgICBpbnNwZWN0aW9uUmVtaW5kZXI6IDMsCiAgICAgICAgZmF1bHR5SW5zcGVjdGlvbkNyZWF0ZWQ6IDMsCiAgICAgICAgaW5zcGVjdG9uQ3JlYXRlZDogMywKICAgICAgICBpc3N1ZVVwZGF0ZWQ6IDMsCiAgICAgICAgaXNzdWVDcmVhdGVkOiAzLAogICAgICAgIG1lc3NhZ2VzOiAzLAogICAgICAgIHdvcmtPcmRlckNyZWF0ZWQ6IDMsCiAgICAgICAgd29ya09yZGVyVXBkYXRlZDogMywKICAgICAgfSwKICAgICAgbm90aWZpY2F0aW9uVmFsdWU6IHt9LAogICAgICB1c3JPYmo6IHt9LCAvLyBUbyBzdG9yZSBhbmQgc2VuZCB1c2VyJ3MgZGF0YSB0byBiYWNrZW5kCiAgICAgIHBlcnNvbmFsSW5mbzoge30sCiAgICAgIGN1cnJlbnRVc2VyRGV0YWlsczogIiIsCiAgICAgIHVzZXJzT3B0aW9uczogW10sCiAgICAgIHNlbGVjdGVkVXNlcjogIiIsCiAgICAgIHVzZXJTZWxlY3RlZDogIiIsCiAgICAgIGNvbXBhbnlJbmZvOiB7fSwKICAgICAgY3VycmVuY3lPcHRpb246IFtdLAogICAgICBjdXJyZW5jeTogIiIsCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgbG9hZGVyLAogIH0sCiAgbWV0aG9kczogewogICAgY2xlYXJTZWxlY3RlZEN1cnJlbmN5KCkgewogICAgICB0aGlzLmN1cnJlbmN5ID0gbnVsbDsKICAgICAgdGhpcy51cGRhdGVDb21wKys7CiAgICB9LAogICAgcGVyc29uYWxJbmZvQWNjb3JkaW9uQ2xpY2soKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLnBlcnNvbmFsSW5mb0FjY29yZGlvbi5vcGVuRmxhZykgewogICAgICAgIHRoaXMuJHJlZnMuc2VjdXJpdHlJbmZvQWNjb3JkaW9uLm9wZW5GbGFnID0gZmFsc2U7CiAgICAgICAgdGhpcy4kcmVmcy5ub3RpZmljYXRpb25JbmZvQWNjb3JkaW9uLm9wZW5GbGFnID0gZmFsc2U7CiAgICAgICAgdGhpcy4kcmVmcy5wcmVmZXJlbmNlSW5mb0FjY29yZGlvbi5vcGVuRmxhZyA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgc2VjdXJpdHlBY2NvcmRpb25DbGljaygpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMuc2VjdXJpdHlJbmZvQWNjb3JkaW9uLm9wZW5GbGFnKSB7CiAgICAgICAgdGhpcy4kcmVmcy5wZXJzb25hbEluZm9BY2NvcmRpb24ub3BlbkZsYWcgPSBmYWxzZTsKICAgICAgICB0aGlzLiRyZWZzLm5vdGlmaWNhdGlvbkluZm9BY2NvcmRpb24ub3BlbkZsYWcgPSBmYWxzZTsKICAgICAgICB0aGlzLiRyZWZzLnByZWZlcmVuY2VJbmZvQWNjb3JkaW9uLm9wZW5GbGFnID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBub3RpZmljYXRpb25BY2NvcmRpb25DbGljaygpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMubm90aWZpY2F0aW9uSW5mb0FjY29yZGlvbi5vcGVuRmxhZykgewogICAgICAgIHRoaXMuJHJlZnMucGVyc29uYWxJbmZvQWNjb3JkaW9uLm9wZW5GbGFnID0gZmFsc2U7CiAgICAgICAgdGhpcy4kcmVmcy5zZWN1cml0eUluZm9BY2NvcmRpb24ub3BlbkZsYWcgPSBmYWxzZTsKICAgICAgICB0aGlzLiRyZWZzLnByZWZlcmVuY2VJbmZvQWNjb3JkaW9uLm9wZW5GbGFnID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBwcmVmZXJlbmNlSW5mb0FjY29yZGlvbkNsaWNrKCkgewogICAgICBpZiAodGhpcy4kcmVmcy5wcmVmZXJlbmNlSW5mb0FjY29yZGlvbi5vcGVuRmxhZykgewogICAgICAgIHRoaXMuJHJlZnMucGVyc29uYWxJbmZvQWNjb3JkaW9uLm9wZW5GbGFnID0gZmFsc2U7CiAgICAgICAgdGhpcy4kcmVmcy5zZWN1cml0eUluZm9BY2NvcmRpb24ub3BlbkZsYWcgPSBmYWxzZTsKICAgICAgICB0aGlzLiRyZWZzLm5vdGlmaWNhdGlvbkluZm9BY2NvcmRpb24ub3BlbkZsYWcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKCiAgICBjbGljaygpIHsKICAgICAgbGV0IHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsZVVwbG9hZCIpOwogICAgICB4LmNsaWNrKCk7CiAgICB9LAogICAgc2V0Tm90aWZpY2F0aW9ucyh1c3JPYmopIHsKICAgICAgdGhpcy5ub3RpZmljYXRpb25WYWx1ZSA9IHVzck9iai5wcm9maWxlLnVzZXJOb3RpZmljYXRpb247CiAgICB9LAogICAgZ2V0Rm9ybUVycm9yTWVzc2FnZShmaWVsZFZhbGlkYXRpb24pIHsKICAgICAgaWYgKGZpZWxkVmFsaWRhdGlvbi4kZGlydHkpIHsKICAgICAgICByZXR1cm4gRnVuY3Rpb25zLmdldEZvcm1GaWVsZEVycm9yTWVzc2FnZShmaWVsZFZhbGlkYXRpb24pOwogICAgICB9CiAgICB9LAogICAgZ2V0RGF0YSgpIHsKICAgICAgQXNzZXRQZXJzb25uZWxTZXJ2aWNlLmdldFVzZXIodGhpcy5jdXJyZW50VXNlckRldGFpbHMucHJvZmlsZS51c2VyaWQpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgaWYgKHJlcyAhPT0gdW5kZWZpbmVkICYmIHJlcy5kYXRhLnVzZXJSZXNwb25zZSkgewogICAgICAgICAgICB0aGlzLnVzck9iaiA9IHJlcy5kYXRhLnVzZXJSZXNwb25zZTsKCiAgICAgICAgICAgIEF1dGhTZXJ2aWNlLmdldFJvbGVzQnlVc2VyTmFtZUFuZE9yZ2FuaXphdGlvbklkKAogICAgICAgICAgICAgIHRoaXMudXNyT2JqLmVtYWlsLAogICAgICAgICAgICAgIHRoaXMudXNyT2JqLm9yZ2FuaXphdGlvblVVSUQKICAgICAgICAgICAgKQogICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgdGhpcy51c3JPYmoucm9sZXMgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgICAgdGhpcy51c3JPYmoucm9sZXNMYWJlbCA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBBc3NldFBlcnNvbm5lbFNlcnZpY2UuZ2V0Q29tcGFueSgKICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLm9yZ2FuaXphdGlvbklkCiAgICAgICAgICAgICkKICAgICAgICAgICAgICAudGhlbigocmVzMSkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5jb21wYW55SW5mbyA9IHJlczEuZGF0YS5jb21wYW55UmVzcG9uc2U7CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgfSwKICAgIG9uVXNlclNlbGVjdChvYmopIHsKICAgICAgdGhpcy51c2VyU2VsZWN0ZWQgPSBvYmouc2VsZWN0ZWRPYmplY3QudXNlcm5hbWU7CiAgICB9LAoKICAgIGZldGNoT3JnYW5pemF0aW9uVXNlcnMoKSB7CiAgICAgIEF1dGhTZXJ2aWNlLmdldE9yZ2FuaXphdGlvblVzZXJzKAogICAgICAgIHRoaXMuY3VycmVudFVzZXJEZXRhaWxzLnByb2ZpbGUub3JnYW5pemF0aW9uSWQKICAgICAgKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlICE9PSB1bmRlZmluZWQgJiYgcmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgbGV0IGZldGNoZWRVc2VycyA9IFtdOwogICAgICAgICAgICByZXNwb25zZS5kYXRhLmZvckVhY2goKHVzZXIsIGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgZmV0Y2hlZFVzZXJzLnB1c2goewogICAgICAgICAgICAgICAgaWQ6IGluZGV4LAogICAgICAgICAgICAgICAgbGFiZWw6CiAgICAgICAgICAgICAgICAgIHVzZXIuZmlyc3ROYW1lICsgIiAiICsgdXNlci5sYXN0TmFtZSArICIgLSAiICsgdXNlci51c2VybmFtZSwKICAgICAgICAgICAgICAgIHZhbHVlOiB1c2VyLmZpcnN0TmFtZSArICIgIiArIHVzZXIubGFzdE5hbWUsCiAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMudXNlcnNPcHRpb25zID0gZmV0Y2hlZFVzZXJzOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgfSwKCiAgICBzZXROb3RpZmlWYWx1ZSgkZXZlbnQsIHZhbCkgewogICAgICB0aGlzLnByZWZlcmVuY2VzW3ZhbF0gPSAkZXZlbnQuc2VsZWN0ZWRPYmplY3QudmFsdWU7CiAgICB9LAoKICAgIG5vdGlmaWNhdGlvblByZXNldCh2YWwpIHsKICAgICAgaWYgKHRoaXMucHJlZmVyZW5jZXNbdmFsXSA9PT0gMykgewogICAgICAgIHJldHVybiAiTm9uZSI7CiAgICAgIH0KICAgICAgaWYgKHRoaXMucHJlZmVyZW5jZXNbdmFsXSA9PT0gMikgewogICAgICAgIHJldHVybiAiRW1haWwiOwogICAgICB9CiAgICAgIGlmICh0aGlzLnByZWZlcmVuY2VzW3ZhbF0gPT09IDEpIHsKICAgICAgICByZXR1cm4gIkluLUFwcCBOb3RpZmljYXRpb24iOwogICAgICB9CiAgICAgIGlmICh0aGlzLnByZWZlcmVuY2VzW3ZhbF0gPT09ICIwIikgewogICAgICAgIHJldHVybiAiRW1haWwgJiBJbi1BcHAgTm90aWZpY2F0aW9uIjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIk5vbmUiOwogICAgICB9CiAgICB9LAoKICAgIGRhdGFVUkx0b0Jsb2IoZGF0YXVybCkgewogICAgICB2YXIgYXJyID0gZGF0YXVybC5zcGxpdCgiLCIpLAogICAgICAgIG1pbWUgPSBhcnJbMF0ubWF0Y2goLzooLio/KTsvKVsxXSwKICAgICAgICBic3RyID0gYXRvYihhcnJbMV0pLAogICAgICAgIG4gPSBic3RyLmxlbmd0aCwKICAgICAgICB1OGFyciA9IG5ldyBVaW50OEFycmF5KG4pOwogICAgICB3aGlsZSAobi0tKSB7CiAgICAgICAgdThhcnJbbl0gPSBic3RyLmNoYXJDb2RlQXQobik7CiAgICAgIH0KICAgICAgcmV0dXJuIG5ldyBCbG9iKFt1OGFycl0sIHsgdHlwZTogbWltZSB9KTsKICAgIH0sCgogICAgZ2V0RmlsZShlKSB7CiAgICAgIHRoaXMuZmlsZU5hbWUgPSBlLnRhcmdldC5maWxlc1swXS5uYW1lOwoKICAgICAgaWYgKHdpbmRvdy5GaWxlICYmIHdpbmRvdy5GaWxlUmVhZGVyICYmIHdpbmRvdy5GaWxlTGlzdCAmJiB3aW5kb3cuQmxvYikgewogICAgICAgIGlmICh0aGlzLmZpbGVOYW1lICE9IG51bGwpIHsKICAgICAgICAgIGlmIChlLnRhcmdldC5maWxlcy5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgIC8vIGlmIG11bHRpcGxlIGZpbGVzIGFyZSB1cGxvYWRlZAogICAgICAgICAgICB0aGlzLnNob3dUb2FzdCgiUGxlYXNlIFVwbG9hZCBhIHNpbmdsZSBmaWxlIGF0IGEgdGltZS4iLCAiZXJyb3IiKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vaW4gY2FzZSBvZiBzaW5nbGUgZmlsZQogICAgICAgICAgICB2YXIgc2l6ZSA9IE51bWJlcihlLnRhcmdldC5maWxlc1swXS5zaXplIC8gTWF0aC5wb3coMTAyNCwgMikpOwogICAgICAgICAgICBpZiAoc2l6ZSA+IDQpIHsKICAgICAgICAgICAgICB0aGlzLnNob3dUb2FzdCgKICAgICAgICAgICAgICAgICJUaGUgRmlsZSBzaXplIGxpbWl0IGV4Y2VlZGVkLiBQbGVhc2UgdXBsb2FkIGEgcGljdHVyZSBsZXNzIHRoYW4gNCBNQnMiLAogICAgICAgICAgICAgICAgImVycm9yIgogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZS50YXJnZXQuZmlsZXNbMF0pOwogICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9maWxlSW1hZ2UiKS5zcmMgPSByZWFkZXIucmVzdWx0OwogICAgICAgICAgICAgICAgdGhpcy5wcm9maWxlSW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZmlsZUltYWdlIikuc3JjOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5lcnJvckZsYWcgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNob3dUb2FzdCgKICAgICAgICAgICJUaGUgRmlsZSBBUElzIGFyZSBub3QgZnVsbHkgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci4iLAogICAgICAgICAgImVycm9yIgogICAgICAgICk7CiAgICAgIH0KICAgIH0sCiAgICBlZGl0Tm90aWZpY2F0aW9ucygpIHsKICAgICAgZm9yIChsZXQga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMucHJlZmVyZW5jZXMpKSB7CiAgICAgICAgaWYgKHRoaXMucHJlZmVyZW5jZXNba2V5XSA9PT0gIjAiKSB7CiAgICAgICAgICB0aGlzLnByZWZlcmVuY2VzW2tleV0gPSBwYXJzZUludCh0aGlzLnByZWZlcmVuY2VzW2tleV0pOwogICAgICAgIH0KICAgICAgfQogICAgICBsZXQgbm90aWZpY2F0aW9uID0gewogICAgICAgIHByZWZlcmVuY2VzOiB0aGlzLnByZWZlcmVuY2VzLAogICAgICAgIHVzZXJVVUlEOiB0aGlzLmN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLnVzZXJpZCwKICAgICAgfTsKICAgICAgQXNzZXRQZXJzb25uZWxTZXJ2aWNlLnVwZGF0ZVByZWZlcmVuY2VzTm90aWZjYXRpb24obm90aWZpY2F0aW9uKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5yZXNwb25zZUNvZGUgPT09ICJGMjAwIikgewogICAgICAgICAgICB0aGlzLnNob3dUb2FzdCgKICAgICAgICAgICAgICAiUGVyc29uYWwgTm90aWZpY2F0aW9uIFVwZGF0ZWQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICAic3VjY2VzcyIKICAgICAgICAgICAgKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc2hvd1RvYXN0KAogICAgICAgICAgICAgICJQZXJzb25hbCBOb3RpZmljYXRpb24gTm90IFVwZGF0ZWQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICAiZXJyb3IiCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgIHRoaXMuc2hvd1RvYXN0KCJQZXJzb25hbCBOb3RpZmljYXRpb24gU2VydmljZSBFcnJvciIsICJlcnJvciIpOwogICAgICAgIH0pOwogICAgfSwKICAgIGVkaXRQYXNzd29yZCgpIHsKICAgICAgaWYgKHRoaXMub2xkUGFzc3dvcmQgPT09ICIiKSB7CiAgICAgICAgdGhpcy5zaG93VG9hc3QoIk9sZCBQYXNzd29yZCBmaWVsZCBpcyBlbXB0eSIsICJlcnJvciIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucGFzc3dvcmQgPT09ICIiIHx8IHRoaXMubmV3UGFzc3dvcmQgPT09ICIiKSB7CiAgICAgICAgdGhpcy5zaG93VG9hc3QoIlBhc3N3b3JkIGZpZWxkIGlzIGVtcHR5IiwgImVycm9yIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICh0aGlzLnBhc3N3b3JkID09PSB0aGlzLm5ld1Bhc3N3b3JkKSB7CiAgICAgICAgbGV0IHVwZGF0ZVVzZXJQYXNzd29yZCA9IHsKICAgICAgICAgIG9sZFBhc3N3b3JkOiB0aGlzLm9sZFBhc3N3b3JkLAogICAgICAgICAgbmV3UGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsCiAgICAgICAgICBjb25maXJtUGFzc3dvcmQ6IHRoaXMubmV3UGFzc3dvcmQsCiAgICAgICAgfTsKICAgICAgICBBdXRoU2VydmljZS51cGRhdGVPdGhlclVzZXJzUGFzc3dvcmQodXBkYXRlVXNlclBhc3N3b3JkKQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZSAhPT0gdW5kZWZpbmVkICYmIHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgdGhpcy5zaG93VG9hc3QoIlBhc3N3b3JkIFVwZGF0ZWQgU3VjY2Vzc2Z1bGx5LiIsICJzdWNjZXNzIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5zaG93VG9hc3QoCiAgICAgICAgICAgICAgICAiUGFzc3dvcmQgQ2Fubm90IEJlIFVwZGF0ZWQgU3VjY2Vzc2Z1bGx5ISIsCiAgICAgICAgICAgICAgICAiZXJyb3IiCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICB0aGlzLnNob3dUb2FzdCgKICAgICAgICAgICAgICAiQ2hhbmdlIHBhc3N3b3JkIHJlcXVlc3QgZmFpbGVkLiBTZXJ2aWNlIGlzIG5vdCB3b3JraW5nIiwKICAgICAgICAgICAgICAiZXJyb3IiCiAgICAgICAgICAgICk7CiAgICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNob3dUb2FzdCgiUGFzc3dvcmQgbm90IG1hdGNoZWQiLCAiZXJyb3IiKTsKICAgICAgfQogICAgfSwKICAgIGVkaXRPdGhlclVzZXJQYXNzd29yZCgpIHsKICAgICAgaWYgKHRoaXMudXNlclNlbGVjdGVkID09PSAiIikgewogICAgICAgIHRoaXMuc2hvd1RvYXN0KCJPdGhlciBVc2VyIGlzIG5vdCBzZWxlY3RlZCIsICJ3YXJuaW5nIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICh0aGlzLm90aGVyUGFzc3dvcmQgPT09ICIiIHx8IHRoaXMub3RoZXJOZXdQYXNzd29yZCA9PT0gIiIpIHsKICAgICAgICB0aGlzLnNob3dUb2FzdCgiUGFzc3dvcmQgZmllbGQgaXMgZW1wdHkiLCAid2FybmluZyIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMub3RoZXJQYXNzd29yZCA9PT0gdGhpcy5vdGhlck5ld1Bhc3N3b3JkKSB7CiAgICAgICAgbGV0IHVwZGF0ZVVzZXJQYXNzd29yZCA9IHsKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJTZWxlY3RlZCwKICAgICAgICAgIG5ld1Bhc3N3b3JkOiB0aGlzLm90aGVyUGFzc3dvcmQsCiAgICAgICAgICBjb25maXJtUGFzc3dvcmQ6IHRoaXMub3RoZXJOZXdQYXNzd29yZCwKICAgICAgICB9OwogICAgICAgIEF1dGhTZXJ2aWNlLnVwZGF0ZU90aGVyVXNlcnNQYXNzd29yZCh1cGRhdGVVc2VyUGFzc3dvcmQpCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlICE9PSB1bmRlZmluZWQgJiYgcmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICB0aGlzLnNob3dUb2FzdCgKICAgICAgICAgICAgICAgICJPdGhlciBVc2VyIFBhc3N3b3JkIFVwZGF0ZWQgU3VjY2Vzc2Z1bGx5LiIsCiAgICAgICAgICAgICAgICAic3VjY2VzcyIKICAgICAgICAgICAgICApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuc2hvd1RvYXN0KAogICAgICAgICAgICAgICAgIk90aGVyIFVzZXIgUGFzc3dvcmQgQ2Fubm90IEJlIFVwZGF0ZWQgU3VjY2Vzc2Z1bGx5ISIsCiAgICAgICAgICAgICAgICAiZXJyb3IiCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICB0aGlzLnNob3dUb2FzdCgKICAgICAgICAgICAgICAiT3RoZXIgVXNlciBQYXNzd29yZCBDYW5ub3QgQmUgQ2hhbmdlZCBTZXJ2aWNlIGlzIG5vdCB3b3JraW5nISIsCiAgICAgICAgICAgICAgImVycm9yIgogICAgICAgICAgICApOwogICAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zaG93VG9hc3QoIlBhc3N3b3JkIG5vdCBtYXRjaGVkIG9mIG90aGVyIHVzZXIiLCAiZXJyb3IiKTsKICAgICAgfQogICAgfSwKCiAgICBlZGl0Q29tcGFueUluZm8oKSB7CiAgICAgIHRoaXMuJHYuY29tcGFueUluZm8uJHRvdWNoKCk7CiAgICAgIGlmICh0aGlzLiR2LmNvbXBhbnlJbmZvLiRpbnZhbGlkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc2hvd1RvYXN0KCJQbGVhc2UgZmlsbCBhbGwgcmVxdWlyZWQgZmllbGRzIiwgIndhcm5pbmciKTsKICAgICAgfQogICAgICB0aGlzLmxvYWRlckZsYWcgPSB0cnVlOwoKICAgICAgdGhpcy5jb21wYW55SW5mby5jb21wYW55RmllbGRzID0gW107CiAgICAgIEFzc2V0UGVyc29ubmVsU2VydmljZS51cGRhdGVDb21wYW55KHsgY29tcGFueTogdGhpcy5jb21wYW55SW5mbyB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IGZhbHNlOwogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICB0aGlzLnNob3dUb2FzdCgKICAgICAgICAgICAgICAiQ29tcGFueSBJbmZvcm1hdGlvbiBVcGRhdGVkIFN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgInN1Y2Nlc3MiCiAgICAgICAgICAgICk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnNob3dUb2FzdCgKICAgICAgICAgICAgICAiQ29tcGFueSBJbmZvcm1hdGlvbiBOb3QgVXBkYXRlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICJlcnJvciIKICAgICAgICAgICAgKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgdGhpcy5zaG93VG9hc3QoIkNvbXBhbnkgSW5mb3JtYXRpb24gU2F2aW5nIEVycm9yIiwgImVycm9yIik7CiAgICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCgogICAgZWRpdFBlcnNvbmFsSW5mbygpIHsKICAgICAgdGhpcy4kdi51c3JPYmouJHRvdWNoKCk7CiAgICAgIGlmICh0aGlzLiR2LnVzck9iai4kaW52YWxpZCkgewogICAgICAgIHJldHVybiB0aGlzLnNob3dUb2FzdCgiUGxlYXNlIGZpbGwgYWxsIHJlcXVpcmVkIGZpZWxkcyIsICJ3YXJuaW5nIik7CiAgICAgIH0KICAgICAgdGhpcy5sb2FkZXJGbGFnID0gdHJ1ZTsKICAgICAgdGhpcy5wZXJzb25hbEluZm8uY29udGFjdE51bWJlciA9IHRoaXMudXNyT2JqLmNvbnRhY3ROdW1iZXI7CiAgICAgIHRoaXMucGVyc29uYWxJbmZvLmZpcnN0TmFtZSA9IHRoaXMudXNyT2JqLmZpcnN0TmFtZTsKICAgICAgdGhpcy5wZXJzb25hbEluZm8ubGFzdE5hbWUgPSB0aGlzLnVzck9iai5sYXN0TmFtZTsKICAgICAgdGhpcy5wZXJzb25hbEluZm8uYWRkcmVzcyA9IHRoaXMudXNyT2JqLmFkZHJlc3M7CiAgICAgIHRoaXMucGVyc29uYWxJbmZvLmNvdW50cnkgPSB0aGlzLnVzck9iai5jb3VudHJ5OwogICAgICB0aGlzLnBlcnNvbmFsSW5mby5jaXR5ID0gdGhpcy51c3JPYmouY2l0eTsKICAgICAgdGhpcy5wZXJzb25hbEluZm8uZW1haWwgPSB0aGlzLnVzck9iai5lbWFpbDsKICAgICAgdGhpcy5wZXJzb25hbEluZm8udXVpZCA9IHRoaXMudXNyT2JqLnV1aWQ7CiAgICAgIHRoaXMucGVyc29uYWxJbmZvLnJvbGVzID0gdGhpcy51c3JPYmoucm9sZXM7CiAgICAgIHRoaXMucGVyc29uYWxJbmZvLnJvbGVzTGFiZWwgPSB0aGlzLnVzck9iai5yb2xlc0xhYmVsOwogICAgICB0aGlzLnBlcnNvbmFsSW5mby5vcmdhbml6YXRpb25VVUlEID0gdGhpcy5jdXJyZW50VXNlckRldGFpbHMucHJvZmlsZS5vcmdhbml6YXRpb25JZDsKICAgICAgdGhpcy5wZXJzb25hbEluZm8ubmFtZSA9CiAgICAgICAgdGhpcy51c3JPYmouZmlyc3ROYW1lICsgIiAiICsgdGhpcy51c3JPYmoubGFzdE5hbWU7CiAgICAgIHRoaXMucGVyc29uYWxJbmZvLmFzc2lnbmVkID0gdGhpcy51c3JPYmouYXNzaWduZWQ7CiAgICAgIHRoaXMucGVyc29uYWxJbmZvLmlkID0gdGhpcy51c3JPYmouaWQ7CiAgICAgIHRoaXMucGVyc29uYWxJbmZvLnBlcml2b3VzRW1haWwgPSB0aGlzLnVzck9iai5lbWFpbDsKICAgICAgQXV0aFNlcnZpY2UudXBkYXRlVXNlcih0aGlzLnBlcnNvbmFsSW5mbykKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLnNob3dUb2FzdCgKICAgICAgICAgICAgICAiUGVyc29uYWwgSW5mb3JtYXRpb24gVXBkYXRlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICJzdWNjZXNzIgogICAgICAgICAgICApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5sb2FkZXJGbGFnID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuc2hvd1RvYXN0KAogICAgICAgICAgICAgICJQZXJzb25hbCBJbmZvcm1hdGlvbiBOb3QgVXBkYXRlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICJlcnJvciIKICAgICAgICAgICAgKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgdGhpcy5zaG93VG9hc3QoIlBlcnNvbmFsIEluZm9ybWF0aW9uIFNhdmluZyBFcnJvciIsICJlcnJvciIpOwogICAgICAgICAgdGhpcy5sb2FkZXJGbGFnID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9LAogICAgZ2V0Q29tcGFueUN1cnJlbmN5KCkgewogICAgICBBc3NldFBlcnNvbm5lbFNlcnZpY2UuZ2V0Q29tcGFueUN1cnJlbmN5KAogICAgICAgIHRoaXMuY3VycmVudFVzZXJEZXRhaWxzLnByb2ZpbGUub3JnYW5pemF0aW9uSWQKICAgICAgKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5jdXJyZW5jeU9wdGlvbi5maW5kSW5kZXgoCiAgICAgICAgICAgICAgKGMpID0+IGMudmFsdWUgPT09IHJlcy5kYXRhLmN1cnJlbmN5CiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHRoaXMuY3VycmVuY3kgPSB0aGlzLmN1cnJlbmN5T3B0aW9uW2luZGV4XS5sYWJlbDsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgfSwKCiAgICBlZGl0UHJlZmVyZW5jZSgpIHsKICAgICAgdGhpcy4kdi5jdXJyZW5jeS4kdG91Y2goKTsKICAgICAgaWYgKHRoaXMuJHYuY3VycmVuY3kuJGludmFsaWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5zaG93VG9hc3QoIlBsZWFzZSBmaWxsIGFsbCByZXF1aXJlZCBmaWVsZHMiLCAid2FybmluZyIpOwogICAgICB9CiAgICAgIHRoaXMubG9hZGVyRmxhZyA9IHRydWU7CiAgICAgIGxldCByZXF1ZXN0T2JqZWN0ID0gewogICAgICAgIHV1aWQ6IHRoaXMuY3VycmVudFVzZXJEZXRhaWxzLnByb2ZpbGUub3JnYW5pemF0aW9uSWQsCiAgICAgICAgY3VycmVuY3k6IHRoaXMuY3VycmVuY3ksCiAgICAgIH07CiAgICAgIEFzc2V0UGVyc29ubmVsU2VydmljZS5jcmVhdGVDdXJyZW5jeShyZXF1ZXN0T2JqZWN0KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IGZhbHNlOwogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICB0aGlzLnNob3dUb2FzdCgiQ3VycmVuY3kgU2F2ZWQgU3VjY2Vzc2Z1bGx5ISIsICJzdWNjZXNzIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnNob3dUb2FzdCgiU2F2aW5nIEN1cnJlbmN5IEZhaWxlZCIsICJlcnJvciIpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IGZhbHNlOwogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgIHRoaXMuc2hvd1RvYXN0KCJTYXZpbmcgQ3VycmVuY3kgRmFpbGVkIiwgImVycm9yIik7CiAgICAgICAgfSk7CiAgICB9LAoKICAgIHNob3dUb2FzdChtZXNzYWdlLCB0eXBlKSB7CiAgICAgIHRoaXMudG9hc3RNZXNzYWdlID0gbWVzc2FnZTsKICAgICAgdGhpcy50b2FzdFR5cGUgPSB0eXBlOwogICAgICB0aGlzLnRvYXN0RmxhZysrOwogICAgfSwKICB9LAoKICBjb21wdXRlZDogewogICAgYmdJbWcoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgYmFja2dyb3VuZDogInVybCgiICsgdGhpcy5wcm9maWxlSW1hZ2UgKyAiKSIsCiAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICJjb250YWluIiwKICAgICAgICAib2JqZWN0LWZpdCI6ICJmaWxsIiwKICAgICAgfTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgZG9jdW1lbnQudGl0bGUgPSB0aGlzLiRyb3V0ZS5tZXRhLnRpdGxlOwogICAgdGhpcy5jdXJyZW50VXNlckRldGFpbHMgPSBKU09OLnBhcnNlKAogICAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVudFVzZXJEZXRhaWxzIikKICAgICk7CiAgICB0aGlzLmlzQWRtaW4gPSB0aGlzLmN1cnJlbnRVc2VyRGV0YWlscy5hdXRob3JpdGllcy5pbmNsdWRlcygiUk9MRV9BRE1JTiIpOwogICAgaWYgKHRoaXMuaXNBZG1pbikgewogICAgICB0aGlzLmZldGNoT3JnYW5pemF0aW9uVXNlcnMoKTsKICAgIH0KICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgdGhpcy5nZXRDb21wYW55Q3VycmVuY3koKTsKICAgIGNvdW50cmllc0J5Q3VycmVuY3kubWFwKChpdGVtKSA9PiB7CiAgICAgIHRoaXMuY3VycmVuY3lPcHRpb24ucHVzaCh7CiAgICAgICAgbGFiZWw6IGl0ZW0uY291bnRyeSwKICAgICAgICB2YWx1ZTogaXRlbS5jdXJyZW5jeV9jb2RlLAogICAgICB9KTsKICAgIH0pOwogIH0sCiAgdmFsaWRhdGlvbnM6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VycmVuY3k6IHsgcmVxdWlyZWQgfSwKICAgICAgdXNyT2JqOiB7CiAgICAgICAgZmlyc3ROYW1lOiB7IHJlcXVpcmVkIH0sCiAgICAgICAgbGFzdE5hbWU6IHsgcmVxdWlyZWQgfSwKICAgICAgICBlbWFpbDogeyBlbWFpbCwgcmVxdWlyZWQgfSwKICAgICAgICBjb250YWN0TnVtYmVyOiB7IHJlcXVpcmVkIH0sCiAgICAgICAgY2l0eTogeyByZXF1aXJlZCB9LAogICAgICAgIGFkZHJlc3M6IHsgcmVxdWlyZWQgfSwKICAgICAgICBjb3VudHJ5OiB7IHJlcXVpcmVkIH0sCiAgICAgIH0sCiAgICAgIGNvbXBhbnlJbmZvOiB7CiAgICAgICAgbmFtZTogeyByZXF1aXJlZCB9LAogICAgICAgIGVtYWlsOiB7CiAgICAgICAgICByZXF1aXJlZCwKICAgICAgICAgIGVtYWlsLAogICAgICAgIH0sCiAgICAgICAgY29udGFjdDogeyByZXF1aXJlZCB9LAogICAgICAgIHdlYnNpdGU6IHsgcmVxdWlyZWQgfSwKICAgICAgfSwKICAgIH07CiAgfSwKfTsK"},null]}
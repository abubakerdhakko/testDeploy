{"remainingRequest":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/views/usage/Usage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/views/usage/Usage.vue","mtime":1661968702444},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":1662622637759},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/babel-loader/lib/index.js","mtime":1662622637719},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":1662622637759},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js","mtime":1662622639723}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBWaWV3VXNhZ2UgZnJvbSAiLi9WaWV3VXNhZ2UudnVlIjsKaW1wb3J0IGFzc2V0UGVyc29ubmVsU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlcy9Bc3NldFBlcnNvbm5lbFNlcnZpY2UiOwppbXBvcnQgYXNzZXRNYW5hZ2VtZW50U2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlcy9Bc3NldE1hbmFnZW1lbnRTZXJ2aWNlIjsKaW1wb3J0IEVuZHBvaW50cyBmcm9tICIuLi8uLi9zZXJ2aWNlcy9FbmRQb2ludHMiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CgppbXBvcnQgbG9hZGVyIGZyb20gIkAvY29tcG9uZW50cy9Mb2FkZXIudnVlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVXNhZ2UiLAoKICBjb21wb25lbnRzOiB7IFZpZXdVc2FnZSwgbG9hZGVyIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkZXJGbGFnOiBmYWxzZSwKICAgICAgdG9hc3RGbGFnOiAwLAogICAgICB0b2FzdE1lc3NhZ2U6ICIiLAogICAgICB0b2FzdFR5cGU6ICIiLAogICAgICAvLyAtLS0tLS0tLS0tLS0tIFNEVCBEYXRhIFNUQVJUIC0tLS0tLS0tLS0tLS0tLS0KICAgICAgc2R0X3Rva2VuOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjdXJyZW50VXNlckRldGFpbHMiKSkKICAgICAgICAuYWNjZXNzX3Rva2VuLAogICAgICB1c2VyOiAiIiwKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICBpc0xvYWRpbmdQYWdlOiBmYWxzZSwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgcHJvbXB0OiBmYWxzZSwKICAgICAgcHJvbXB0Vmlld05hbWU6ICIiLAogICAgICBzZXJ2ZXJEYXRhOiAiIiwKICAgICAgZmlsdGVyRmllbGRMaXN0OiBbXSwKICAgICAgZXZlbnREYXRhOiAiIiwKICAgICAgcGFyZW50U3lzdGVtU2V0dGluZ3M6IHsKICAgICAgICBzZXJ2aWNlVVJMOiBFbmRwb2ludHMucHJlZmVyZW5jZVNlcnZpY2UucHJlZmVyZW5jZSwKICAgICAgICAvLyBzZXJ2aWNlVVJMOiAnaHR0cDovL2xvY2FsaG9zdDo4MDk5L3ByZWZlcmVuY2VzJywKICAgICAgICBidXR0b25zOiBbXSwKICAgICAgICBzZWFyY2hWYWx1ZTogIiIsCiAgICAgICAgaGVpZ2h0OiAiOTUwcHgiLAogICAgICAgIHNlbGVjdGlvbkNvbHVtbjogZmFsc2UsCiAgICAgICAgc2VsZWN0VHlwZTogIm5vbmUiLAogICAgICAgIG1vcmVPcHRpb25zOiBbXSwKICAgICAgICBhY3Rpb25zT3B0aW9uczogWyJWaWV3IiwgIkVkaXQiXSwKICAgICAgICBjb2x1bW5JY29uczogW10sCiAgICAgICAgcGlsbENvbmZpZzogWwogICAgICAgICAgeyBjb2x1bW46ICIiLCBzdGF0ZTogInN1Y2Nlc3MiLCBkYXRhOiAiIiB9LAogICAgICAgICAgeyBjb2x1bW46ICIiLCBzdGF0ZTogImVycm9yIiwgZGF0YTogIiIgfSwKICAgICAgICAgIHsgY29sdW1uOiAiIiwgc3RhdGU6ICJub3JtYWwiLCBkYXRhOiAiIiB9LAogICAgICAgIF0sCiAgICAgICAgc3RhdGljQ29sdW1uczogW10sCiAgICAgICAgdXNlcjogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVudFVzZXJEZXRhaWxzIikpLnByb2ZpbGUKICAgICAgICAgIC51c2VybmFtZSwKICAgICAgICB1cHBlcmNhc2VDb2x1bW5zOiBbXSwgLy8gcGFzcyBjb2x1bW4gbmFtZSB3aG9zZSBkYXRhIHNob3VsZCBiZSBzaG93biBpbiBjYXBzCiAgICAgICAgZGF0ZUZvcm1hdDogIkREL01NL3l5eXkgaGg6bW0gYSIsIC8vcGFzcyBhbnkgbW9tZW50IGRhdGUgZm9ybWF0IGhlcmUKICAgICAgfSwKICAgICAgcGFyZW50RGVmYXVsdFN5c3RlbVZpZXc6IHsKICAgICAgICB2aWV3TmFtZXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIkRlZmF1bHQgVmlldyIsCiAgICAgICAgICAgIHRpbGVGbGFnOiB0cnVlLAogICAgICAgICAgICBwb3NpdGlvbjogMSwKICAgICAgICAgICAgcHJpdmFjeTogInByaXZhdGUiLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIkFkZCBBIFZpZXcgVGlsZSIsCiAgICAgICAgICAgIHRpbGVGbGFnOiB0cnVlLAogICAgICAgICAgICBwb3NpdGlvbjogMCwKICAgICAgICAgICAgcHJpdmFjeTogInByaXZhdGUiLAogICAgICAgICAgfSwKICAgICAgICBdLAoKICAgICAgICBkZWZhdWx0VGFibGU6IHsKICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgdmlld05hbWU6ICJEZWZhdWx0IFZpZXciLAogICAgICAgICAgZGVuc2l0eTogIiIsCiAgICAgICAgICBwYWdlU2l6ZTogIiIsCiAgICAgICAgICBwYWdlTmFtZTogIiIsCiAgICAgICAgICB1c2VyOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjdXJyZW50VXNlckRldGFpbHMiKSkucHJvZmlsZQogICAgICAgICAgICAudXNlcm5hbWUsCiAgICAgICAgICBkZWZhdWx0Vmlld0ZsYWc6IHRydWUsCiAgICAgICAgICBzb3J0RmllbGQ6ICIiLAogICAgICAgICAgc29ydERpcmVjdGlvbjogIiIsCiAgICAgICAgICB0aWxlRmxhZzogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAxLCAvLyBhbHdheXMgcGFzcyAxCiAgICAgICAgICBwcml2YWN5OiAicHJpdmF0ZSIsCiAgICAgICAgICBjb2x1bW5zOiBbXSwKICAgICAgICB9LAogICAgICB9LAogICAgICBwYXJlbnREYXRhOiBbXSwKICAgICAgZmlsdGVyQ291bnQ6ICIiLAogICAgICBmaWVsZE5hbWVzOiBbXSwKICAgICAgLy8gLS0tLS0tLS0tLS0tLSBTRFQgRGF0YSBFTkQgLS0tLS0tLS0tLS0tLS0tLQogICAgICB2aWV3VXNhZ2VEaWFsb2c6IGZhbHNlLAogICAgICB1c2dhZXNJZDogMCwKICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgY3JlYXRlVXNhZ2VzKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogImNyZWF0ZS11c2FnZSIsCiAgICAgIH0pOwogICAgfSwKCiAgICB2aWV3VXNhZ2UoKSB7CiAgICAgIHRoaXMudmlld1VzYWdlRGlhbG9nID0gdHJ1ZTsKICAgIH0sCgogICAgY2xvc2VVc2FnZURpYWxvZygpIHsKICAgICAgdGhpcy52aWV3VXNhZ2VEaWFsb2cgPSBmYWxzZTsKICAgIH0sCiAgICAvLyAtLS0tLS0tLS0tLS0gU0RUIEZ1bmN0aW9ucyBTVEFSVCAtLS0tLS0tLS0tLS0tLQoKICAgIGdldEFjdGlvbnNPcHRpb24odmFsKSB7CiAgICAgIGlmICh2YWwudmFsdWUgPT0gIlZpZXciKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogInVzYWdlLWRldGFpbCIsCiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgdXNhZ2VJRDogdmFsLnJvdy5pZCwKICAgICAgICAgICAgdHlwZTogInZpZXciLAogICAgICAgICAgfSwKICAgICAgICB9KTsKICAgICAgfQogICAgICBpZiAodmFsLnZhbHVlID09ICJFZGl0IikgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJ1c2FnZS1kZXRhaWwiLAogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIHVzYWdlSUQ6IHZhbC5yb3cuaWQsCiAgICAgICAgICAgIHR5cGU6ICJlZGl0IiwKICAgICAgICAgIH0sCiAgICAgICAgfSk7CiAgICAgICAgLy8gdGhpcy51c2dhZXNJZCA9IHZhbC5yb3cuaWQ7CiAgICAgICAgLy8gdGhpcy52aWV3VXNhZ2UoKTsKICAgICAgfQogICAgfSwKCiAgICBjb252ZXJ0VG9DU1Yob2JqQXJyYXkpIHsKICAgICAgdmFyIGFycmF5ID0gdHlwZW9mIG9iakFycmF5ICE9ICJvYmplY3QiID8gSlNPTi5wYXJzZShvYmpBcnJheSkgOiBvYmpBcnJheTsKICAgICAgdmFyIHN0ciA9ICIiOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBsaW5lID0gIiI7CiAgICAgICAgZm9yICh2YXIgaW5kZXggaW4gYXJyYXlbaV0pIHsKICAgICAgICAgIGlmIChsaW5lICE9ICIiKSBsaW5lICs9ICIsIjsKCiAgICAgICAgICBsaW5lICs9IGFycmF5W2ldW2luZGV4XTsKICAgICAgICB9CgogICAgICAgIHN0ciArPSBsaW5lICsgIlxyXG4iOwogICAgICB9CgogICAgICByZXR1cm4gc3RyOwogICAgfSwKCiAgICBnZXREb3dubG9hZEFzT3B0aW9uKG9wdCkgewogICAgICBpZiAob3B0Lm9wdGlvbiA9PSAicGRmIikgewogICAgICAgIC8vIG5vdGlmaWNhdGlvbkFuZENvbW11bmljYXRpb25TZXJ2aWNlLmRvd25sb2FkU2VsZWN0ZWRQREYob2JqKQogICAgICAgIC8vIC50aGVuKChyZXMpID0+IHsKICAgICAgICAvLyBsZXQgZmlsZUNvbnRlbnRzID0gbnVsbDsKICAgICAgICAvLyAgICAgbGV0IHBvcHVwV2luPW51bGw7CiAgICAgICAgLy8gICAgIHBvcHVwV2luID0gd2luZG93Lm9wZW4oJycsICdfYmxhbmsnLCAndG9wPTAsbGVmdD0wLGhlaWdodD03MDAsd2lkdGg9MTAwMDsnKTsKICAgICAgICAvLyAgICAgbGV0IGRvY3VtZW50ID0gewogICAgICAgIC8vICAgICAgICAgJ2RvY3VtZW50TmFtZSc6ICdCaWxsaW5nJwogICAgICAgIC8vICAgICB9OwogICAgICAgIC8vIGZpbGVDb250ZW50cyA9IHJlcy5kYXRhLnR5cGUgKyByZXMuZGF0YS5jb250ZW50OwogICAgICAgIC8vICAgcG9wdXBXaW4uZG9jdW1lbnQud3JpdGUoYAogICAgICAgIC8vICAgICA8aHRtbD4KICAgICAgICAvLyAgICAgICAgIDxoZWFkPgogICAgICAgIC8vICAgICAgICAgIDwhLS10aXRsZT5QcmludCB0YWI8L3RpdGxlLS0+CiAgICAgICAgLy8gICAgICAgICAgICAgPHN0eWxlPgogICAgICAgIC8vICAgICAgICAgICAgICAgICAjYnV0dG9uc3tkaXNwbGF5Om5vbmU7fQogICAgICAgIC8vICAgICAgICAgICAgICAgICAgYm9keSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogIk9wZW4gU2FucyIsIC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgRXVjbGlkIENpcmN1bGFyIEIsICJIZWx2ZXRpY2EgTmV1ZSIsIEFyaWFsLCBzYW5zLXNlcmlmLCAiQXBwbGUgQ29sb3IgRW1vamkiLCAiU2Vnb2UgVUkgRW1vamkiLCAiU2Vnb2UgVUkgU3ltYm9sIjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMS41OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICMyMTI1Mjk7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICBidXR0b24sIG1ldGVyLCBwcm9ncmVzcyB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAtd2Via2l0LXdyaXRpbmctbW9kZTogaG9yaXpvbnRhbC10YiAhaW1wb3J0YW50OwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0LCBidXR0b24gewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGV4dC1yZW5kZXJpbmc6IGF1dG87CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBjb2xvcjogaW5pdGlhbDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiBub3JtYWw7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB3b3JkLXNwYWNpbmc6IG5vcm1hbDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiBub25lOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGV4dC1pbmRlbnQ6IDBweDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRleHQtc2hhZG93OiBub25lOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogc3RhcnQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDBlbTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IDQwMCAxMy4zMzMzcHggQXJpYWw7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgaW5wdXRbdHlwZT0iYnV0dG9uIiBpXSwgaW5wdXRbdHlwZT0ic3VibWl0IiBpXSwgaW5wdXRbdHlwZT0icmVzZXQiIGldLCBpbnB1dFt0eXBlPSJmaWxlIiBpXTo6LXdlYmtpdC1maWxlLXVwbG9hZC1idXR0b24sIGJ1dHRvbiB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogZGVmYXVsdDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBidXR0b250ZXh0OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogYnV0dG9uZmFjZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAycHggNnB4IDNweDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJvcmRlci13aWR0aDogMnB4OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXN0eWxlOiBvdXRzZXQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6IGJ1dHRvbmZhY2U7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBib3JkZXItaW1hZ2U6IGluaXRpYWw7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgaW5wdXQsIGJ1dHRvbiwgc2VsZWN0LCBvcHRncm91cCwgdGV4dGFyZWEgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IGluaGVyaXQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogaW5oZXJpdDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICBidXR0b24sIHNlbGVjdCB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogbm9uZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICAuYnRuIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuMzc1cmVtIDAuNzVyZW07CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDFyZW07CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMS41OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMC4yNXJlbTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQsIGJvcmRlci1jb2xvciAwLjE1cyBlYXNlLWluLW91dCwgYm94LXNoYWRvdyAwLjE1cyBlYXNlLWluLW91dDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICAuYnRuLW91dGxpbmUtcHJpbWFyeSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzAwN2JmZjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogbm9uZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogIzAwN2JmZjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICAuYnRuLW91dGxpbmUtcHJpbWFyeSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogI2QwMzIzMjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNkMDMyMzI7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgPHN0eWxlPi5mYSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb250OiBub3JtYWwgbm9ybWFsIG5vcm1hbCAxNHB4LzEgRm9udEF3ZXNvbWU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IGluaGVyaXQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0ZXh0LXJlbmRlcmluZzogYXV0bzsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfTwvc3R5bGU+CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIDxzdHlsZT4qLCAqOjpiZWZvcmUsICo6OmFmdGVyIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgU3R5bGUgQXR0cmlidXRlIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICAuYnRuLCAuZm9ybS1jb250cm9sIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuMjVyZW0gMC41cmVtOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAwLjg3NXJlbTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwLjNyZW07CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDE1cHg7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDIzcHg7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH08L3N0eWxlPgogICAgICAgIC8vICAgICAgICAgICAgIDwvc3R5bGU+CiAgICAgICAgLy8gICAgICAgICA8L2hlYWQ+CiAgICAgICAgLy8gICAgICAgICA8Ym9keSBvbmxvYWQ9IiI+CiAgICAgICAgLy8gICAgICAgICAgICAgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjpyaWdodDsiID4KICAgICAgICAvLyAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJHtmaWxlQ29udGVudHN9IiBkb3dubG9hZD0iJHtkb2N1bWVudC5kb2N1bWVudE5hbWV9Ij48YnV0dG9uIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXByaW1hcnkiPkRvd25sb2FkPC9idXR0b24+PC9hPgogICAgICAgIC8vICAgICAgICAgICAgIDwvZGl2PgogICAgICAgIC8vICAgICAgICAgICAgIDxicj4KICAgICAgICAvLyAgICAgICAgICAgICA8aWZyYW1lIHNyYz0nJHtmaWxlQ29udGVudHN9JyAgc3R5bGU9Im1pbi13aWR0aDogMTAwJTtoZWlnaHQ6IDEwMCU7IiA+PC9pZnJhbWU+CiAgICAgICAgLy8gICAgICAgICA8L2JvZHk+CiAgICAgICAgLy8gICAgIDwvaHRtbD5gCiAgICAgICAgLy8gKTsKICAgICAgICAvLyB9KQogICAgICAgIC8vIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTsKICAgICAgfSBlbHNlIGlmIChvcHQub3B0aW9uID09ICJjc3YiKSB7CiAgICAgICAgLy8gCWxldCBmaWxlVGl0bGUgPSAnQmlsbGluZ3MnOwogICAgICAgIC8vIAlsZXQgaGVhZGVycyA9IHsKICAgICAgICAvLyAgICAgICBjcmVhdGVkRGF0ZTogJ1JlcXVlc3RlZCBPbicucmVwbGFjZSgvLC9nLCAnJyksIC8vIHJlbW92ZSBjb21tYXMgdG8gYXZvaWQgZXJyb3JzCiAgICAgICAgLy8gICAgICAgZHVlRGF0ZTogIkR1ZSBEYXRlIiwKICAgICAgICAvLyAgICAgICBzaGlwbWVudE51bWJlcjogIlNoaXBtZW50ICMiLAogICAgICAgIC8vIAkJICBwb3J0T2ZMb2FkaW5nOiAiUG9ydCBvZiBMb2FkIiwKICAgICAgICAvLyAJCSAgcG9ydE9mRGlzY2hhcmdlOiAiUG9ydCBPZiBEaXNjaGFyZ2UiLAogICAgICAgIC8vIAkJICBhbW91bnQ6ICJBbW91bnQiLAogICAgICAgIC8vIAkJICBiYWxhbmNlOiAiQmFsYW5jZSIsCiAgICAgICAgLy8gCQkgIG5ldHN1aXRlU3RhdHVzOiAiU3RhdHVzIgogICAgICAgIC8vIAl9OwogICAgICAgIC8vIAlsZXQgZGF0YU9iaiA9IFtdOwogICAgICAgIC8vIAlmb3IgKGxldCBpID0gMDsgaSA8IG9wdC5yb3dzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgLy8gCQljb25zdCBiaWxsID0gb3B0LnJvd3NbaV07CiAgICAgICAgLy8gCQlkYXRhT2JqLnB1c2goewogICAgICAgIC8vIAkJCWNyZWF0ZWREYXRlOiBiaWxsLmNyZWF0ZWREYXRlLAogICAgICAgIC8vIAkJCWR1ZURhdGU6IGJpbGwuZHVlRGF0ZSwKICAgICAgICAvLyAJCQlzaGlwbWVudE51bWJlcjogYmlsbC5zaGlwbWVudE51bWJlciwKICAgICAgICAvLyAJCQlwb3J0T2ZMb2FkaW5nOiBiaWxsLnBvcnRPZkxvYWRpbmcsCiAgICAgICAgLy8gCQkJcG9ydE9mRGlzY2hhcmdlOiBiaWxsLnBvcnRPZkRpc2NoYXJnZSwKICAgICAgICAvLyAJCQlhbW91bnQ6IGJpbGwuYW1vdW50LAogICAgICAgIC8vIAkJCWJhbGFuY2U6IGJpbGwuYmFsYW5jZSwKICAgICAgICAvLyAJCQluZXRzdWl0ZVN0YXR1czogYmlsbC5uZXRzdWl0ZVN0YXR1cwogICAgICAgIC8vIAkJfSk7CiAgICAgICAgLy8gCX0KICAgICAgICAvLyAJdGhpcy5leHBvcnRDU1ZGaWxlKGhlYWRlcnMsIGRhdGFPYmosIGZpbGVUaXRsZSk7CiAgICAgIH0KICAgIH0sCgogICAgLy8gZXhwb3J0Q1NWRmlsZShoZWFkZXJzLCBiaWxsaW5nRGF0YSwgZmlsZVRpdGxlKSB7CiAgICAvLyAgICAgLy8gaWYgKGhlYWRlcnMpIHsKICAgIC8vICAgICAvLyAgICAgYmlsbGluZ0RhdGEudW5zaGlmdChoZWFkZXJzKTsKICAgIC8vICAgICAvLyB9CgogICAgLy8gICAgIC8vIC8vIENvbnZlcnQgT2JqZWN0IHRvIEpTT04KICAgIC8vICAgICAvLyB2YXIganNvbk9iamVjdCA9IEpTT04uc3RyaW5naWZ5KGJpbGxpbmdEYXRhKTsKCiAgICAvLyAgICAgLy8gdmFyIGNzdiA9IHRoaXMuY29udmVydFRvQ1NWKGpzb25PYmplY3QpOwoKICAgIC8vICAgICAvLyB2YXIgZXhwb3J0ZWRGaWxlbm1hZSA9IGZpbGVUaXRsZSArICcuY3N2JyB8fCAnZXhwb3J0LmNzdic7CgogICAgLy8gICAgIC8vIHZhciBibG9iID0gbmV3IEJsb2IoW2Nzdl0sIHsgdHlwZTogJ3RleHQvY3N2O2NoYXJzZXQ9dXRmLTg7JyB9KTsKICAgIC8vICAgICAvLyBpZiAobmF2aWdhdG9yLm1zU2F2ZUJsb2IpIHsgLy8gSUUgMTArCiAgICAvLyAgICAgLy8gICAgIG5hdmlnYXRvci5tc1NhdmVCbG9iKGJsb2IsIGV4cG9ydGVkRmlsZW5tYWUpOwogICAgLy8gICAgIC8vIH0gZWxzZSB7CiAgICAvLyAgICAgLy8gICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgLy8gICAgIC8vICAgICBpZiAobGluay5kb3dubG9hZCAhPT0gdW5kZWZpbmVkKSB7IC8vIGZlYXR1cmUgZGV0ZWN0aW9uCiAgICAvLyAgICAgLy8gICAgICAgICAvLyBCcm93c2VycyB0aGF0IHN1cHBvcnQgSFRNTDUgZG93bmxvYWQgYXR0cmlidXRlCiAgICAvLyAgICAgLy8gICAgICAgICB2YXIgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgIC8vICAgICAvLyAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCJocmVmIiwgdXJsKTsKICAgIC8vICAgICAvLyAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCJkb3dubG9hZCIsIGV4cG9ydGVkRmlsZW5tYWUpOwogICAgLy8gICAgIC8vICAgICAgICAgbGluay5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7CiAgICAvLyAgICAgLy8gICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspOwogICAgLy8gICAgIC8vICAgICAgICAgbGluay5jbGljaygpOwogICAgLy8gICAgIC8vICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTsKICAgIC8vICAgICAvLyAgICAgfQogICAgLy8gICAgIC8vIH0KICAgIC8vIH0sCgogICAgc2V0VGFibGVDb25maWdzKCkgewogICAgICB0aGlzLnBhcmVudERlZmF1bHRTeXN0ZW1WaWV3LmRlZmF1bHRUYWJsZS5kZW5zaXR5ID0gdGhpcy50YWJsZUNvbmZpZy5kZW5zaXR5OwogICAgICB0aGlzLnBhcmVudERlZmF1bHRTeXN0ZW1WaWV3LmRlZmF1bHRUYWJsZS5wYWdlU2l6ZSA9IHRoaXMudGFibGVDb25maWcucGFnZVNpemU7CiAgICAgIHRoaXMucGFyZW50RGVmYXVsdFN5c3RlbVZpZXcuZGVmYXVsdFRhYmxlLnBhZ2VOYW1lID0gdGhpcy50YWJsZUNvbmZpZy5wYWdlTmFtZTsKICAgICAgdGhpcy5wYXJlbnREZWZhdWx0U3lzdGVtVmlldy5kZWZhdWx0VGFibGUuc29ydEZpZWxkID0gdGhpcy50YWJsZUNvbmZpZy5zb3J0RmllbGQ7CiAgICAgIHRoaXMucGFyZW50RGVmYXVsdFN5c3RlbVZpZXcuZGVmYXVsdFRhYmxlLnNvcnREaXJlY3Rpb24gPSB0aGlzLnRhYmxlQ29uZmlnLnNvcnREaXJlY3Rpb247CiAgICAgIHRoaXMucGFyZW50RGVmYXVsdFN5c3RlbVZpZXcuZGVmYXVsdFRhYmxlLmNvbHVtbnMgPSB0aGlzLnRhYmxlQ29uZmlnLmNvbHVtbnM7CiAgICB9LAoKICAgIHNldFN0YXRpY0NvbHVtbigpIHsKICAgICAgbGV0IHN0YXRpY0NvbCA9IHRoaXMudGFibGVDb25maWcuY29sdW1ucy5maWx0ZXIoCiAgICAgICAgKGNvbCkgPT4gY29sLmxhYmVsTmFtZSA9PSAiQXNzZXQgTmFtZSIKICAgICAgKVswXTsKICAgICAgdGhpcy5wYXJlbnRTeXN0ZW1TZXR0aW5ncy5zdGF0aWNDb2x1bW5zLnB1c2goc3RhdGljQ29sKTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50YWJsZUNvbmZpZy5jb2x1bW5zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMudGFibGVDb25maWcuY29sdW1uc1tpXS5sYWJlbE5hbWUgPT0gc3RhdGljQ29sLmxhYmVsTmFtZSkgewogICAgICAgICAgdGhpcy50YWJsZUNvbmZpZy5jb2x1bW5zLnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgY2F0Y2hEZXBhcnR1cmU6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgLy8gZGVidWdnZXIKICAgICAgaWYgKGRhdGEuc3RhdHVzID09IDEgfHwgZGF0YS5zdGF0dXMgPT0gMykgewogICAgICAgIHRoaXMubG9hZFRhYmxlKGRhdGEpOwogICAgICB9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09IDQpIHsKICAgICAgICB0aGlzLmxvYWRUYWJsZShkYXRhKTsKICAgICAgfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSAxMCkgewogICAgICB9CiAgICB9LAoKICAgIGxvYWRUYWJsZShzZHREYXRhKSB7CiAgICAgIGxldCBmaWx0ZXJzID0gW107CiAgICAgIHRoaXMubG9hZGVyRmxhZyA9IHRydWU7CiAgICAgIGZvciAobGV0IHNkdF9kYXRhIG9mIHNkdERhdGEubWVzc2FnZSkgewogICAgICAgIGlmIChzZHRfZGF0YS5maWVsZE5hbWUgIT09ICJhY3Rpb25zIikgewogICAgICAgICAgbGV0IG5ld0RhdGUgPSAiIjsKICAgICAgICAgIGlmIChzZHRfZGF0YS5maWVsZFR5cGUgPT09ICJkYXRlIiAmJiBzZHRfZGF0YS5maWx0ZXJWYWx1ZSAhPT0gIiIpIHsKICAgICAgICAgICAgbGV0IGRhdGUgPSBzZHRfZGF0YS5maWx0ZXJWYWx1ZS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICBkYXRlID0gZGF0ZS5zcGxpdCgiLyIpOwogICAgICAgICAgICBuZXdEYXRlID0gbmV3IERhdGUoYCR7ZGF0ZVsxXX0vJHtkYXRlWzBdfS8ke2RhdGVbMl19YCk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoc2R0X2RhdGEuZmlsdGVyVmFsdWUgPT09IG51bGwpIHsKICAgICAgICAgICAgc2R0X2RhdGEuZmlsdGVyVmFsdWUgPSAiIjsKICAgICAgICAgIH0KICAgICAgICAgIGZpbHRlcnMucHVzaCh7CiAgICAgICAgICAgIGZpZWxkTmFtZTogc2R0X2RhdGEuZmllbGROYW1lLAogICAgICAgICAgICBmaWVsZFR5cGU6IHNkdF9kYXRhLmZpZWxkVHlwZSwKICAgICAgICAgICAgZmlsdGVyVmFsdWU6CiAgICAgICAgICAgICAgbmV3RGF0ZSA9PT0gbnVsbCB8fCBuZXdEYXRlID09PSAiIgogICAgICAgICAgICAgICAgPyBzZHRfZGF0YS5maWx0ZXJWYWx1ZQogICAgICAgICAgICAgICAgOiBuZXdEYXRlLmdldFRpbWUoKSwKICAgICAgICAgICAgc2Vjb25kVmFsdWU6IHNkdF9kYXRhLnNlY29uZFZhbHVlLAogICAgICAgICAgICBjb21wYXJpc29uVHlwZTogc2R0X2RhdGEuY29tcGFyaXNvblR5cGUsCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuZ2V0UGFnaW5hdGVkVXNhZ2VzKAogICAgICAgIGZpbHRlcnMsCiAgICAgICAgc2R0RGF0YS5kYXRhLnNvcnRGaWVsZCwKICAgICAgICBzZHREYXRhLmRhdGEuc29ydERpcmVjdGlvbiwKICAgICAgICBzZHREYXRhLmRhdGEub2Zmc2V0LAogICAgICAgIHNkdERhdGEuZGF0YS5saW1pdCwKICAgICAgICBzZHREYXRhLmRhdGEuc2VhcmNoUXVlcnkKICAgICAgKTsKICAgIH0sCgogICAgbG9hZFNEVChyZXNwb25zZSwgZGF0YSkgewogICAgICB0aGlzLnBhcmVudERhdGEgPSBkYXRhOwogICAgICBsZXQgZXZlbnREYXRhID0gewogICAgICAgIGRhdGE6IHRoaXMucGFyZW50RGF0YSwKICAgICAgICB0b3RhbEVsZW1lbnRzOiByZXNwb25zZS5kYXRhLnNkdERhdGEudG90YWxFbGVtZW50cywKICAgICAgICB0b3RhbFBhZ2VzOiByZXNwb25zZS5kYXRhLnNkdERhdGEudG90YWxQYWdlcywKICAgICAgICBwYWdlTnVtYmVyOiByZXNwb25zZS5kYXRhLnNkdERhdGEub2Zmc2V0LAogICAgICB9OwogICAgICB0aGlzLiRyZWZzLnRlc3QuZGF0YUxvYWRFdmVudChldmVudERhdGEpOwogICAgfSwKCiAgICBleHRyYWN0RmllbGROYW1lc0ZvclNlYXJjaFF1ZXJ5KGNvbmZpZykgewogICAgICBmb3IgKGxldCBjb2x1bW4gb2YgY29uZmlnLmNvbHVtbnMpIHsKICAgICAgICB0aGlzLmZpZWxkTmFtZXMucHVzaChjb2x1bW4uZmllbGROYW1lKTsKICAgICAgfQogICAgfSwKCiAgICBnZXRQYWdpbmF0ZWRVc2FnZXMoCiAgICAgIGZpbHRlcnMsCiAgICAgIHNvcnRGaWVsZCwKICAgICAgc29ydERpcmVjdGlvbiwKICAgICAgb2Zmc2V0LAogICAgICBsaW1pdCwKICAgICAgc2VhcmNoUXVlcnkKICAgICkgewogICAgICBsZXQgY3VycmVudFVzZXJEZXRhaWxzID0gSlNPTi5wYXJzZSgKICAgICAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVudFVzZXJEZXRhaWxzIikKICAgICAgKTsKCiAgICAgIGxldCByZXF1ZXN0T2JqID0gewogICAgICAgIHNlYXJjaFF1ZXJ5OiBzZWFyY2hRdWVyeSwKICAgICAgICBmaWx0ZXJzOiBmaWx0ZXJzLAogICAgICAgIHNvcnRGaWVsZDogc29ydEZpZWxkLAogICAgICAgIHNvcnREaXJlY3Rpb246IHNvcnREaXJlY3Rpb24sCiAgICAgICAgb2Zmc2V0OiBvZmZzZXQsCiAgICAgICAgbGltaXQ6IGxpbWl0LAogICAgICAgIHRlbmFudFVVSUQ6IGN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLm9yZ2FuaXphdGlvbklkLAogICAgICAgIGZpZWxkTmFtZXM6IHRoaXMuZmllbGROYW1lcywKICAgICAgfTsKCiAgICAgIGFzc2V0TWFuYWdlbWVudFNlcnZpY2UKICAgICAgICAuZ2V0UGFnaW5hdGVkVXNhZ2VzRm9yU0RUKHJlcXVlc3RPYmopCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICByZXNwb25zZS5kYXRhLnNkdERhdGEuY29udGVudC5tYXAoKGl0ZW0pID0+IHsKICAgICAgICAgICAgICBpdGVtLmNyZWF0ZWRBdCA9IG1vbWVudAogICAgICAgICAgICAgICAgLnV0YyhpdGVtLmNyZWF0ZWRBdCkKICAgICAgICAgICAgICAgIC5sb2NhbCgpCiAgICAgICAgICAgICAgICAuZm9ybWF0KCdERC9NTS9ZWVlZIGhoOm1tIGEnKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBsZXQgdXNhZ2VzID0gcmVzcG9uc2UuZGF0YS5zZHREYXRhLmNvbnRlbnQ7CiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuc2R0RGF0YS5vZmZzZXQgPSBvZmZzZXQgKyAxOwogICAgICAgICAgICB0aGlzLmxvYWRTRFQocmVzcG9uc2UsIHVzYWdlcyk7CiAgICAgICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IGZhbHNlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5sb2FkZXJGbGFnID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuc2hvd1RvYXN0KCJPcHBzIGl0cyBsb29rIGxpa2Ugb3VyIHNlcnZlciBpcyBvZmZsaW5lIiwgImVycm9yIik7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UgIT09IHVuZGVmaW5lZCAmJiBlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwNikgewogICAgICAgICAgICAvLyBhbGVydChlcnJvci5yZXNwb25zZS5kYXRhLmRlc2NyaXB0aW9uKQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIC8vIC0tLS0tLS0tLS0tLSBTRFQgRnVuY3Rpb25zIEVORCAtLS0tLS0tLS0tLS0tLQoKICAgIHNob3dUb2FzdChtZXNzYWdlLCB0eXBlKSB7CiAgICAgIHRoaXMudG9hc3RNZXNzYWdlID0gbWVzc2FnZTsKICAgICAgdGhpcy50b2FzdFR5cGUgPSB0eXBlOwogICAgICB0aGlzLnRvYXN0RmxhZysrOwogICAgfSwKICB9LAoKICBtb3VudGVkKCkgewogICAgZG9jdW1lbnQudGl0bGUgPSB0aGlzLiRyb3V0ZS5tZXRhLnRpdGxlOwogICAgbGV0IGN1cnJlbnRVc2VyRGV0YWlscyA9IEpTT04ucGFyc2UoCiAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjdXJyZW50VXNlckRldGFpbHMiKQogICAgKTsKICAgIGlmIChjdXJyZW50VXNlckRldGFpbHMgPT09IG51bGwpIHsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImZvcmNlU2lnbm91dCIsICJ5ZXMiKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vIGZldGNoaW5nIGNvbmZpZ3MKICAgIGxldCB1dWlkID0gY3VycmVudFVzZXJEZXRhaWxzLnByb2ZpbGUub3JnYW5pemF0aW9uSWQ7CgogICAgYXNzZXRQZXJzb25uZWxTZXJ2aWNlCiAgICAgIC5nZXRPcmdDb25maWdzKHV1aWQsICJ0YWJsZUNvbmZpZ3MiKQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICBsZXQgYWxsQ29uZmlncyA9IEpTT04ucGFyc2UocmVzcG9uc2UuZGF0YS50YWJsZUNvbmZpZ3MpOwogICAgICAgIHRoaXMudGFibGVDb25maWcgPSBhbGxDb25maWdzLmZpbHRlcigKICAgICAgICAgIChkYXRhKSA9PiBkYXRhLnBhZ2VOYW1lID09PSAiVXNhZ2VzIgogICAgICAgIClbMF07CiAgICAgICAgdGhpcy5leHRyYWN0RmllbGROYW1lc0ZvclNlYXJjaFF1ZXJ5KHRoaXMudGFibGVDb25maWcpOwogICAgICAgIHRoaXMuc2V0U3RhdGljQ29sdW1uKCk7CiAgICAgICAgdGhpcy5zZXRUYWJsZUNvbmZpZ3MoKTsKICAgICAgfSkKICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgIHRoaXMuc2hvd1RvYXN0KCJFcnJvciBmZXRjaGluZyBjb25maWdzIiwgImVycm9yIik7CiAgICAgIH0pOwoKICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMudG9hc3RGbGFnKSB7CiAgICAgIHRoaXMuc2hvd1RvYXN0KAogICAgICAgIHRoaXMuJHJvdXRlLnBhcmFtcy50b2FzdE1lc3NhZ2UsCiAgICAgICAgdGhpcy4kcm91dGUucGFyYW1zLnRvYXN0VHlwZQogICAgICApOwogICAgfQogIH0sCgogIHZhbGlkYXRpb25zOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7fTsKICB9LAoKICBjb21wdXRlZDoge30sCn07Cg=="},null]}
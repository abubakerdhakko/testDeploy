{"remainingRequest":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/components/InspectionItems.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/components/InspectionItems.vue","mtime":1661968702404},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":1662622637759},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/babel-loader/lib/index.js","mtime":1662622637719},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":1662622637759},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js","mtime":1662622639723}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBJbnNwZWN0aW9uU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9JbnNwZWN0aW9uU2VydmljZSI7CmltcG9ydCBXb3JrT3JkZXJTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL1dvcmtPcmRlclNlcnZpY2UiOwppbXBvcnQgQ3JlYXRlSXNzdWUgZnJvbSAiLi4vY29tcG9uZW50cy9DcmVhdGVJc3N1ZSI7CmltcG9ydCBFeGlzdGluZ0lzc3VlIGZyb20gIi4uL2NvbXBvbmVudHMvRXhpc3RpbmdJc3N1ZSI7CmltcG9ydCBJZ25vcmVJbnNwZWN0aW9uSXRlbXMgZnJvbSAiLi4vdmlld3MvaW5zcGVjdGlvbi9jb21wb25lbnRzL0lnbm9yZUluc3BlY3Rpb25JdGVtcyI7CmltcG9ydCBsb2FkZXIgZnJvbSAiLi9Mb2FkZXIudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJJbnNwZWN0aW9uSXRlbSIsCgogIGNvbXBvbmVudHM6IHsKICAgIENyZWF0ZUlzc3VlLAogICAgRXhpc3RpbmdJc3N1ZSwKICAgIElnbm9yZUluc3BlY3Rpb25JdGVtcywKICAgIGxvYWRlciwKICB9LAogIHByb3BzOiB7CiAgICBpbnNwZWN0aW9uUmVwb3J0SXRlbToge30sCiAgICBpbWFnZVZvaWNlczoge30sCiAgICBhc3NldFVVSUQ6IHt9LAogICAgc2hvd1RvYXN0OiB7fSwKICAgIHdvcmtPcmRlcjoge30sCiAgICBzZXRMb2FkaW5nOiB7fSwKICAgIHR5cGU6IHt9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1heGltdW1JbWFnZTogMiwKICAgICAgaGlkZUFkZEljb246IHRydWUsCiAgICAgIGl0ZW1JbWFnZXM6IFtdLAogICAgICBpbWFnZUluZGV4OiAwLAogICAgICBsb2FkZXJGbGFnOiBmYWxzZSwKICAgICAgaW1hZ2VzUHJlc2VudDogZmFsc2UsCiAgICAgIGN1cnJlbnRVc2VyRGV0YWlsczogIiIsCiAgICAgIGRpc2FibGVBY3Rpb25zOiB0cnVlLAogICAgICBsb2NhdGlvbkRpYWxvZzogZmFsc2UsCiAgICAgIGZhaWxlZE9ubHk6IGZhbHNlLAogICAgICBmaWx0ZXJMYWJlbDogImFsbCIsCiAgICAgIGZpbHRlck9wdGlvbnM6IFsKICAgICAgICB7IGxhYmVsOiAiQWxsIiwgdmFsdWU6ICJhbGwiIH0sCiAgICAgICAgeyBsYWJlbDogIkltYWdlIE9ubHkiLCB2YWx1ZTogImltYWdlIiB9LAogICAgICAgIHsgbGFiZWw6ICJDb21tZW50cyBPbmx5IiwgdmFsdWU6ICJjb21tZW50cyIgfSwKICAgICAgXSwKICAgICAgcmVzZXRJbWFnZXM6IDAsCiAgICAgIGluc3BlY3Rpb25JdGVtczogbnVsbCwKICAgICAgZmlsdGVySW5kZXg6IDAsCiAgICAgIGNyZWF0ZUlzc3VlOiBmYWxzZSwKICAgICAgbWVyZ2VJc3N1ZTogZmFsc2UsCiAgICAgIGlnbm9yZU5ld0lzc3VlOiBmYWxzZSwKICAgICAgaXNzdWVzT3B0aW9uOiBbXSwKICAgICAgc2VydmljZVJlcXVlc3Q6ICIiLAogICAgICBpc3N1ZXM6ICIiLAogICAgICBzZWxlY3RlZEluc3BlY3Rpb25JdG06IFtdLAogICAgICBpbnNwZWN0aW9uQXNzZXRVVUlEOiAiIiwKICAgICAgbW9kZWw6ICIiLAogICAgICBpbnNwZWN0aW9udXVpZDogIiIsCiAgICAgIHN0YXR1czogIiIsCiAgICAgIGluc3BlY3Rpb25EZXRhaWw6ICIiLAogICAgICBkaWFsb2dJbWFnZTogIiIsCiAgICAgIHNvdXJjZTogWwogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICJDcmVhdGUgSXNzdWUiLAogICAgICAgICAgdmFsdWU6ICJDcmVhdGUgSXNzdWUiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogIklnbm9yZSBSZXF1ZXN0IiwKICAgICAgICAgIHZhbHVlOiAiSWdub3JlIFJlcXVlc3QiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogIkFkZCB0byBFeGlzdGluZyBJc3N1ZSIsCiAgICAgICAgICB2YWx1ZTogIkFkZCB0byBFeGlzdGluZyBJc3N1ZSIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAiUmVzdG9yZSBJdGVtcyIsCiAgICAgICAgICB2YWx1ZTogIlJlc3RvcmUgSXRlbXMiLAogICAgICAgIH0sCiAgICAgIF0sCiAgICAgIEluc3BlY3Rpb25JdGVtSW1hZ2U6IFtdLAogICAgICBuZXdBcnJJbWc6IFtdLAogICAgICBjaGVja0FjYzogZmFsc2UsCiAgICB9OwogIH0sCgogIG1ldGhvZHM6IHsKICAgIHNob3dBbGxJbWFnZXMoKSB7CiAgICAgIHRoaXMuaGlkZUFkZEljb24gPSBmYWxzZTsKICAgICAgdGhpcy5tYXhpbXVtSW1hZ2UgPSB0aGlzLml0ZW1JbWFnZXMubGVuZ3RoIC0gMTsKICAgIH0sCiAgICBjbG9zZSgpIHsKICAgICAgdGhpcy5sb2NhdGlvbkRpYWxvZyA9IGZhbHNlOwogICAgfSwKICAgIGNsb3NlSWdub3JlSXNzdWUoKSB7CiAgICAgIHRoaXMuaWdub3JlTmV3SXNzdWUgPSBmYWxzZTsKICAgIH0sCgogICAgaWdub3JlUmVxdWVzdCh2YWx1ZSkgewogICAgICBsZXQgaWdub3JlQ29tbWVudHNGaWVsZCA9IHZhbHVlOwogICAgICBpZiAoIWlnbm9yZUNvbW1lbnRzRmllbGQudmFsdWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgbGV0IHVwZGF0ZUlzc3VlUmVxdWVzdCA9IHsKICAgICAgICBpbnNwZWN0aW9uSXRlbXNVVUlEOiBbXSwKICAgICAgICB1c2VybmFtZTogdGhpcy5jdXJyZW50VXNlckRldGFpbHMucHJvZmlsZS51c2VybmFtZSwKICAgICAgICBpZ25vcmVDb21tZW50czogdmFsdWUudmFsdWUsCiAgICAgICAgdHlwZTogImlnbm9yZSIsCiAgICAgIH07CgogICAgICB0aGlzLiRlbWl0KCJzZXRMb2FkaW5nIiwgdHJ1ZSk7CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5zcGVjdGlvbkl0bSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgZm9yICgKICAgICAgICAgIGxldCBpbmRleCA9IDA7CiAgICAgICAgICBpbmRleCA8IHRoaXMuc2VsZWN0ZWRJbnNwZWN0aW9uSXRtLmxlbmd0aDsKICAgICAgICAgIGluZGV4KysKICAgICAgICApIHsKICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPQogICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5zcGVjdGlvbkl0bVtpbmRleF0uaW5zcGVjdGlvblJlcG9ydEZpZWxkc1swXS51dWlkOwogICAgICAgICAgdXBkYXRlSXNzdWVSZXF1ZXN0Lmluc3BlY3Rpb25JdGVtc1VVSUQucHVzaChlbGVtZW50KTsKICAgICAgICB9CiAgICAgIH0KICAgICAgLy8gcmV0dXJuOwogICAgICB0aGlzLmNsb3NlSWdub3JlSXNzdWUoKTsKICAgICAgSW5zcGVjdGlvblNlcnZpY2UuaWdub3JlSW5zcGVjdGlvbkl0ZW1zKHVwZGF0ZUlzc3VlUmVxdWVzdCkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgIHRoaXMuJGVtaXQoCiAgICAgICAgICAgICAgICAic2hvd1RvYXN0IiwKICAgICAgICAgICAgICAgICIgSWdub3JlZCBJdGVtcyBzdWNjZXNzZnVsbHkhIiwKICAgICAgICAgICAgICAgICJzdWNjZXNzIgogICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgLy8gdGhpcy4kcm91dGVyLmdvKHsKICAgICAgICAgICAgICAvLyAgIG5hbWU6ICJpbnNwZWN0aW9uLWRldGFpbHMiLAogICAgICAgICAgICAgIC8vICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgLy8gICAgIGluc3BlY3Rpb25VVUlEOiB0aGlzLmluc3BlY3Rpb251dWlkLAogICAgICAgICAgICAgIC8vICAgfSwKICAgICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJzZXRMb2FkaW5nIiwgZmFsc2UpOwogICAgICAgICAgICAgIHRoaXMuJGVtaXQoInVwZGF0ZUluc3BlY3Rpb25JdGVtcyIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJGVtaXQoInNldExvYWRpbmciLCBmYWxzZSk7CiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgKICAgICAgICAgICAgICAgICJzaG93VG9hc3QiLAogICAgICAgICAgICAgICAgIkVycm9yIHdoaWxlIGlnbm9yaW5nIHNlcnZpY2UgcmVxdWVzdC4gUGxlYXNlIHRyeSBhZ2FpbiIsCiAgICAgICAgICAgICAgICAiZXJyb3IiCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCJzZXRMb2FkaW5nIiwgZmFsc2UpOwogICAgICAgICAgICB0aGlzLiRlbWl0KAogICAgICAgICAgICAgICJzaG93VG9hc3QiLAogICAgICAgICAgICAgICJFcnJvciB3aGlsZSBpZ25vcmluZyBzZXJ2aWNlIHJlcXVlc3QuIFBsZWFzZSB0cnkgYWdhaW4iLAogICAgICAgICAgICAgICJlcnJvciIKICAgICAgICAgICAgKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIHRoaXMuJGVtaXQoInNldExvYWRpbmciLCBmYWxzZSk7CiAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDYpIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgic2hvd1RvYXN0IiwgIkFuIHVuZXhwZWN0ZWQgRXJyb3IgT2NjdXJyZWQuIiwgImVycm9yIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRlbWl0KCJzaG93VG9hc3QiLCAiQW4gdW5leHBlY3RlZCBFcnJvciBPY2N1cnJlZC4iLCAiZXJyb3IiKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5maW5hbGx5KCgpID0+IHt9KTsKICAgIH0sCiAgICByZXN0b3JlUmVxdWVzdCgpIHsKICAgICAgbGV0IHVwZGF0ZUlzc3VlUmVxdWVzdCA9IHsKICAgICAgICBpbnNwZWN0aW9uSXRlbXNVVUlEOiBbXSwKICAgICAgICB1c2VybmFtZTogdGhpcy5jdXJyZW50VXNlckRldGFpbHMucHJvZmlsZS51c2VybmFtZSwKICAgICAgICBpZ25vcmVDb21tZW50czogIiIsCiAgICAgICAgdHlwZTogIiIsCiAgICAgIH07CgogICAgICB0aGlzLiRlbWl0KCJzZXRMb2FkaW5nIiwgdHJ1ZSk7CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5zcGVjdGlvbkl0bSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgZm9yICgKICAgICAgICAgIGxldCBpbmRleCA9IDA7CiAgICAgICAgICBpbmRleCA8IHRoaXMuc2VsZWN0ZWRJbnNwZWN0aW9uSXRtLmxlbmd0aDsKICAgICAgICAgIGluZGV4KysKICAgICAgICApIHsKICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPQogICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5zcGVjdGlvbkl0bVtpbmRleF0uaW5zcGVjdGlvblJlcG9ydEZpZWxkc1swXS51dWlkOwogICAgICAgICAgdXBkYXRlSXNzdWVSZXF1ZXN0Lmluc3BlY3Rpb25JdGVtc1VVSUQucHVzaChlbGVtZW50KTsKICAgICAgICB9CiAgICAgIH0KICAgICAgSW5zcGVjdGlvblNlcnZpY2UuaWdub3JlSW5zcGVjdGlvbkl0ZW1zKHVwZGF0ZUlzc3VlUmVxdWVzdCkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgIHRoaXMuJGVtaXQoInNob3dUb2FzdCIsICJJdGVtcyBSZXN0b3JlIHN1Y2Nlc3NmdWxseSEiLCAic3VjY2VzcyIpOwogICAgICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5nbyh7CiAgICAgICAgICAgICAgLy8gICBuYW1lOiAiaW5zcGVjdGlvbi1kZXRhaWxzIiwKICAgICAgICAgICAgICAvLyAgIHBhcmFtczogewogICAgICAgICAgICAgIC8vICAgICBpbnNwZWN0aW9uVVVJRDogdGhpcy5pbnNwZWN0aW9udXVpZCwKICAgICAgICAgICAgICAvLyAgIH0sCiAgICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgic2V0TG9hZGluZyIsIGZhbHNlKTsKICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJ1cGRhdGVJbnNwZWN0aW9uSXRlbXMiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJzZXRMb2FkaW5nIiwgZmFsc2UpOwogICAgICAgICAgICAgIHRoaXMuJGVtaXQoCiAgICAgICAgICAgICAgICAic2hvd1RvYXN0IiwKICAgICAgICAgICAgICAgICJFcnJvciB3aGlsZSBpZ25vcmluZyBzZXJ2aWNlIHJlcXVlc3QuIFBsZWFzZSB0cnkgYWdhaW4iLAogICAgICAgICAgICAgICAgImVycm9yIgogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgic2V0TG9hZGluZyIsIGZhbHNlKTsKICAgICAgICAgICAgdGhpcy4kZW1pdCgKICAgICAgICAgICAgICAic2hvd1RvYXN0IiwKICAgICAgICAgICAgICAiRXJyb3Igd2hpbGUgaWdub3Jpbmcgc2VydmljZSByZXF1ZXN0LiBQbGVhc2UgdHJ5IGFnYWluIiwKICAgICAgICAgICAgICAiZXJyb3IiCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICB0aGlzLiRlbWl0KCJzZXRMb2FkaW5nIiwgZmFsc2UpOwogICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA2KSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoInNob3dUb2FzdCIsICJBbiB1bmV4cGVjdGVkIEVycm9yIE9jY3VycmVkLiIsICJlcnJvciIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgic2hvd1RvYXN0IiwgIkFuIHVuZXhwZWN0ZWQgRXJyb3IgT2NjdXJyZWQuIiwgImVycm9yIik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgb25TZWxlY3RlZCh2YWx1ZSkgewogICAgICBpZiAodmFsdWUuZGlzcGxheSA9PT0gIkNyZWF0ZSBJc3N1ZSIpIHsKICAgICAgICBmb3IgKAogICAgICAgICAgbGV0IGluZGV4ID0gMDsKICAgICAgICAgIGluZGV4IDwgdGhpcy5zZWxlY3RlZEluc3BlY3Rpb25JdG0ubGVuZ3RoOwogICAgICAgICAgaW5kZXgrKwogICAgICAgICkgewogICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuc2VsZWN0ZWRJbnNwZWN0aW9uSXRtW2luZGV4XS5pdGVtU3RhdHVzOwogICAgICAgICAgY29uc3QgZWxlbWVudDEgPSB0aGlzLnNlbGVjdGVkSW5zcGVjdGlvbkl0bVtpbmRleF0uaXNzdWVOdW1iZXI7CiAgICAgICAgICBpZiAoZWxlbWVudCAhPT0gIklnbm9yZSIgJiYgZWxlbWVudDEgPT0gbnVsbCkgewogICAgICAgICAgICB0aGlzLmNyZWF0ZUlzc3VlID0gdHJ1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoInNob3dUb2FzdCIsICJQbGVhc2UgU2VsZWN0IE90aGVyIEl0ZW1zIiwgImVycm9yIik7CiAgICAgICAgICB9CiAgICAgICAgICAvLyB0aGlzLmNsaWNrQWNjb3JkaW9uRnVuY3Rpb24oKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodmFsdWUuZGlzcGxheSA9PT0gIklnbm9yZSBSZXF1ZXN0IikgewogICAgICAgIGZvciAoCiAgICAgICAgICBsZXQgaW5kZXggPSAwOwogICAgICAgICAgaW5kZXggPCB0aGlzLnNlbGVjdGVkSW5zcGVjdGlvbkl0bS5sZW5ndGg7CiAgICAgICAgICBpbmRleCsrCiAgICAgICAgKSB7CiAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5zZWxlY3RlZEluc3BlY3Rpb25JdG1baW5kZXhdLml0ZW1TdGF0dXM7CiAgICAgICAgICBpZiAoZWxlbWVudCAhPT0gIklnbm9yZSIpIHsKICAgICAgICAgICAgdGhpcy5pZ25vcmVkSXNzdWUoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoInNob3dUb2FzdCIsICJQbGVhc2UgU2VsZWN0IHVuLWlnbm9yZSBJdGVtIiwgImVycm9yIik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHZhbHVlLmRpc3BsYXkgPT09ICJBZGQgdG8gRXhpc3RpbmcgSXNzdWUiKSB7CiAgICAgICAgdGhpcy5jcmVhdGVFeGlzdGluZ0lzc3VlKCk7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUuZGlzcGxheSA9PT0gIlJlc3RvcmUgSXRlbXMiKSB7CiAgICAgICAgZm9yICgKICAgICAgICAgIGxldCBpbmRleCA9IDA7CiAgICAgICAgICBpbmRleCA8IHRoaXMuc2VsZWN0ZWRJbnNwZWN0aW9uSXRtLmxlbmd0aDsKICAgICAgICAgIGluZGV4KysKICAgICAgICApIHsKICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLnNlbGVjdGVkSW5zcGVjdGlvbkl0bVtpbmRleF0uaXRlbVN0YXR1czsKICAgICAgICAgIGlmIChlbGVtZW50ID09PSAiSWdub3JlIikgewogICAgICAgICAgICB0aGlzLnJlc3RvcmVSZXF1ZXN0KCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRlbWl0KCJzaG93VG9hc3QiLCAiUGxlYXNlIFNlbGVjdCBJZ25vcmUgSXRlbSIsICJlcnJvciIpOwogICAgICAgICAgICAvLyB0aGlzLiRyb3V0ZXIuZ28oewogICAgICAgICAgICAvLyAgIG5hbWU6ICJpbnNwZWN0aW9uLWRldGFpbHMiLAogICAgICAgICAgICAvLyAgIHBhcmFtczogewogICAgICAgICAgICAvLyAgICAgaW5zcGVjdGlvblVVSUQ6IHRoaXMuaW5zcGVjdGlvbnV1aWQsCiAgICAgICAgICAgIC8vICAgfSwKICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIGlnbm9yZWRJc3N1ZSgpIHsKICAgICAgdGhpcy5pZ25vcmVOZXdJc3N1ZSA9IHRydWU7CiAgICB9LAoKICAgIGNyZWF0ZUV4aXN0aW5nSXNzdWUoKSB7CiAgICAgIHRoaXMubWVyZ2VJc3N1ZSA9IHRydWU7CiAgICB9LAoKICAgIGNsb3NlZE1lcmdlKCkgewogICAgICB0aGlzLm1lcmdlSXNzdWUgPSBmYWxzZTsKICAgIH0sCgogICAgYXN5bmMgbWVyZ2VOZXdJc3N1ZSh2YWx1ZSkgewogICAgICB0aGlzLmxvYWRlckZsYWcgPSB0cnVlOwogICAgICBpZiAodGhpcy52YWx1ZSA9PT0gIiIpIHsKICAgICAgICB0aGlzLiRlbWl0KCJzaG93VG9hc3QiLCAiUGxlYXNlIHNlbGVjdCByZXF1aXJlZCBmaWVsZHMiLCAiZXJyb3IiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmV4aXN0aW5nSXNzdWUgPSBmYWxzZTsKICAgICAgICBsZXQgbGlua0lzc3VlUmVxdWVzdCA9IHt9OwogICAgICAgIGxpbmtJc3N1ZVJlcXVlc3QubGlua2VkV2l0aElzc3VlVVVJRCA9IHZhbHVlOwogICAgICAgIGxpbmtJc3N1ZVJlcXVlc3QuaXNzdWVVVUlEID0gdGhpcy5zZXJ2aWNlUmVxdWVzdC51dWlkOwoKICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEluc3BlY3Rpb25JdG0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgbGV0IGluc3BlY3Rpb25JdGVtT2JqID0gewogICAgICAgICAgICBpbnNwZWN0aW9uVVVJRDogdGhpcy5zZWxlY3RlZEluc3BlY3Rpb25JdG0uaW5zcGVjdGlvblVVSUQsCiAgICAgICAgICAgIGluc3BlY3Rpb25SZXBvcnRzRmllbGRzOiBbXSwKICAgICAgICAgIH07CiAgICAgICAgICBmb3IgKAogICAgICAgICAgICBsZXQgaW5kZXggPSAwOwogICAgICAgICAgICBpbmRleCA8IHRoaXMuc2VsZWN0ZWRJbnNwZWN0aW9uSXRtLmxlbmd0aDsKICAgICAgICAgICAgaW5kZXgrKwogICAgICAgICAgKSB7CiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPQogICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbnNwZWN0aW9uSXRtW2luZGV4XS5pbnNwZWN0aW9uUmVwb3J0RmllbGRzWzBdLnV1aWQ7CgogICAgICAgICAgICBpbnNwZWN0aW9uSXRlbU9iai5pbnNwZWN0aW9uUmVwb3J0c0ZpZWxkcy5wdXNoKGVsZW1lbnQpOwogICAgICAgICAgfQoKICAgICAgICAgIGxpbmtJc3N1ZVJlcXVlc3QuaW5wc2VjdGlvbkl0ZW1zVVVJRCA9CiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGluc3BlY3Rpb25JdGVtT2JqKTsKICAgICAgICB9CiAgICAgICAgLy8gY29uc29sZS5sb2coJ2xpbmtJc3N1ZVJlcXVlc3QnLGxpbmtJc3N1ZVJlcXVlc3QpCgogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBhd2FpdCBJbnNwZWN0aW9uU2VydmljZS5saW5rSXNzdWVzKGxpbmtJc3N1ZVJlcXVlc3QpOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCJzaG93VG9hc3QiLCAiSXNzdWUgbGlua2VkIFN1Y2Nlc3NmdWxseSIsICJzdWNjZXNzIik7CiAgICAgICAgICAgIHRoaXMuY2xvc2VkTWVyZ2UoKTsKICAgICAgICAgICAgdGhpcy5sb2FkZXJGbGFnID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBidXNpbmVzcyBsb2dpYyBnb2VzIGhlcmUKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDIyKSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoInNob3dUb2FzdCIsICJBbHJlYWR5IEV4aXN0IiwgIndhcm5pbmciKTsKICAgICAgICAgICAgdGhpcy5jbG9zZWRNZXJnZSgpOwogICAgICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICAvLyBmcm9tIGNyZWF0aW9uIG9yIGJ1c2luZXNzIGxvZ2ljCiAgICAgICAgICAgIHRoaXMuJGVtaXQoCiAgICAgICAgICAgICAgInNob3dUb2FzdCIsCiAgICAgICAgICAgICAgIkVycm9yIHdoaWxlIGxpbmtpbmcgaXNzdWVzLiBQbGVhc2UgdHJ5IGFnYWluIiwKICAgICAgICAgICAgICAiZXJyb3IiCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBnZXRJc3N1ZXNCeUFzc2V0cyhhc3NldFVVSUQpIHsKICAgICAgSW5zcGVjdGlvblNlcnZpY2UuZmlsdGVySXNzdWVzQnlBc3NldFVVSUQoYXNzZXRVVUlEKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMuaXNzdWVzID0gcmVzcG9uc2UuZGF0YS5pc3N1ZXM7CiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCByZXNwb25zZS5kYXRhLmlzc3Vlcy5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgICAgICB0aGlzLmlzc3Vlc09wdGlvbi5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6CiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuaXNzdWVzW2luZGV4XS5pc3N1ZU51bWJlciArCiAgICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuaXNzdWVzW2luZGV4XS5pc3N1ZU5hbWUsCiAgICAgICAgICAgICAgICB2YWx1ZTogcmVzcG9uc2UuZGF0YS5pc3N1ZXNbaW5kZXhdLnV1aWQsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHt9KTsKICAgIH0sCiAgICBjbG9zZWRJc3N1ZSgpIHsKICAgICAgdGhpcy5jcmVhdGVJc3N1ZSA9IGZhbHNlOwogICAgfSwKICAgIGNyZWF0ZU5ld0lzc3VlKCkgewogICAgICB0aGlzLmNyZWF0ZUlzc3VlID0gZmFsc2U7CiAgICAgIHRoaXMuJGVtaXQoInNob3dUb2FzdCIsICJJc3N1ZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseSIsICJzdWNjZXNzIik7CiAgICAgIHRoaXMuJGVtaXQoInVwZGF0ZUluc3BlY3Rpb25JdGVtcyIpOwogICAgfSwKCiAgICBjbGlja0FjY29yZGlvbkZ1bmN0aW9uKGluZHgpIHsKICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuJHJlZnMucmVmQWNjb3JkaW9uLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgIGlmIChpbmRleCAhPT0gaW5keCkgewogICAgICAgICAgdGhpcy4kcmVmcy5yZWZBY2NvcmRpb25baW5kZXhdLm9wZW5GbGFnID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuaXRlbUltYWdlcyA9IFtdOwogICAgICBsZXQgcHJlc2VudCA9IGZhbHNlOwogICAgICBmb3IgKAogICAgICAgIGxldCBpbmQgPSAwOwogICAgICAgIGluZCA8IHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zW2luZHhdLmltYWdlLmxlbmd0aDsKICAgICAgICBpbmQrKwogICAgICApIHsKICAgICAgICBpZiAodGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXNbaW5keF0uaW1hZ2VbaW5kXS5pbWFnZUZsYWcgPT0gdHJ1ZSkgewogICAgICAgICAgcHJlc2VudCA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChwcmVzZW50KSB7CiAgICAgICAgdGhpcy5tYXhpbXVtSW1hZ2UgPSAyOwogICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IHRydWU7CiAgICAgICAgdGhpcy5pbWFnZXNQcmVzZW50ID0gdHJ1ZTsKICAgICAgICB0aGlzLmhpZGVBZGRJY29uID0gdHJ1ZTsKICAgICAgICB0aGlzLml0ZW1JbWFnZSgKICAgICAgICAgIGluZHgsCiAgICAgICAgICB0aGlzLmluc3BlY3Rpb25SZXBvcnRJdGVtc1tpbmR4XS5pbnNwZWN0aW9uUmVwb3J0RmllbGRzWzBdLnV1aWQsCiAgICAgICAgICB0cnVlCiAgICAgICAgKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmltYWdlc1ByZXNlbnQgPSBmYWxzZTsKICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgfQogICAgICAvLyB2b2ljZXMKICAgICAgdGhpcy5pdGVtVm9pY2VzID0gW107CiAgICAgIGxldCB2b2ljZVByZXNlbnQgPSBmYWxzZTsKICAgICAgLy8gZm9yICgKICAgICAgLy8gICBsZXQgaW5kID0gMDsKICAgICAgLy8gICBpbmQgPCB0aGlzLmluc3BlY3Rpb25SZXBvcnRJdGVtc1tpbmR4XS5pbWFnZS5sZW5ndGg7CiAgICAgIC8vICAgaW5kKysKICAgICAgLy8gKSB7CiAgICAgIC8vICAgaWYgKHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zW2luZHhdLmltYWdlW2luZF0uaW1hZ2VGbGFnID09IHRydWUpIHsKICAgICAgLy8gICAgIHByZXNlbnQgPSB0cnVlOwogICAgICAvLyAgIH0KICAgICAgLy8gfQogICAgICAvLyBpZiAocHJlc2VudCkgewogICAgICAvLyAgIHRoaXMubWF4aW11bUltYWdlID0gMjsKICAgICAgLy8gICB0aGlzLmxvYWRlckZsYWcgPSB0cnVlOwogICAgICAvLyAgIHRoaXMuaW1hZ2VzUHJlc2VudCA9IHRydWU7CiAgICAgIC8vICAgdGhpcy5oaWRlQWRkSWNvbiA9IHRydWU7CiAgICAgIC8vICAgdGhpcy5pdGVtSW1hZ2UoCiAgICAgIC8vICAgICBpbmR4LAogICAgICAvLyAgICAgdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXNbaW5keF0uaW5zcGVjdGlvblJlcG9ydEZpZWxkc1swXS51dWlkLAogICAgICAvLyAgICAgdHJ1ZQogICAgICAvLyAgICk7CiAgICAgIC8vIH0gZWxzZSB7CiAgICAgIC8vICAgdGhpcy5pbWFnZXNQcmVzZW50ID0gZmFsc2U7CiAgICAgIC8vICAgdGhpcy5sb2FkZXJGbGFnID0gZmFsc2U7CiAgICAgIC8vIH0KICAgIH0sCgogICAgZnVsbHNjcmVlbkltYWdlKGltYWdlKSB7CiAgICAgIHRoaXMuZGlhbG9nSW1hZ2UgPSBpbWFnZS5jb250ZW50OwogICAgICB0aGlzLmxvY2F0aW9uRGlhbG9nID0gdHJ1ZTsKICAgIH0sCgogICAgZmFpbGVkRXZlbnQodmFsdWUpIHsKICAgICAgdGhpcy4kcmVmcy5yZWZBY2NvcmRpb24ubWFwKChyZWYpID0+IHsKICAgICAgICByZWYub3BlbkZsYWcgPSBmYWxzZTsKICAgICAgfSk7CiAgICAgIHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zID0gW107CiAgICAgIGlmICh2YWx1ZS52YWx1ZSA9PT0gdHJ1ZSkgewogICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmluc3BlY3Rpb25JdGVtcy5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgIGlmICh0aGlzLmluc3BlY3Rpb25JdGVtc1tpbmRleF0uc3RhdHVzID09PSAiZmFpbCIpIHsKICAgICAgICAgICAgdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXMucHVzaCh0aGlzLmluc3BlY3Rpb25JdGVtc1tpbmRleF0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmluc3BlY3Rpb25SZXBvcnRJdGVtcyA9IHRoaXMuaW5zcGVjdGlvbkl0ZW1zOwogICAgICAgIC8vIHRoaXMuaW5zcGVjdGlvblN0YXR1cyA9ICJzaGlwLnBuZyIKICAgICAgfQogICAgICB0aGlzLmZpbHRlckxhYmVsID0gIiI7CiAgICAgIHRoaXMuZmlsdGVySW5kZXgrKzsKICAgIH0sCgogICAgZmlsdGVyU2VsZWN0ZWQodmFsdWUpIHsKICAgICAgdGhpcy4kcmVmcy5yZWZBY2NvcmRpb24ubWFwKChyZWYpID0+IHsKICAgICAgICByZWYub3BlbkZsYWcgPSBmYWxzZTsKICAgICAgfSk7CiAgICAgIHRoaXMuZmFpbGVkT25seSA9IGZhbHNlOwogICAgICB0aGlzLmluc3BlY3Rpb25SZXBvcnRJdGVtcyA9IFtdOwogICAgICBsZXQgZm91bmQgPSBmYWxzZTsKICAgICAgaWYgKHZhbHVlLnNlbGVjdGVkT2JqZWN0LnZhbHVlID09PSAiY29tbWVudHMiKSB7CiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuaW5zcGVjdGlvbkl0ZW1zLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgZm91bmQgPSBmYWxzZTsKICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5pbnNwZWN0aW9uSXRlbXNbaW5kZXhdLmltYWdlLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmluc3BlY3Rpb25JdGVtc1tpbmRleF0uaW1hZ2Vbal0ubWVzc2FnZUZsYWcgPT09IHRydWUpIHsKICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChmb3VuZCA9PT0gdHJ1ZSkgewogICAgICAgICAgICB0aGlzLmluc3BlY3Rpb25SZXBvcnRJdGVtcy5wdXNoKHRoaXMuaW5zcGVjdGlvbkl0ZW1zW2luZGV4XSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHZhbHVlLnNlbGVjdGVkT2JqZWN0LnZhbHVlID09PSAiaW1hZ2UiKSB7CiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuaW5zcGVjdGlvbkl0ZW1zLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgZm91bmQgPSBmYWxzZTsKCiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuaW5zcGVjdGlvbkl0ZW1zW2luZGV4XS5pbWFnZS5sZW5ndGg7IGorKykgewogICAgICAgICAgICBpZiAodGhpcy5pbnNwZWN0aW9uSXRlbXNbaW5kZXhdLmltYWdlW2pdLmltYWdlRmxhZyA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKGZvdW5kID09PSB0cnVlKSB7CiAgICAgICAgICAgIHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zLnB1c2godGhpcy5pbnNwZWN0aW9uSXRlbXNbaW5kZXhdKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXMgPSB0aGlzLmluc3BlY3Rpb25JdGVtczsKICAgICAgfQogICAgfSwKICAgIGZ1bmNOYW1lKHZhbHVlLCBpbmRleCkgewogICAgICBsZXQgaW5zcGVjdGlvbkl0ZW1zID0gW107CiAgICAgIGlmICh2YWx1ZS52YWx1ZSA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IHRydWU7CgogICAgICAgIHRoaXMuY2hlY2tBY2MgPSB0cnVlOwogICAgICAgIHRoaXMuY2xpY2tBY2NvcmRpb25GdW5jdGlvbihpbmRleCk7CiAgICAgICAgKHRoaXMuZGlzYWJsZUFjdGlvbnMgPSBmYWxzZSksIHRoaXMuc2VsZWN0ZWRJbnNwZWN0aW9uSXRtLnB1c2godmFsdWUpOwogICAgICAgIHRoaXMuc2VsZWN0ZWRJbnNwZWN0aW9uSXRtLmluc3BlY3Rpb25VVUlEID0gdGhpcy5pbnNwZWN0aW9udXVpZDsKICAgICAgfQoKICAgICAgaWYgKHZhbHVlLnZhbHVlID09PSBmYWxzZSkgewogICAgICAgIHZhciByZXN1bHQgPSB0aGlzLkluc3BlY3Rpb25JdGVtSW1hZ2UuZmlsdGVyKAogICAgICAgICAgKGspID0+ICF2YWx1ZS5pbWFnZS5zb21lKChwKSA9PiBwLmlkID09IGsuaWQpCiAgICAgICAgKTsKICAgICAgICB0aGlzLkluc3BlY3Rpb25JdGVtSW1hZ2UgPSByZXN1bHQ7CiAgICAgICAgZm9yICgKICAgICAgICAgIGxldCBpbmRleCA9IDA7CiAgICAgICAgICBpbmRleCA8IHRoaXMuc2VsZWN0ZWRJbnNwZWN0aW9uSXRtLmxlbmd0aDsKICAgICAgICAgIGluZGV4KysKICAgICAgICApIHsKICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5zcGVjdGlvbkl0bVtpbmRleF0udXVpZCAhPT0gdmFsdWUudXVpZCkgewogICAgICAgICAgICBpbnNwZWN0aW9uSXRlbXMucHVzaCh0aGlzLnNlbGVjdGVkSW5zcGVjdGlvbkl0bVtpbmRleF0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB0aGlzLnNlbGVjdGVkSW5zcGVjdGlvbkl0bSA9IGluc3BlY3Rpb25JdGVtczsKCiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJbnNwZWN0aW9uSXRtLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgdGhpcy5kaXNhYmxlQWN0aW9ucyA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIGdldEluc3BlY3Rpb25JdGVtKCkgewogICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5pbWFnZVZvaWNlcyk7CiAgICAgIGxldCB1dWlkID0gbnVsbDsKCiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXMubGVuZ3RoOyBqKyspIHsKICAgICAgICB0aGlzLmluc3BlY3Rpb25SZXBvcnRJdGVtc1tqXS5pbWFnZSA9IFtdOwogICAgICAgIHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zW2pdLnZhbHVlID0gZmFsc2U7CgogICAgICAgIGZvciAoCiAgICAgICAgICBsZXQgayA9IDA7CiAgICAgICAgICBrIDwgdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXNbal0uaW5zcGVjdGlvblJlcG9ydEZpZWxkcy5sZW5ndGg7CiAgICAgICAgICBrKysKICAgICAgICApIHsKICAgICAgICAgIGlmICgKICAgICAgICAgICAgdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXNbal0uaW5zcGVjdGlvblJlcG9ydEZpZWxkc1trXQogICAgICAgICAgICAgIC5pZ25vcmVDb21tZW50cyAhPT0gdW5kZWZpbmVkICYmCiAgICAgICAgICAgIHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zW2pdLmluc3BlY3Rpb25SZXBvcnRGaWVsZHNba10KICAgICAgICAgICAgICAuaWdub3JlQ29tbWVudHMgIT09IG51bGwKICAgICAgICAgICkgewogICAgICAgICAgICB0aGlzLmluc3BlY3Rpb25SZXBvcnRJdGVtc1tqXS5pdGVtU3RhdHVzV2l0aE5hbWUgPQogICAgICAgICAgICAgIHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zW2pdLm5hbWUgKyAiIC0gSWdub3JlIjsKICAgICAgICAgICAgdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXNbal0uaXRlbVN0YXR1cyA9ICJJZ25vcmUiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXNbal0uaXRlbVN0YXR1c1dpdGhOYW1lID0KICAgICAgICAgICAgICB0aGlzLmluc3BlY3Rpb25SZXBvcnRJdGVtc1tqXS5uYW1lOwogICAgICAgICAgfQogICAgICAgICAgaWYgKAogICAgICAgICAgICB0aGlzLmluc3BlY3Rpb25SZXBvcnRJdGVtc1tqXS5pbnNwZWN0aW9uUmVwb3J0RmllbGRzW2tdCiAgICAgICAgICAgICAgLmlzc3VlUmVwb3J0aW5nICE9PSB1bmRlZmluZWQgJiYKICAgICAgICAgICAgdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXNbal0uaW5zcGVjdGlvblJlcG9ydEZpZWxkc1trXQogICAgICAgICAgICAgIC5pc3N1ZVJlcG9ydGluZyAhPT0gbnVsbAogICAgICAgICAgKSB7CiAgICAgICAgICAgIHV1aWQgPQogICAgICAgICAgICAgIHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zW2pdLmluc3BlY3Rpb25SZXBvcnRGaWVsZHNba10KICAgICAgICAgICAgICAgIC5pc3N1ZVJlcG9ydGluZy51dWlkOwogICAgICAgICAgICBpZiAoIWtleXMuaW5jbHVkZXModXVpZCkpIHsKICAgICAgICAgICAgICB1dWlkID0KICAgICAgICAgICAgICAgIHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zW2pdLmluc3BlY3Rpb25SZXBvcnRGaWVsZHNba10udXVpZDsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdXVpZCA9IHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zW2pdLmluc3BlY3Rpb25SZXBvcnRGaWVsZHNba10udXVpZDsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuaW5zcGVjdGlvblJlcG9ydEl0ZW1zW2pdLmltYWdlID0gdGhpcy5pbWFnZVZvaWNlc1t1dWlkXTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuaW5zcGVjdGlvbkl0ZW1zID0gdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXM7CiAgICB9LAoKICAgIGl0ZW1JbWFnZShpbmRleCwgdXVpZCwgcHJlc2VudCkgewogICAgICBpZiAodGhpcy53b3JrT3JkZXIgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgV29ya09yZGVyU2VydmljZS5nZXRJbWFnZVZvaWNlc0J5SW5zcGVjdGlvbkl0ZW1VVUlEKHV1aWQpCiAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5yZXNwb25zZUlkZW50aWZpZXIgPT09ICJTdWNjZXNzIikgewogICAgICAgICAgICAgIGlmIChwcmVzZW50KSB7CiAgICAgICAgICAgICAgICB0aGlzLmhpZGVBZGRJY29uID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHRoaXMubWF4aW11bUltYWdlID0gMjsKICAgICAgICAgICAgICAgIHRoaXMuaXRlbUltYWdlcyA9IHJlcy5kYXRhLmltYWdlVm9pY2VzW3V1aWRdOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLmltYWdlSW5kZXgrKzsKICAgICAgICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIEluc3BlY3Rpb25TZXJ2aWNlLmdldEltYWdlVm9pY2VzQnlJbnNwZWN0aW9uSXRlbVVVSUQodXVpZCkKICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnJlc3BvbnNlSWRlbnRpZmllciA9PT0gIlN1Y2Nlc3MiKSB7CiAgICAgICAgICAgICAgaWYgKHByZXNlbnQpIHsKICAgICAgICAgICAgICAgIHRoaXMuaGlkZUFkZEljb24gPSB0cnVlOwogICAgICAgICAgICAgICAgdGhpcy5tYXhpbXVtSW1hZ2UgPSAyOwogICAgICAgICAgICAgICAgdGhpcy5pdGVtSW1hZ2VzID0gcmVzLmRhdGEuaW1hZ2VWb2ljZXNbdXVpZF07CgogICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tBY2MgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICB2YXIgdGVzdEFycmF5ID0gcmVzLmRhdGEuaW1hZ2VWb2ljZXNbdXVpZF07CiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gb2YgdGVzdEFycmF5KSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5JbnNwZWN0aW9uSXRlbUltYWdlLnB1c2goaXRlbSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgY29uc3QgdW5pcXVlSWRzID0gbmV3IFNldCgpOwogICAgICAgICAgICAgICAgICBjb25zdCB1bmlxdWUgPSB0aGlzLkluc3BlY3Rpb25JdGVtSW1hZ2UuZmlsdGVyKChlbGVtZW50KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNEdXBsaWNhdGUgPSB1bmlxdWVJZHMuaGFzKGVsZW1lbnQuaWQpOwogICAgICAgICAgICAgICAgICAgIHVuaXF1ZUlkcy5hZGQoZWxlbWVudC5pZCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0R1cGxpY2F0ZSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIHRoaXMuSW5zcGVjdGlvbkl0ZW1JbWFnZSA9IHVuaXF1ZTsKICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3RoaXMuSW5zcGVjdGlvbkl0ZW1JbWFnZScsdGhpcy5JbnNwZWN0aW9uSXRlbUltYWdlKQogICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrQWNjID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIC8vIHRoaXMubG9hZGVyRmxhZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLmltYWdlSW5kZXgrKzsKICAgICAgICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluc3BlY3Rpb251dWlkID0gdGhpcy4kcm91dGUucGFyYW1zLmluc3BlY3Rpb25VVUlEOwogICAgdGhpcy5pbnNwZWN0aW9uUmVwb3J0SXRlbXMgPSB0aGlzLmluc3BlY3Rpb25SZXBvcnRJdGVtOwogICAgdGhpcy5pbnNwZWN0aW9uQXNzZXRVVUlEID0gdGhpcy5hc3NldFVVSUQ7CiAgICB0aGlzLmN1cnJlbnRVc2VyRGV0YWlscyA9IEpTT04ucGFyc2UoCiAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjdXJyZW50VXNlckRldGFpbHMiKQogICAgKTsKICAgIHRoaXMuZ2V0SXNzdWVzQnlBc3NldHModGhpcy5hc3NldFVVSUQpOwogICAgdGhpcy5nZXRJbnNwZWN0aW9uSXRlbSgpOwogICAgdGhpcy5pbnNwZWN0aW9uRGV0YWlscyA9IHRoaXMuaW5zcGVjdGlvbkRldGFpbDsKICB9LAoKICB2YWxpZGF0aW9uczogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHt9OwogIH0sCn07Cg=="},null]}
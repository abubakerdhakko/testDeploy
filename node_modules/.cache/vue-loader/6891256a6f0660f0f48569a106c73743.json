{"remainingRequest":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/views/assets/components/LastImportRecord.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/views/assets/components/LastImportRecord.vue","mtime":1661968702432},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":1662622637759},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/babel-loader/lib/index.js","mtime":1662622637719},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":1662622637759},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js","mtime":1662622639723}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBhc3NldFBlcnNvbm5lbFNlcnZpY2UgZnJvbSAiLi4vLi4vLi4vc2VydmljZXMvQXNzZXRQZXJzb25uZWxTZXJ2aWNlIjsKaW1wb3J0IGFzc2V0TWFuYWdlbWVudFNlcnZpY2UgZnJvbSAiLi4vLi4vLi4vc2VydmljZXMvQXNzZXRNYW5hZ2VtZW50U2VydmljZSI7CmltcG9ydCBFbmRwb2ludHMgZnJvbSAiLi4vLi4vLi4vc2VydmljZXMvRW5kUG9pbnRzIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwoKaW1wb3J0IGxvYWRlciBmcm9tICJAL2NvbXBvbmVudHMvTG9hZGVyLnZ1ZSIKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMYXN0SW1wb3J0UmVjb3JkIiwKCiAgY29tcG9uZW50czogeyBsb2FkZXIgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRlckZsYWc6IGZhbHNlLAogICAgICB1c2VyOiAiIiwKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICBwcm9tcHQ6IGZhbHNlLAogICAgICBwcm9tcHRWaWV3TmFtZTogIiIsCiAgICAgIHNlcnZlckRhdGE6ICIiLAogICAgICBmaWx0ZXJGaWVsZExpc3Q6IFtdLAogICAgICBldmVudERhdGE6ICIiLAogICAgICB0ZW1wbGF0ZUlkOiAiIiwKICAgICAgLy8gLS0tLS0tLS0tLS0tLSBTRFQgRGF0YSBTVEFSVCAtLS0tLS0tLS0tLS0tLS0tCiAgICAgIHNkdF90b2tlbjogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVudFVzZXJEZXRhaWxzIikpCiAgICAgICAgLmFjY2Vzc190b2tlbiwKICAgICAgcGFyZW50U3lzdGVtU2V0dGluZ3M6IHsKICAgICAgICBzZXJ2aWNlVVJMOiBFbmRwb2ludHMucHJlZmVyZW5jZVNlcnZpY2UucHJlZmVyZW5jZSwKICAgICAgICAvLyBzZXJ2aWNlVVJMOiAnaHR0cDovL2xvY2FsaG9zdDo4MDk5L3ByZWZlcmVuY2VzJywKICAgICAgICBidXR0b25zOiBbXSwKICAgICAgICBzZWFyY2hWYWx1ZTogIiIsCiAgICAgICAgaGVpZ2h0OiAiNTUwcHgiLAogICAgICAgIHNlbGVjdGlvbkNvbHVtbjogZmFsc2UsCiAgICAgICAgc2VsZWN0VHlwZTogIm5vbmUiLAogICAgICAgIG1vcmVPcHRpb25zOiBbXSwKICAgICAgICBhY3Rpb25zT3B0aW9uczogWyJEb3dubG9hZCJdLAogICAgICAgIGNvbHVtbkljb25zOiBbXSwKICAgICAgICBwaWxsQ29uZmlnOiBbCiAgICAgICAgICB7IGNvbHVtbjogIiIsIHN0YXRlOiAic3VjY2VzcyIsIGRhdGE6ICIiIH0sCiAgICAgICAgICB7IGNvbHVtbjogIiIsIHN0YXRlOiAiZXJyb3IiLCBkYXRhOiAiIiB9LAogICAgICAgICAgeyBjb2x1bW46ICIiLCBzdGF0ZTogIm5vcm1hbCIsIGRhdGE6ICIiIH0sCiAgICAgICAgXSwKICAgICAgICBzdGF0aWNDb2x1bW5zOiBbXSwKICAgICAgICB1c2VyOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjdXJyZW50VXNlckRldGFpbHMiKSkucHJvZmlsZQogICAgICAgICAgLnVzZXJuYW1lLAogICAgICAgIHVwcGVyY2FzZUNvbHVtbnM6IFtdLCAvLyBwYXNzIGNvbHVtbiBuYW1lIHdob3NlIGRhdGEgc2hvdWxkIGJlIHNob3duIGluIGNhcHMKICAgICAgICBkYXRlRm9ybWF0OiAiREQvTU0veXl5eSBoaDptbSBhIiwgLy9wYXNzIGFueSBtb21lbnQgZGF0ZSBmb3JtYXQgaGVyZQogICAgICB9LAogICAgICBwYXJlbnREZWZhdWx0U3lzdGVtVmlldzogewogICAgICAgIHZpZXdOYW1lczogWwogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAiRGVmYXVsdCBWaWV3IiwKICAgICAgICAgICAgdGlsZUZsYWc6IHRydWUsCgogICAgICAgICAgICBwb3NpdGlvbjogMSwKICAgICAgICAgICAgcHJpdmFjeTogInByaXZhdGUiLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIkFkZCBBIFZpZXcgVGlsZSIsCiAgICAgICAgICAgIHRpbGVGbGFnOiB0cnVlLAoKICAgICAgICAgICAgcG9zaXRpb246IDAsCiAgICAgICAgICAgIHByaXZhY3k6ICJwcml2YXRlIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKCiAgICAgICAgZGVmYXVsdFRhYmxlOiB7CiAgICAgICAgICBpZDogbnVsbCwKICAgICAgICAgIHZpZXdOYW1lOiAiRGVmYXVsdCBWaWV3IiwKICAgICAgICAgIGRlbnNpdHk6ICIiLAogICAgICAgICAgcGFnZVNpemU6ICIiLAogICAgICAgICAgcGFnZU5hbWU6ICIiLAogICAgICAgICAgdXNlcjogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVudFVzZXJEZXRhaWxzIikpLnByb2ZpbGUKICAgICAgICAgICAgLnVzZXJuYW1lLAogICAgICAgICAgZGVmYXVsdFZpZXdGbGFnOiB0cnVlLAogICAgICAgICAgc29ydEZpZWxkOiAiIiwKICAgICAgICAgIHNvcnREaXJlY3Rpb246ICJkYXRlQ3JlYXRlZCIsCiAgICAgICAgICB0aWxlRmxhZzogdHJ1ZSwKICAgICAgICAgIGNvbHVtbnM6IFtdLAogICAgICAgICAgcG9zaXRpb246IDEsIC8vIGFsd2F5cyBwYXNzIDEKICAgICAgICAgIHByaXZhY3k6ICJwcml2YXRlIiwKICAgICAgICB9LAogICAgICB9LAogICAgICBwYXJlbnREYXRhOiBbXSwKICAgICAgZmlsdGVyQ291bnQ6ICIiLAogICAgICBmaWVsZE5hbWVzOltdLAogICAgICAvLyAtLS0tLS0tLS0tLS0tIFNEVCBEYXRhIEVORCAtLS0tLS0tLS0tLS0tLS0tCiAgICAgIHRvYXN0RmxhZzogMCwKICAgICAgdG9hc3RNZXNzYWdlOiAiIiwKICAgICAgdG9hc3RUeXBlOiAiIiwKICAgIH07CiAgfSwKICBwcm9wczoge30sCgogIG1ldGhvZHM6IHsKICAgIC8vIC0tLS0tLS0tLS0tLSBTRFQgRnVuY3Rpb25zIFNUQVJUIC0tLS0tLS0tLS0tLS0tCgogICAgZ2V0QWN0aW9uc09wdGlvbih2YWwpIHsKICAgICAgaWYgKHZhbC52YWx1ZSA9PSAiVmlldyIpIHsKICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YSA9IHZhbC5yb3c7CiAgICAgICAgdGhpcy52aWV3VGVtcGxhdGUoKTsKICAgICAgfSBlbHNlIGlmICh2YWwudmFsdWUgPT0gIkRvd25sb2FkIikgewogICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IHRydWU7CiAgICAgICAgaWYgKHZhbC5yb3cuc3RhdHVzID09PSAiQ29tcGxldGUiKSB7CiAgICAgICAgICB0aGlzLnRvYXN0TWVzc2FnZSA9ICJObyBmYWlsdXJlIGltcG9ydHMgdG8gZG93bmxvYWQuIjsKICAgICAgICAgIHRoaXMudG9hc3RUeXBlID0gIndhcm5pbmciOwogICAgICAgICAgdGhpcy5sb2FkZXJGbGFnID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnRvYXN0RmxhZysrOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0aGlzLmRvd25sb2FkQXNzZXRUZW1wbGF0ZSh2YWwucm93LnV1aWQpOwogICAgICB9CiAgICB9LAoKICAgIGRvd25sb2FkQXNzZXRUZW1wbGF0ZSh1dWlkKSB7CiAgICAgIGFzc2V0TWFuYWdlbWVudFNlcnZpY2UKICAgICAgICAuZG93bmxvYWRGYWlsdXJlSW1wb3J0cyh1dWlkKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDAgJiYgcmVzLmRhdGEucmVzcG9uc2VJZGVudGlmaWVyID09PSAiU3VjY2VzcyIpIHsKICAgICAgICAgICAgdGhpcy5sb2FkZXJGbGFnID0gZmFsc2U7CiAgICAgICAgICAgIHZhciBzYW1wbGVBcnJheSA9IHRoaXMuYmFzZTY0VG9BcnJheUJ1ZmZlcihyZXMuZGF0YS5jb250ZW50KTsKICAgICAgICAgICAgbGV0IGZpbGVVcmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCgKICAgICAgICAgICAgICBuZXcgQmxvYihbc2FtcGxlQXJyYXldLCB7IHR5cGU6ICJ0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04OyIgfSkKICAgICAgICAgICAgKTsKICAgICAgICAgICAgdmFyIGZpbGVMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgICAgICBmaWxlTGluay5ocmVmID0gZmlsZVVybDsKICAgICAgICAgICAgZmlsZUxpbmsuc2V0QXR0cmlidXRlKCJkb3dubG9hZCIsIHJlcy5kYXRhLmZpbGVOYW1lKTsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmaWxlTGluayk7CiAgICAgICAgICAgIGZpbGVMaW5rLmNsaWNrKCk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBpZiAoZXJyb3IpIHsKICAgICAgICAgICAgdGhpcy50b2FzdE1lc3NhZ2UgPQogICAgICAgICAgICAgICJBbiBVbmV4cGVjdGVkIEVycm9yIG9jY3VycmVkIHdoaWxlIGRvd25sb2FkaW5nIGltcG9ydCBmYWlsdXJlcy4iOwogICAgICAgICAgICB0aGlzLnRvYXN0VHlwZSA9ICJlcnJvciI7CiAgICAgICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLnRvYXN0RmxhZysrOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKCiAgICBiYXNlNjRUb0FycmF5QnVmZmVyKGJhc2U2NCkgewogICAgICB2YXIgYmluYXJ5U3RyaW5nID0gd2luZG93LmF0b2IoYmFzZTY0KTsKICAgICAgdmFyIGJpbmFyeUxlbiA9IGJpbmFyeVN0cmluZy5sZW5ndGg7CiAgICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJpbmFyeUxlbik7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmluYXJ5TGVuOyBpKyspIHsKICAgICAgICB2YXIgYXNjaWkgPSBiaW5hcnlTdHJpbmcuY2hhckNvZGVBdChpKTsKICAgICAgICBieXRlc1tpXSA9IGFzY2lpOwogICAgICB9CiAgICAgIHJldHVybiBieXRlczsKICAgIH0sCgogICAgY29udmVydFRvQ1NWKG9iakFycmF5KSB7CiAgICAgIHZhciBhcnJheSA9IHR5cGVvZiBvYmpBcnJheSAhPSAib2JqZWN0IiA/IEpTT04ucGFyc2Uob2JqQXJyYXkpIDogb2JqQXJyYXk7CiAgICAgIHZhciBzdHIgPSAiIjsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgbGluZSA9ICIiOwogICAgICAgIGZvciAodmFyIGluZGV4IGluIGFycmF5W2ldKSB7CiAgICAgICAgICBpZiAobGluZSAhPSAiIikgbGluZSArPSAiLCI7CgogICAgICAgICAgbGluZSArPSBhcnJheVtpXVtpbmRleF07CiAgICAgICAgfQoKICAgICAgICBzdHIgKz0gbGluZSArICJcclxuIjsKICAgICAgfQoKICAgICAgcmV0dXJuIHN0cjsKICAgIH0sCgogICAgZ2V0RG93bmxvYWRBc09wdGlvbihvcHQpIHsKICAgICAgLy8gY29uc29sZS5sb2coJ2Rvd25sb2FkIGFzIG9wdGlvbicsb3B0KTsKICAgICAgaWYgKG9wdC5vcHRpb24gPT0gInBkZiIpIHsKICAgICAgICAvLyBub3RpZmljYXRpb25BbmRDb21tdW5pY2F0aW9uU2VydmljZS5kb3dubG9hZFNlbGVjdGVkUERGKG9iaikKICAgICAgICAvLyAudGhlbigocmVzKSA9PiB7CiAgICAgICAgLy8gLy8gY29uc29sZS5sb2cocmVzKQogICAgICAgIC8vIGxldCBmaWxlQ29udGVudHMgPSBudWxsOwogICAgICAgIC8vICAgICBsZXQgcG9wdXBXaW49bnVsbDsKICAgICAgICAvLyAgICAgcG9wdXBXaW4gPSB3aW5kb3cub3BlbignJywgJ19ibGFuaycsICd0b3A9MCxsZWZ0PTAsaGVpZ2h0PTcwMCx3aWR0aD0xMDAwOycpOwogICAgICAgIC8vICAgICBsZXQgZG9jdW1lbnQgPSB7CiAgICAgICAgLy8gICAgICAgICAnZG9jdW1lbnROYW1lJzogJ0JpbGxpbmcnCiAgICAgICAgLy8gICAgIH07CiAgICAgICAgLy8gZmlsZUNvbnRlbnRzID0gcmVzLmRhdGEudHlwZSArIHJlcy5kYXRhLmNvbnRlbnQ7CiAgICAgICAgLy8gICBwb3B1cFdpbi5kb2N1bWVudC53cml0ZShgCiAgICAgICAgLy8gICAgIDxodG1sPgogICAgICAgIC8vICAgICAgICAgPGhlYWQ+CiAgICAgICAgLy8gICAgICAgICAgPCEtLXRpdGxlPlByaW50IHRhYjwvdGl0bGUtLT4KICAgICAgICAvLyAgICAgICAgICAgICA8c3R5bGU+CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICNidXR0b25ze2Rpc3BsYXk6bm9uZTt9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICBib2R5IHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAiT3BlbiBTYW5zIiwgLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAiU2Vnb2UgVUkiLCBFdWNsaWQgQ2lyY3VsYXIgQiwgIkhlbHZldGljYSBOZXVlIiwgQXJpYWwsIHNhbnMtc2VyaWYsICJBcHBsZSBDb2xvciBFbW9qaSIsICJTZWdvZSBVSSBFbW9qaSIsICJTZWdvZSBVSSBTeW1ib2wiOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzIxMjUyOTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGJ1dHRvbiwgbWV0ZXIsIHByb2dyZXNzIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIC13ZWJraXQtd3JpdGluZy1tb2RlOiBob3Jpem9udGFsLXRiICFpbXBvcnRhbnQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QsIGJ1dHRvbiB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0ZXh0LXJlbmRlcmluZzogYXV0bzsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBpbml0aWFsOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IG5vcm1hbDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHdvcmQtc3BhY2luZzogbm9ybWFsOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IG5vbmU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0ZXh0LWluZGVudDogMHB4OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGV4dC1zaGFkb3c6IG5vbmU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBzdGFydDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMGVtOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZm9udDogNDAwIDEzLjMzMzNweCBBcmlhbDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICBpbnB1dFt0eXBlPSJidXR0b24iIGldLCBpbnB1dFt0eXBlPSJzdWJtaXQiIGldLCBpbnB1dFt0eXBlPSJyZXNldCIgaV0sIGlucHV0W3R5cGU9ImZpbGUiIGldOjotd2Via2l0LWZpbGUtdXBsb2FkLWJ1dHRvbiwgYnV0dG9uIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBkZWZhdWx0OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGJ1dHRvbnRleHQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBidXR0b25mYWNlOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDJweCA2cHggM3B4OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXdpZHRoOiAycHg7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBib3JkZXItc3R5bGU6IG91dHNldDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogYnV0dG9uZmFjZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1pbWFnZTogaW5pdGlhbDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICBpbnB1dCwgYnV0dG9uLCBzZWxlY3QsIG9wdGdyb3VwLCB0ZXh0YXJlYSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogaW5oZXJpdDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiBpbmhlcml0OwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGJ1dHRvbiwgc2VsZWN0IHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiBub25lOwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC5idG4gewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50OwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMC4zNzVyZW0gMC43NXJlbTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwLjI1cmVtOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjE1cyBlYXNlLWluLW91dCwgYm9yZGVyLWNvbG9yIDAuMTVzIGVhc2UtaW4tb3V0LCBib3gtc2hhZG93IDAuMTVzIGVhc2UtaW4tb3V0OwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC5idG4tb3V0bGluZS1wcmltYXJ5IHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjMDA3YmZmOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiBub25lOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjMDA3YmZmOwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC5idG4tb3V0bGluZS1wcmltYXJ5IHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjZDAzMjMyOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2QwMzIzMjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICA8c3R5bGU+LmZhIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IG5vcm1hbCBub3JtYWwgbm9ybWFsIDE0cHgvMSBGb250QXdlc29tZTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRleHQtcmVuZGVyaW5nOiBhdXRvOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlOwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9PC9zdHlsZT4KICAgICAgICAvLyAgICAgICAgICAgICAgICAgPHN0eWxlPiosICo6OmJlZm9yZSwgKjo6YWZ0ZXIgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICBTdHlsZSBBdHRyaWJ1dGUgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC5idG4sIC5mb3JtLWNvbnRyb2wgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMC4yNXJlbSAwLjVyZW07CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuODc1cmVtOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDAuM3JlbTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMTVweDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMjNweDsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfTwvc3R5bGU+CiAgICAgICAgLy8gICAgICAgICAgICAgPC9zdHlsZT4KICAgICAgICAvLyAgICAgICAgIDwvaGVhZD4KICAgICAgICAvLyAgICAgICAgIDxib2R5IG9ubG9hZD0iIj4KICAgICAgICAvLyAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOnJpZ2h0OyIgPgogICAgICAgIC8vICAgICAgICAgICAgICAgICA8YSBocmVmPSIke2ZpbGVDb250ZW50c30iIGRvd25sb2FkPSIke2RvY3VtZW50LmRvY3VtZW50TmFtZX0iPjxidXR0b24gY2xhc3M9ImJ0biBidG4tc20gYnRuLW91dGxpbmUtcHJpbWFyeSI+RG93bmxvYWQ8L2J1dHRvbj48L2E+CiAgICAgICAgLy8gICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgLy8gICAgICAgICAgICAgPGJyPgogICAgICAgIC8vICAgICAgICAgICAgIDxpZnJhbWUgc3JjPScke2ZpbGVDb250ZW50c30nICBzdHlsZT0ibWluLXdpZHRoOiAxMDAlO2hlaWdodDogMTAwJTsiID48L2lmcmFtZT4KICAgICAgICAvLyAgICAgICAgIDwvYm9keT4KICAgICAgICAvLyAgICAgPC9odG1sPmAKICAgICAgICAvLyApOwogICAgICAgIC8vIH0pCiAgICAgICAgLy8gLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpOwogICAgICB9IGVsc2UgaWYgKG9wdC5vcHRpb24gPT0gImNzdiIpIHsKICAgICAgICAvLyAJbGV0IGZpbGVUaXRsZSA9ICdCaWxsaW5ncyc7CiAgICAgICAgLy8gCWxldCBoZWFkZXJzID0gewogICAgICAgIC8vICAgICAgIGNyZWF0ZWREYXRlOiAnUmVxdWVzdGVkIE9uJy5yZXBsYWNlKC8sL2csICcnKSwgLy8gcmVtb3ZlIGNvbW1hcyB0byBhdm9pZCBlcnJvcnMKICAgICAgICAvLyAgICAgICBkdWVEYXRlOiAiRHVlIERhdGUiLAogICAgICAgIC8vICAgICAgIHNoaXBtZW50TnVtYmVyOiAiU2hpcG1lbnQgIyIsCiAgICAgICAgLy8gCQkgIHBvcnRPZkxvYWRpbmc6ICJQb3J0IG9mIExvYWQiLAogICAgICAgIC8vIAkJICBwb3J0T2ZEaXNjaGFyZ2U6ICJQb3J0IE9mIERpc2NoYXJnZSIsCiAgICAgICAgLy8gCQkgIGFtb3VudDogIkFtb3VudCIsCiAgICAgICAgLy8gCQkgIGJhbGFuY2U6ICJCYWxhbmNlIiwKICAgICAgICAvLyAJCSAgbmV0c3VpdGVTdGF0dXM6ICJTdGF0dXMiCiAgICAgICAgLy8gCX07CiAgICAgICAgLy8gCWxldCBkYXRhT2JqID0gW107CiAgICAgICAgLy8gCWZvciAobGV0IGkgPSAwOyBpIDwgb3B0LnJvd3MubGVuZ3RoOyBpKyspIHsKICAgICAgICAvLyAJCWNvbnN0IGJpbGwgPSBvcHQucm93c1tpXTsKICAgICAgICAvLyAJCWRhdGFPYmoucHVzaCh7CiAgICAgICAgLy8gCQkJY3JlYXRlZERhdGU6IGJpbGwuY3JlYXRlZERhdGUsCiAgICAgICAgLy8gCQkJZHVlRGF0ZTogYmlsbC5kdWVEYXRlLAogICAgICAgIC8vIAkJCXNoaXBtZW50TnVtYmVyOiBiaWxsLnNoaXBtZW50TnVtYmVyLAogICAgICAgIC8vIAkJCXBvcnRPZkxvYWRpbmc6IGJpbGwucG9ydE9mTG9hZGluZywKICAgICAgICAvLyAJCQlwb3J0T2ZEaXNjaGFyZ2U6IGJpbGwucG9ydE9mRGlzY2hhcmdlLAogICAgICAgIC8vIAkJCWFtb3VudDogYmlsbC5hbW91bnQsCiAgICAgICAgLy8gCQkJYmFsYW5jZTogYmlsbC5iYWxhbmNlLAogICAgICAgIC8vIAkJCW5ldHN1aXRlU3RhdHVzOiBiaWxsLm5ldHN1aXRlU3RhdHVzCiAgICAgICAgLy8gCQl9KTsKICAgICAgICAvLyAJfQogICAgICAgIC8vIAl0aGlzLmV4cG9ydENTVkZpbGUoaGVhZGVycywgZGF0YU9iaiwgZmlsZVRpdGxlKTsKICAgICAgfQogICAgfSwKCiAgICAvLyBleHBvcnRDU1ZGaWxlKGhlYWRlcnMsIGJpbGxpbmdEYXRhLCBmaWxlVGl0bGUpIHsKICAgIC8vICAgICAvLyBpZiAoaGVhZGVycykgewogICAgLy8gICAgIC8vICAgICBiaWxsaW5nRGF0YS51bnNoaWZ0KGhlYWRlcnMpOwogICAgLy8gICAgIC8vIH0KCiAgICAvLyAgICAgLy8gLy8gQ29udmVydCBPYmplY3QgdG8gSlNPTgogICAgLy8gICAgIC8vIHZhciBqc29uT2JqZWN0ID0gSlNPTi5zdHJpbmdpZnkoYmlsbGluZ0RhdGEpOwoKICAgIC8vICAgICAvLyB2YXIgY3N2ID0gdGhpcy5jb252ZXJ0VG9DU1YoanNvbk9iamVjdCk7CgogICAgLy8gICAgIC8vIHZhciBleHBvcnRlZEZpbGVubWFlID0gZmlsZVRpdGxlICsgJy5jc3YnIHx8ICdleHBvcnQuY3N2JzsKCiAgICAvLyAgICAgLy8gdmFyIGJsb2IgPSBuZXcgQmxvYihbY3N2XSwgeyB0eXBlOiAndGV4dC9jc3Y7Y2hhcnNldD11dGYtODsnIH0pOwogICAgLy8gICAgIC8vIGlmIChuYXZpZ2F0b3IubXNTYXZlQmxvYikgeyAvLyBJRSAxMCsKICAgIC8vICAgICAvLyAgICAgbmF2aWdhdG9yLm1zU2F2ZUJsb2IoYmxvYiwgZXhwb3J0ZWRGaWxlbm1hZSk7CiAgICAvLyAgICAgLy8gfSBlbHNlIHsKICAgIC8vICAgICAvLyAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAvLyAgICAgLy8gICAgIGlmIChsaW5rLmRvd25sb2FkICE9PSB1bmRlZmluZWQpIHsgLy8gZmVhdHVyZSBkZXRlY3Rpb24KICAgIC8vICAgICAvLyAgICAgICAgIC8vIEJyb3dzZXJzIHRoYXQgc3VwcG9ydCBIVE1MNSBkb3dubG9hZCBhdHRyaWJ1dGUKICAgIC8vICAgICAvLyAgICAgICAgIHZhciB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgLy8gICAgIC8vICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoImhyZWYiLCB1cmwpOwogICAgLy8gICAgIC8vICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoImRvd25sb2FkIiwgZXhwb3J0ZWRGaWxlbm1hZSk7CiAgICAvLyAgICAgLy8gICAgICAgICBsaW5rLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJzsKICAgIC8vICAgICAvLyAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICAvLyAgICAgLy8gICAgICAgICBsaW5rLmNsaWNrKCk7CiAgICAvLyAgICAgLy8gICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspOwogICAgLy8gICAgIC8vICAgICB9CiAgICAvLyAgICAgLy8gfQogICAgLy8gfSwKCiAgICBzZXRUYWJsZUNvbmZpZ3MoKSB7CiAgICAgIHRoaXMucGFyZW50RGVmYXVsdFN5c3RlbVZpZXcuZGVmYXVsdFRhYmxlLmRlbnNpdHkgPQogICAgICAgIHRoaXMudGFibGVDb25maWcuZGVuc2l0eTsKICAgICAgdGhpcy5wYXJlbnREZWZhdWx0U3lzdGVtVmlldy5kZWZhdWx0VGFibGUucGFnZVNpemUgPQogICAgICAgIHRoaXMudGFibGVDb25maWcucGFnZVNpemU7CiAgICAgIHRoaXMucGFyZW50RGVmYXVsdFN5c3RlbVZpZXcuZGVmYXVsdFRhYmxlLnBhZ2VOYW1lID0KICAgICAgICB0aGlzLnRhYmxlQ29uZmlnLnBhZ2VOYW1lOwogICAgICB0aGlzLnBhcmVudERlZmF1bHRTeXN0ZW1WaWV3LmRlZmF1bHRUYWJsZS5zb3J0RmllbGQgPQogICAgICAgIHRoaXMudGFibGVDb25maWcuc29ydEZpZWxkOwogICAgICB0aGlzLnBhcmVudERlZmF1bHRTeXN0ZW1WaWV3LmRlZmF1bHRUYWJsZS5zb3J0RGlyZWN0aW9uID0KICAgICAgICB0aGlzLnRhYmxlQ29uZmlnLnNvcnREaXJlY3Rpb247CiAgICAgIHRoaXMucGFyZW50RGVmYXVsdFN5c3RlbVZpZXcuZGVmYXVsdFRhYmxlLmNvbHVtbnMgPQogICAgICAgIHRoaXMudGFibGVDb25maWcuY29sdW1uczsKICAgIH0sCgogICAgc2V0U3RhdGljQ29sdW1uKCkgewogICAgICBsZXQgc3RhdGljQ29sID0gdGhpcy50YWJsZUNvbmZpZy5jb2x1bW5zLmZpbHRlcigKICAgICAgICAoY29sKSA9PiBjb2wubGFiZWxOYW1lID09ICJJbXBvcnQgTmFtZSIKICAgICAgKVswXTsKICAgICAgdGhpcy5wYXJlbnRTeXN0ZW1TZXR0aW5ncy5zdGF0aWNDb2x1bW5zLnB1c2goc3RhdGljQ29sKTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50YWJsZUNvbmZpZy5jb2x1bW5zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMudGFibGVDb25maWcuY29sdW1uc1tpXS5sYWJlbE5hbWUgPT0gc3RhdGljQ29sLmxhYmVsTmFtZSkgewogICAgICAgICAgdGhpcy50YWJsZUNvbmZpZy5jb2x1bW5zLnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgY2F0Y2hEZXBhcnR1cmU6IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIC8vIGRlYnVnZ2VyCiAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAxIHx8IGRhdGEuc3RhdHVzID09IDMpIHsKICAgICAgICB0aGlzLmxvYWRUYWJsZShkYXRhKTsKICAgICAgfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSA0KSB7CiAgICAgICAgdGhpcy5sb2FkVGFibGUoZGF0YSk7CiAgICAgIH0gZWxzZSBpZiAoZGF0YS5zdGF0dXMgPT0gMTApIHsKICAgICAgfQogICAgfSwKCiAgICBsb2FkVGFibGUoc2R0RGF0YSkgewogICAgICBsZXQgZmlsdGVycyA9IFtdOwogICAgICB0aGlzLmxvYWRlckZsYWcgPSB0cnVlOwogICAgICBmb3IgKGxldCBzZHRfZGF0YSBvZiBzZHREYXRhLm1lc3NhZ2UpIHsKICAgICAgICBpZihzZHRfZGF0YS5maWVsZE5hbWUgIT09ICJhY3Rpb25zIiApewogICAgICAgICAgbGV0IG5ld0RhdGUgPSAiIjsKICAgICAgICAgIGlmKHNkdF9kYXRhLmZpZWxkVHlwZSA9PT0gImRhdGUiICYmIHNkdF9kYXRhLmZpbHRlclZhbHVlICE9PSAiIil7CiAgICAgICAgICAgIGxldCBkYXRlID0gc2R0X2RhdGEuZmlsdGVyVmFsdWUudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgZGF0ZSA9IGRhdGUuc3BsaXQoIi8iKTsKICAgICAgICAgICAgbmV3RGF0ZSA9IG5ldyBEYXRlKGAke2RhdGVbMV19LyR7ZGF0ZVswXX0vJHtkYXRlWzJdfWApCiAgICAgICAgICB9CiAgICAgICAgICBpZihzZHRfZGF0YS5maWx0ZXJWYWx1ZSA9PT0gbnVsbCl7CiAgICAgICAgICAgIHNkdF9kYXRhLmZpbHRlclZhbHVlID0gIiIKICAgICAgICAgIH0KICAgICAgICAgIGZpbHRlcnMucHVzaCh7CiAgICAgICAgICAgIGZpZWxkTmFtZTogc2R0X2RhdGEuZmllbGROYW1lLAogICAgICAgICAgICBmaWVsZFR5cGU6IHNkdF9kYXRhLmZpZWxkVHlwZSwKICAgICAgICAgICAgZmlsdGVyVmFsdWU6bmV3RGF0ZSA9PT0gbnVsbCB8fCBuZXdEYXRlID09PSAiIiA/IHNkdF9kYXRhLmZpbHRlclZhbHVlOiBuZXdEYXRlLmdldFRpbWUoKSwKICAgICAgICAgICAgc2Vjb25kVmFsdWU6IHNkdF9kYXRhLnNlY29uZFZhbHVlLAogICAgICAgICAgICBjb21wYXJpc29uVHlwZTogc2R0X2RhdGEuY29tcGFyaXNvblR5cGUsCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuZ2V0UGFnaW5hdGVkTGFzdEFzc2V0SW1wb3J0c0ZvclNEVCgKICAgICAgICBmaWx0ZXJzLAogICAgICAgIHNkdERhdGEuZGF0YS5zb3J0RmllbGQsCiAgICAgICAgc2R0RGF0YS5kYXRhLnNvcnREaXJlY3Rpb24sCiAgICAgICAgc2R0RGF0YS5kYXRhLm9mZnNldCwKICAgICAgICBzZHREYXRhLmRhdGEubGltaXQsCiAgICAgICAgc2R0RGF0YS5kYXRhLnNlYXJjaFF1ZXJ5CiAgICAgICk7CiAgICB9LAoKICAgIGxvYWRTRFQocmVzcG9uc2UsIGRhdGEpIHsKICAgICAgdGhpcy5pbnNwZWN0aW9ucyA9IGRhdGE7CiAgICAgIGxldCBldmVudERhdGEgPSB7CiAgICAgICAgZGF0YTogdGhpcy5pbnNwZWN0aW9ucywKICAgICAgICB0b3RhbEVsZW1lbnRzOiByZXNwb25zZS5kYXRhLnNkdERhdGEudG90YWxFbGVtZW50cywKICAgICAgICB0b3RhbFBhZ2VzOiByZXNwb25zZS5kYXRhLnNkdERhdGEudG90YWxQYWdlcywKICAgICAgICBwYWdlTnVtYmVyOiByZXNwb25zZS5kYXRhLnNkdERhdGEub2Zmc2V0LAogICAgICB9OwogICAgICB0aGlzLiRyZWZzLnRlc3QuZGF0YUxvYWRFdmVudChldmVudERhdGEpOwogICAgfSwKCiAgICBleHRyYWN0RmllbGROYW1lc0ZvclNlYXJjaFF1ZXJ5KGNvbmZpZyl7CiAgICAgIGZvcihsZXQgY29sdW1uIG9mIGNvbmZpZy5jb2x1bW5zKXsKICAgICAgICB0aGlzLmZpZWxkTmFtZXMucHVzaChjb2x1bW4uZmllbGROYW1lKQogICAgICB9CiAgICB9LAoKICAgIGdldFBhZ2luYXRlZExhc3RBc3NldEltcG9ydHNGb3JTRFQoCiAgICAgIGZpbHRlcnMsCiAgICAgIHNvcnRGaWVsZCwKICAgICAgc29ydERpcmVjdGlvbiwKICAgICAgb2Zmc2V0LAogICAgICBsaW1pdCwKICAgICAgc2VhcmNoUXVlcnkKICAgICkgewogICAgICBsZXQgY3VycmVudFVzZXJEZXRhaWxzID0gSlNPTi5wYXJzZSgKICAgICAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVudFVzZXJEZXRhaWxzIikKICAgICAgKTsKCiAgICAgIGxldCByZXF1ZXN0T2JqID0gewogICAgICAgIHNlYXJjaFF1ZXJ5OiBzZWFyY2hRdWVyeSwKICAgICAgICAvLyBzZWFyY2hDb2x1bW5zOiBzZWFyY2hDb2x1bW5zLAogICAgICAgIGZpbHRlcnM6IGZpbHRlcnMsCiAgICAgICAgc29ydEZpZWxkOiBzb3J0RmllbGQsCiAgICAgICAgc29ydERpcmVjdGlvbjogc29ydERpcmVjdGlvbiwKICAgICAgICBvZmZzZXQ6IG9mZnNldCwKICAgICAgICBsaW1pdDogbGltaXQsCiAgICAgICAgdGVuYW50VVVJRDogY3VycmVudFVzZXJEZXRhaWxzLnByb2ZpbGUub3JnYW5pemF0aW9uSWQsCiAgICAgICAgdXNlclVVSUQ6IGN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLnVzZXJpZCwKICAgICAgICBmaWVsZE5hbWVzOnRoaXMuZmllbGROYW1lcwogICAgICB9OwoKICAgICAgYXNzZXRNYW5hZ2VtZW50U2VydmljZQogICAgICAgIC5nZXRQYWdpbmF0ZWRMYXN0QXNzZXRJbXBvcnRzRm9yU0RUKHJlcXVlc3RPYmopCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICByZXNwb25zZS5kYXRhLnNkdERhdGEuY29udGVudC5tYXAoKGl0ZW0pID0+IHsKICAgICAgICAgICAgICBpdGVtLmltcG9ydERhdGUgPSBtb21lbnQudXRjKGl0ZW0uaW1wb3J0RGF0ZSkubG9jYWwoKS5mb3JtYXQoKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBsZXQgdGVtcGxhdGVzID0gcmVzcG9uc2UuZGF0YS5zZHREYXRhLmNvbnRlbnQ7CiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuc2R0RGF0YS5vZmZzZXQgPSBvZmZzZXQgKyAxOwogICAgICAgICAgICB0aGlzLmxvYWRTRFQocmVzcG9uc2UsIHRlbXBsYXRlcyk7CiAgICAgICAgICAgIHRoaXMubG9hZGVyRmxhZyA9IGZhbHNlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy50b2FzdE1lc3NhZ2UgPQogICAgICAgICAgICAgICJBbiBVbmV4cGVjdGVkIEVycm9yIG9jY3VycmVkIHdoaWxlIGdldHRpbmcgbGFzdCBBc3NldCBpbXBvcnRzLiI7CiAgICAgICAgICAgIHRoaXMudG9hc3RUeXBlID0gImVycm9yIjsKICAgICAgICAgICAgdGhpcy5sb2FkZXJGbGFnID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMudG9hc3RGbGFnKys7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBpZiAoZXJyb3IpIHsKICAgICAgICAgICAgdGhpcy50b2FzdE1lc3NhZ2UgPQogICAgICAgICAgICAgICJBbiBVbmV4cGVjdGVkIEVycm9yIG9jY3VycmVkIHdoaWxlIGdldHRpbmcgbGFzdCBBc3NldCBpbXBvcnRzLiI7CiAgICAgICAgICAgIHRoaXMudG9hc3RUeXBlID0gImVycm9yIjsKICAgICAgICAgICAgdGhpcy5sb2FkZXJGbGFnID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMudG9hc3RGbGFnKys7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAoKICAgIC8vIC0tLS0tLS0tLS0tLSBTRFQgRnVuY3Rpb25zIEVORCAtLS0tLS0tLS0tLS0tLQogIH0sCgogIG1vdW50ZWQoKSB7CiAgICBkb2N1bWVudC50aXRsZSA9IHRoaXMuJHJvdXRlLm1ldGEudGl0bGU7CiAgICBsZXQgY3VycmVudFVzZXJEZXRhaWxzID0gSlNPTi5wYXJzZSgKICAgICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImN1cnJlbnRVc2VyRGV0YWlscyIpCiAgICApOwogICAgaWYgKGN1cnJlbnRVc2VyRGV0YWlscyA9PT0gbnVsbCkgewogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZm9yY2VTaWdub3V0IiwgInllcyIpOwogICAgICByZXR1cm47CiAgICB9CgogICAgLy8gZmV0Y2hpbmcgY29uZmlncwogICAgbGV0IHV1aWQgPSBjdXJyZW50VXNlckRldGFpbHMucHJvZmlsZS5vcmdhbml6YXRpb25JZDsKCiAgICBhc3NldFBlcnNvbm5lbFNlcnZpY2UKICAgICAgLmdldE9yZ0NvbmZpZ3ModXVpZCwgInRhYmxlQ29uZmlncyIpCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIGxldCBhbGxDb25maWdzID0gSlNPTi5wYXJzZShyZXNwb25zZS5kYXRhLnRhYmxlQ29uZmlncyk7CiAgICAgICAgdGhpcy50YWJsZUNvbmZpZyA9IGFsbENvbmZpZ3MuZmlsdGVyKAogICAgICAgICAgKGRhdGEpID0+IGRhdGEucGFnZU5hbWUgPT09ICJsYXN0SW1wb3J0UmVjb3JkcyIKICAgICAgICApWzBdOwogICAgICAgIHRoaXMuZXh0cmFjdEZpZWxkTmFtZXNGb3JTZWFyY2hRdWVyeSh0aGlzLnRhYmxlQ29uZmlnKQogICAgICAgIHRoaXMuc2V0U3RhdGljQ29sdW1uKCk7CiAgICAgICAgdGhpcy5zZXRUYWJsZUNvbmZpZ3MoKTsKICAgICAgfSkKICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgIGlmIChlcnJvcikgewogICAgICAgICAgdGhpcy50b2FzdE1lc3NhZ2UgPQogICAgICAgICAgICAiQW4gVW5leHBlY3RlZCBFcnJvciBvY2N1cnJlZCB3aGlsZSBFcnJvciBmZXRjaGluZyBjb25maWdzLiI7CiAgICAgICAgICB0aGlzLnRvYXN0VHlwZSA9ICJlcnJvciI7CiAgICAgICAgICB0aGlzLmxvYWRlckZsYWcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMudG9hc3RGbGFnKys7CiAgICAgICAgfQogICAgICB9KTsKICB9LAoKICB2YWxpZGF0aW9uczogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHt9OwogIH0sCgogIGNvbXB1dGVkOiB7fSwKfTsK"},null]}
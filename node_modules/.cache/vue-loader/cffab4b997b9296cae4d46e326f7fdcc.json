{"remainingRequest":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/views/calendar/components/InspectionAssignment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/views/calendar/components/InspectionAssignment.vue","mtime":1661968702432},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":1662622637759},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/babel-loader/lib/index.js","mtime":1662622637719},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":1662622637759},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js","mtime":1662622639723}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CglpbXBvcnQgQXNzZXRQZXJzb25uZWxTZXJ2aWNlIGZyb20gIi4uLy4uLy4uL3NlcnZpY2VzL0Fzc2V0UGVyc29ubmVsU2VydmljZSI7CglpbXBvcnQgSW5zcGVjdGlvblNlcnZpY2UgZnJvbSAiLi4vLi4vLi4vc2VydmljZXMvSW5zcGVjdGlvblNlcnZpY2UiOwoJaW1wb3J0IHsgRnVuY3Rpb25zIH0gZnJvbSAiQC9zaGFyZWQvRnVuY3Rpb25zIjsKCWltcG9ydCB7IHJlcXVpcmVkIH0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIjsKCWltcG9ydCBUZW1wbGF0ZUl0ZW1zIGZyb20gIi4uL2NvbXBvbmVudHMvdGVtcGxhdGVJdGVtcy52dWUiOwoJaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwoKCWltcG9ydCBsb2FkZXIgZnJvbSAiQC9jb21wb25lbnRzL0xvYWRlci52dWUiOwoJZXhwb3J0IGRlZmF1bHQgewoJCW5hbWU6ICJUZW1wbGF0ZUFzc2lnbm1lbnQiLAoJCWNvbXBvbmVudHM6IHsgbG9hZGVyLCBUZW1wbGF0ZUl0ZW1zIH0sCgkJZGF0YSgpIHsKCQkJcmV0dXJuIHsKCQkJCXNlbGVjdGVkVGVtcGxhdGU6ICIiLAoJCQkJdGVtcGxhdGVOYW1lOiAiIiwKCQkJCXRlbXBsYXRlT3B0aW9uczogW10sCgkJCQlzZWxlY3RlZFRlbXBJdGVtczogW10sCgkJCQlsb2FkZXJGbGFnOiBmYWxzZSwKCQkJCW5hbWU6ICIiLAoJCQkJY2hlY2tib3g6IHRydWUsCgkJCQlzaG93VGVtcFBvcFVwOiBmYWxzZSwKCQkJCXJlbWluZGVySW5kZXg6IDAsCgkJCQl1c2VySWQ6IDAsCgkJCQl1c2VyR3JvdXBJZDogMCwKCQkJCWFzc2V0SWQ6IDAsCgkJCQlhc3NldEdyb3VwSWQ6IDAsCgkJCQlkdXJhdGlvblR5cGVJRDogMCwKCQkJCWFzc2lnbkFzc2V0SWQ6IDAsCgkJCQlzZWxlY3RlZFR5cGU6ICJzY2hlZHVsZSIsCgkJCQlkZWFkbGluZTogIiIsCgkJCQl0ZW1wbGF0ZVVVSUQ6ICIiLAoJCQkJYWRob2NkYXRlOiAiIiwKCQkJCWFkaG9jdGltZTogIiIsCgkJCQlzdGFydERhdGU6ICIiLAoJCQkJc3RhcnRUaW1lOiAiIiwKCQkJCWVuZERhdGU6ICIiLAoJCQkJZW5kVGltZTogIiIsCgkJCQl3ZWVrRGF5OiAiIiwKCQkJCW1vbnRobHlEYXRlOiAiIiwKCQkJCWRhaWx5RGVhZExpbmVUaW1lOiAiIiwKCQkJCWN1c3RvbVZhbHVlOiAiMSIsCgkJCQlvY2N1cmFuY2VzVmFsdWU6ICIiLAoJCQkJY3VzdG9tV2VlazogIndlZWsiLAoJCQkJY3VzdG9tRGF0ZTogdHJ1ZSwKCQkJCW9jY3VyYW5jZXNBY3RpdmU6IHRydWUsCgkJCQljdXN0b21XZWVrRGF5OiBbXSwKCQkJCWN1c3RvbU1vbnRobHk6ICIiLAoJCQkJQ3VzdG9tTW9udGhseURhdGU6ICIiLAoJCQkJYXNzaWduZWRBc3NldFV1aWQ6ICIiLAoJCQkJYXNzaWduZWRBc3NldHNPcHRpb25zOiBbXSwKCQkJCWFzc2lnbmVkQXNzZXQ6ICIiLAoJCQkJbmV2ZXI6ICIiLAoJCQkJb246ICIiLAoJCQkJYWZ0ZXI6ICIiLAoJCQkJY3VycmVudFVzZXJEZXRhaWxzOiAiIiwKCQkJCWluZGV4UmVtaW5kZXI6IDAsCgkJCQlGcmVxdWVuY3lTdHJpbmc6ICIiLAoJCQkJY3VzdG9tT3B0aW9uczogWwoJCQkJCXsgbmFtZTogIkRhaWx5IiwgdmFsdWU6ICJkYXkiIH0sCgkJCQkJeyBuYW1lOiAiV2Vla2x5IiwgdmFsdWU6ICJ3ZWVrIiB9LAoJCQkJCXsgbmFtZTogIk1vbnRobHkiLCB2YWx1ZTogIm1vbnRoIiB9LAoJCQkJCXsgbmFtZTogIlllYXJseSIsIHZhbHVlOiAieWVhciIgfSwKCQkJCV0sCgkJCQljdXN0b21PcHRpb25zTW9udGhseTogWwoJCQkJCXsgbmFtZTogIjEiLCB2YWx1ZTogIjEiIH0sCgkJCQkJeyBuYW1lOiAiMiIsIHZhbHVlOiAiMiIgfSwKCQkJCQl7IG5hbWU6ICIzIiwgdmFsdWU6ICIzIiB9LAoJCQkJCXsgbmFtZTogIjQiLCB2YWx1ZTogIjQiIH0sCgkJCQkJeyBuYW1lOiAiNSIsIHZhbHVlOiAiNSIgfSwKCQkJCQl7IG5hbWU6ICI2IiwgdmFsdWU6ICI2IiB9LAoJCQkJCXsgbmFtZTogIjciLCB2YWx1ZTogIjciIH0sCgkJCQkJeyBuYW1lOiAiOCIsIHZhbHVlOiAiOCIgfSwKCQkJCQl7IG5hbWU6ICI5IiwgdmFsdWU6ICI5IiB9LAoJCQkJCXsgbmFtZTogIjEwIiwgdmFsdWU6ICIxMCIgfSwKCQkJCQl7IG5hbWU6ICIxMSIsIHZhbHVlOiAiMTEiIH0sCgkJCQkJeyBuYW1lOiAiMTIiLCB2YWx1ZTogIjEyIiB9LAoJCQkJCXsgbmFtZTogIjEzIiwgdmFsdWU6ICIxMyIgfSwKCQkJCQl7IG5hbWU6ICIxNCIsIHZhbHVlOiAiMTQiIH0sCgkJCQkJeyBuYW1lOiAiMTUiLCB2YWx1ZTogIjE1IiB9LAoJCQkJCXsgbmFtZTogIjE2IiwgdmFsdWU6ICIxNiIgfSwKCQkJCQl7IG5hbWU6ICIxNyIsIHZhbHVlOiAiMTciIH0sCgkJCQkJeyBuYW1lOiAiMTgiLCB2YWx1ZTogIjE4IiB9LAoJCQkJCXsgbmFtZTogIjE5IiwgdmFsdWU6ICIxOSIgfSwKCQkJCQl7IG5hbWU6ICIyMCIsIHZhbHVlOiAiMjAiIH0sCgkJCQkJeyBuYW1lOiAiMjEiLCB2YWx1ZTogIjIxIiB9LAoJCQkJCXsgbmFtZTogIjIyIiwgdmFsdWU6ICIyMiIgfSwKCQkJCQl7IG5hbWU6ICIyMyIsIHZhbHVlOiAiMjMiIH0sCgkJCQkJeyBuYW1lOiAiMjQiLCB2YWx1ZTogIjI0IiB9LAoJCQkJCXsgbmFtZTogIjI1IiwgdmFsdWU6ICIyNSIgfSwKCQkJCQl7IG5hbWU6ICIyNiIsIHZhbHVlOiAiMjYiIH0sCgkJCQkJeyBuYW1lOiAiMjciLCB2YWx1ZTogIjI3IiB9LAoJCQkJCXsgbmFtZTogIjI4IiwgdmFsdWU6ICIyOCIgfSwKCQkJCQl7IG5hbWU6ICIyOSIsIHZhbHVlOiAiMjkiIH0sCgkJCQkJeyBuYW1lOiAiMzAiLCB2YWx1ZTogIjMwIiB9LAoJCQkJCXsgbmFtZTogIjMxIiwgdmFsdWU6ICIzMSIgfSwKCQkJCV0sCgoJCQkJc2NoZWR1bGU6IFsKCQkJCQl7IG5hbWU6ICJBZC1ob2MiLCB2YWx1ZTogImFkLWhvYyIgfSwKCQkJCQl7IG5hbWU6ICJEYWlseSIsIHZhbHVlOiAiZGFpbHkiIH0sCgkJCQkJeyBuYW1lOiAiV2Vla2x5IiwgdmFsdWU6ICJ3ZWVrbHkiIH0sCgkJCQkJeyBuYW1lOiAiTW9udGhseSIsIHZhbHVlOiAibW9udGhseSIgfSwKCQkJCQkvLyB7IG5hbWU6ICJDdXN0b20iLCB2YWx1ZTogImN1c3RvbSIgfSwKCQkJCV0sCgkJCQl3ZWVrbHlEYXlzOiBbCgkJCQkJeyBuYW1lOiAiU3VuZGF5IiwgdmFsdWU6ICJTVU5EQVkiIH0sCgkJCQkJeyBuYW1lOiAiTW9uZGF5IiwgdmFsdWU6ICJNT05EQVkiIH0sCgkJCQkJeyBuYW1lOiAiVHVlc2RheSIsIHZhbHVlOiAiVFVFU0RBWSIgfSwKCQkJCQl7IG5hbWU6ICJXZWRuZXNkYXkiLCB2YWx1ZTogIldFRE5FU0RBWSIgfSwKCQkJCQl7IG5hbWU6ICJUaHVyc2RheSIsIHZhbHVlOiAiVEhVUlNEQVkiIH0sCgkJCQkJeyBuYW1lOiAiRnJpZGF5IiwgdmFsdWU6ICJGUklEQVkiIH0sCgkJCQkJeyBuYW1lOiAiU2F0dXJkYXkiLCB2YWx1ZTogIlNBVFVSREFZIiB9LAoJCQkJXSwKCQkJCXNlbGVjdGVkU2NoZWR1bGU6ICIiLAoJCQkJdGVtcGxhdGVRYXNpbTogIiIsCgkJCQlyZW1pbmRlckFycmF5OiBbCgkJCQkJewoJCQkJCQlyZW1pbmRlcjogW10sCgkJCQkJCXJlbWluZGVyT3B0aW9uczogWwoJCQkJCQkJeyBuYW1lOiAiRW1haWwiLCB2YWx1ZTogImVtYWlsIiB9LAoJCQkJCQkJeyBuYW1lOiAiU01TIiwgdmFsdWU6ICJzbXMiIH0sCgkJCQkJCQl7IG5hbWU6ICJOb3RpZmljYXRpb24iLCB2YWx1ZTogIm5vdGlmaWNhdGlvbiIgfSwKCQkJCQkJXSwKCQkJCQkJZHVyYXRpb25WYWx1ZTogIiIsCgkJCQkJCWR1cmF0aW9uVHlwZTogIiIsCgkJCQkJCWR1cmF0aW9uVHlwZU9wdGlvbnM6IFsKCQkJCQkJCXsgbmFtZTogIk1pbnV0ZXMiLCB2YWx1ZTogIm1pbnV0ZXMiIH0sCgkJCQkJCQl7IG5hbWU6ICJIb3VycyIsIHZhbHVlOiAiaG91cnMiIH0sCgkJCQkJCQl7IG5hbWU6ICJEYXlzIiwgdmFsdWU6ICJkYXlzIiB9LAoJCQkJCQkJeyBuYW1lOiAiV2Vla3MiLCB2YWx1ZTogIndlZWtzIiB9LAoJCQkJCQldLAoJCQkJCX0sCgkJCQldLAoJCQkJYXNzaWduZWU6ICIiLAoJCQkJYXNzaWduZWVzOiBbCgkJCQkJeyBuYW1lOiAiVXNlcnMiLCB2YWx1ZTogInVzZXIiIH0sCgkJCQkJeyBuYW1lOiAiQXNzZXRzIiwgdmFsdWU6ICJhc3NldCIgfSwKCQkJCV0sCgkJCQlhbGxVc2VyczogW10sCgkJCQl1c2VyR3JvdXBzOiBbXSwKCQkJCWFzc2lnbmVkVXNlckdyb3VwOiAiIiwKCQkJCWFzc2lnblVzZXJzOiBbXSwKCQkJCWFzc2lnbmVkVXNlcjogIiIsCgkJCQlhc3NldEdyb3VwT3B0aW9uczogW10sCgkJCQlncm91cEFzc2V0T3B0aW9uczogW10sCgkJCQlhc3NldEdyb3VwczogIiIsCgkJCQlhc3NldE5hbWU6ICIiLAoJCQkJZWRpdFZhbHVlZmxhZzogZmFsc2UsCgkJCQlhc3NldE5hbWVVVUlEOiAiIiwKCQkJCWFzc2V0R3JvdXBzVVVJRDogIiIsCgkJCQlhc3NpZ25lZFVzZXJVVUlEOiAiIiwKCQkJCWFzc2lnbmVkVXNlckdyb3VwVVVJRDogIiIsCgkJCQlhc3NldEFzc2lnbkZsYWc6IHRydWUsCgkJCQlhc3NpZ25lZEFzc2V0TmFtZTogIiIsCgkJCQlhc3NldEFzc2lnbmVkVXNlcnM6IFtdLAoJCQkJU2VsZWN0ZWRUZW1wbGF0ZU9iajogIiIsCgkJCQlrZXlJbmRleDogMCwKCQkJfTsKCQl9LAoJCXByb3BzOiB7CgkJCXRlbXBPYmo6IHt9LAoJCQlhc3NpZ25lZFRlbXBsYXRlT2JqOiB7fSwKCQkJY2FsZW5kZXJEYXRlT2JqOiB7fSwKCQl9LAoJCW1ldGhvZHM6IHsKCQkJLy8gIG9uU2VsZWN0ZWRUZW1wbGF0ZSh2YWx1ZSkgewoJCQkvLyAgICAgICAgIHRoaXMudGVtcGxhdGVOYW1lID0gdmFsdWUuZGlzcGxheTsKCQkJLy8gIH0sCgkJCW9uU2VsZWN0ZWRUZW1wbGF0ZSh2YWx1ZSkgewoJCQkJdGhpcy50ZW1wbGF0ZU5hbWUgPSB2YWx1ZS5kaXNwbGF5OwoJCQkJdGhpcy5TZWxlY3RlZFRlbXBsYXRlT2JqID0gdmFsdWU7CgkJCQkvLwl0aGlzLm5hbWUgPSB2YWx1ZS5kaXNwbGF5OwoJCQkJdGhpcy50ZW1wbGF0ZVVVSUQgPSB2YWx1ZS52YWx1ZTsKCQkJCWNvbnNvbGUubG9nKHZhbHVlKTsKCQkJCXRoaXMuc2hvd1RlbXBQb3BVcCA9IHRydWU7CgkJCX0sCgkJCWdldEFsbFRlbXBsYXRlKCkgewoJCQkJbGV0IGN1cnJlbnRVc2VyRGV0YWlscyA9IEpTT04ucGFyc2UoCgkJCQkJbG9jYWxTdG9yYWdlLmdldEl0ZW0oImN1cnJlbnRVc2VyRGV0YWlscyIpCgkJCQkpOwoJCQkJSW5zcGVjdGlvblNlcnZpY2UuZ2V0QWxsSW5zcGVjdGlvblRlbXBsYXRlcygKCQkJCQljdXJyZW50VXNlckRldGFpbHMucHJvZmlsZS5vcmdhbml6YXRpb25JZAoJCQkJKQoJCQkJCS50aGVuKChyZXNwb25zZSkgPT4gewoJCQkJCQlpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKCQkJCQkJLy8JY29uc29sZS5sb2coIndvcmsiKTsKCQkJCQkJCXRoaXMudGVtcGxhdGVPcHRpb25zID0gcmVzcG9uc2UuZGF0YS5pbnNwZWN0aW9uVGVtcGxhdGVEVE9TOwoJCQkJCQl9CgkJCQkJfSkKCQkJCQkuY2F0Y2goKGUpID0+IHsKCQkJCQkJY29uc29sZS5sb2coZSk7CgkJCQkJfSk7CgkJCX0sCgkJCWdldEZvcm1FcnJvck1lc3NhZ2UoZmllbGRWYWxpZGF0aW9uKSB7CgkJCQlpZiAoZmllbGRWYWxpZGF0aW9uLiRkaXJ0eSkgewoJCQkJCXJldHVybiBGdW5jdGlvbnMuZ2V0Rm9ybUZpZWxkRXJyb3JNZXNzYWdlKGZpZWxkVmFsaWRhdGlvbik7CgkJCQl9CgkJCX0sCgoJCQluZXZlcmZ1bmNOYW1lKHZhbCkgewoJCQkJaWYgKHZhbCA9PT0gdHJ1ZSkgewoJCQkJCXRoaXMub24gPSBmYWxzZTsKCQkJCQl0aGlzLmFmdGVyID0gZmFsc2U7CgkJCQkJKHRoaXMuQ3VzdG9tTW9udGhseURhdGUgPSAiIiksICh0aGlzLm9jY3VyYW5jZXNWYWx1ZSA9ICIiKTsKCQkJCX0KCQkJfSwKCgkJCW9uZnVuY05hbWUodmFsKSB7CgkJCQlpZiAodmFsID09PSB0cnVlKSB7CgkJCQkJdGhpcy5uZXZlciA9IGZhbHNlOwoJCQkJCXRoaXMuYWZ0ZXIgPSBmYWxzZTsKCQkJCQl0aGlzLmN1c3RvbURhdGUgPSBmYWxzZTsKCQkJCQl0aGlzLm9jY3VyYW5jZXNBY3RpdmUgPSB0cnVlOwoJCQkJCXRoaXMub2NjdXJhbmNlc1ZhbHVlID0gIiI7CgkJCQl9CgkJCX0sCgoJCQlhZnRlcmZ1bmNOYW1lKHZhbCkgewoJCQkJaWYgKHZhbCA9PT0gdHJ1ZSkgewoJCQkJCXRoaXMub24gPSBmYWxzZTsKCQkJCQl0aGlzLm5ldmVyID0gZmFsc2U7CgkJCQkJdGhpcy5vY2N1cmFuY2VzQWN0aXZlID0gZmFsc2U7CgkJCQkJdGhpcy5jdXN0b21EYXRlID0gdHJ1ZTsKCQkJCQl0aGlzLm9jY3VyYW5jZXNWYWx1ZSA9ICIxIjsKCQkJCQl0aGlzLkN1c3RvbU1vbnRobHlEYXRlID0gIiI7CgkJCQl9CgkJCX0sCgoJCQljbG9zZSgpIHsKCQkJCXRoaXMuJGVtaXQoImNsb3NlIik7CgkJCQl0aGlzLnNob3dUZW1wUG9wVXAgPSBmYWxzZTsKCQkJfSwKCgkJCW9uU2VsZWN0ZWRTY2hlZHVsZSh2YWwpIHsKCQkJCWlmICh2YWwudmFsdWUgPT09ICJkYWlseSIpIHsKCQkJCQl0aGlzLmRlYWRMaW5lRGF0ZSA9ICIiOwoJCQkJCXRoaXMuYWRob2N0aW1lID0gIiI7CgkJCQkJdGhpcy5hZGhvY2RhdGUgPSAiIjsKCQkJCQl0aGlzLkZyZXF1ZW5jeVN0cmluZyA9ICJEYXkiOwoJCQkJfSBlbHNlIGlmICh2YWwudmFsdWUgPT09ICJhZC1ob2MiKSB7CgkJCQkJdGhpcy5zdGFydERhdGUgPSAiIjsKCQkJCQl0aGlzLmVuZFRpbWUgPSAiIjsKCQkJCQl0aGlzLmVuZERhdGUgPSAiIjsKCQkJCQl0aGlzLmVuZFRpbWUgPSAiIjsKCQkJCQl0aGlzLmRhaWx5RGVhZExpbmVUaW1lID0gIiI7CgkJCQl9IGVsc2UgaWYgKHZhbC52YWx1ZSA9PT0gIndlZWtseSIpIHsKCQkJCQl0aGlzLmRlYWRMaW5lRGF0ZSA9ICIiOwoJCQkJCXRoaXMuYWRob2N0aW1lID0gIiI7CgkJCQkJdGhpcy5hZGhvY2RhdGUgPSAiIjsKCQkJCQl0aGlzLkZyZXF1ZW5jeVN0cmluZyA9ICJXZWVrIjsKCQkJCX0gZWxzZSBpZiAodmFsLnZhbHVlID09PSAibW9udGhseSIpIHsKCQkJCQl0aGlzLmRlYWRMaW5lRGF0ZSA9ICIiOwoJCQkJCXRoaXMuYWRob2N0aW1lID0gIiI7CgkJCQkJdGhpcy5hZGhvY2RhdGUgPSAiIjsKCQkJCQl0aGlzLkZyZXF1ZW5jeVN0cmluZyA9ICJNb250aCI7CgkJCQl9CgkJCX0sCgoJCQlvblNlbGVjdGVkUmVtaW5kZXIoaW5kZXgxLCB2YWx1ZSkgewoJCQkJLy8JY29uc29sZS5sb2coInZhbHVlIiwgdGhpcy4kcm91dGUubmFtZSk7CgkJCQlpZiAodmFsdWUucmVtaW5kZXIubGVuZ3RoID4gMCAmJiB0aGlzLiRyb3V0ZS5uYW1lICE9PSAiaW5zcGVjdGlvbiIpIHsKCQkJCQlmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5yZW1pbmRlckFycmF5Lmxlbmd0aDsgaW5kZXgrKykgewoJCQkJCQl0aGlzLnJlbWluZGVyQXJyYXlbaW5kZXgxXS5kdXJhdGlvblR5cGUgPSAiZGF5cyI7CgkJCQkJCXRoaXMucmVtaW5kZXJBcnJheVtpbmRleDFdLmR1cmF0aW9uVmFsdWUgPSAiMSI7CgkJCQkJCWNvbnNvbGUubG9nKCJpbnNpZGUgbG9vcCIsIHZhbHVlKTsKCQkJCQkJdGhpcy5kdXJhdGlvblR5cGVJRCsrOwoJCQkJCX0KCQkJCX0KCQkJfSwKCgkJCWR1cmF0aW9uZnVuYyh2YWx1ZSkgewoJCQkJY29uc29sZS5sb2coIiIsIHZhbHVlKTsKCQkJfSwKCgkJCW9uU2VsZWN0ZWREdXJhdGlvblRpbWUodmFsKSB7CgkJCQljb25zb2xlLmxvZyh2YWwpOwoJCQl9LAoKCQkJb25TZWxlY3RlZEFzc2lnbmVlKHZhbCkgewoJCQkJLy9jb25zb2xlLmxvZyh2YWwpOwoJCQkJaWYgKHZhbC5kaXNwbGF5ID09PSAiQXNzZXRzIikgewoJCQkJCXRoaXMuYXNzaWduZWRVc2VyID0gIiI7CgkJCQkJdGhpcy5hc3NpZ25lZFVzZXJHcm91cCA9ICIiOwoJCQkJCXRoaXMuY3JlYXRlZEZvclVzZXJOYW1lID0gbnVsbDsKCQkJCQl0aGlzLnVzZXJJZCsrOwoJCQkJCXRoaXMudXNlckdyb3VwSWQrKzsKCQkJCQkvL3RoaXMuZGlzYWJsZVVzZXIgPSBmYWxzZTsKCQkJCX0gZWxzZSBpZiAodmFsLmRpc3BsYXkgPT09ICJVc2VycyIpIHsKCQkJCQl0aGlzLmFzc2V0TmFtZSA9ICIiOwoJCQkJCXRoaXMuYXNzZXRHcm91cHMgPSAiIjsKCQkJCQl0aGlzLmNyZWF0ZWRGb3JVc2VyTmFtZSA9IG51bGw7CgkJCQkJdGhpcy5hc3NldEFzc2lnbmVkVXNlcnMgPSBbXTsKCQkJCQl0aGlzLmFzc2V0R3JvdXBJZCsrOwoJCQkJCXRoaXMuYXNzZXRJZCsrOwoJCQkJCXRoaXMuYXNzZXRBc3NpZ25lZFVzZXJzID0gW107CgkJCQkJLy90aGlzLmRpc2FibGVBc3NldCA9IGZhbHNlOwoJCQkJfQoJCQl9LAoKCQkJb25TZWxlY3RlZFVzZXJHcm91cCh2YWwpIHsKCQkJCXRoaXMuYXNzaWduZWRVc2VyID0gIiI7CgkJCQl0aGlzLmVkaXRWYWx1ZWZsYWcgPSB0cnVlOwoJCQkJdGhpcy5hc3NpZ25lZEFzc2V0ID0gIiI7CgkJCQl0aGlzLmNyZWF0ZWRGb3JVc2VyTmFtZSA9IG51bGw7CgkJCQl0aGlzLmFzc2lnbkFzc2V0SWQrKzsKCQkJCXRoaXMudXNlcklkKys7CgkJCX0sCgoJCQlvblNlbGVjdGVkVXNlcih2YWwpIHsKCQkJCWNvbnNvbGUubG9nKHZhbCk7CgkJCQl0aGlzLmNyZWF0ZWRGb3JVc2VyTmFtZSA9IHZhbC5kaXNwbGF5OwoJCQkJdGhpcy5hc3NpZ25lZFVzZXJHcm91cCA9ICIiOwoJCQkJdGhpcy5lZGl0VmFsdWVmbGFnID0gdHJ1ZTsKCQkJCXRoaXMuYXNzaWduZWRBc3NldCA9ICIiOwoJCQkJdGhpcy5hc3NpZ25Bc3NldElkKys7CgkJCQl0aGlzLnVzZXJHcm91cElkKys7CgkJCX0sCgoJCQlvblNlbGVjdGVkQXNzZXRHcnAodmFsKSB7CgkJCQl0aGlzLmFzc2V0TmFtZSA9ICIiOwoJCQkJdGhpcy5lZGl0VmFsdWVmbGFnID0gdHJ1ZTsKCQkJCXRoaXMuYXNzZXRBc3NpZ25lZFVzZXJzID0gW107CgkJCQl0aGlzLmFzc2lnbmVkQXNzZXRVdWlkID0gIiI7CgkJCQl0aGlzLmFzc2lnbmVkQXNzZXQgPSAiIjsKCQkJCXRoaXMuYXNzZXRJZCsrOwoJCQl9LAoKCQkJb25TZWxlY3RlZEFzc2V0KHZhbCkgewoJCQkJdGhpcy5hc3NldEdyb3VwcyA9ICIiOwoJCQkJdGhpcy5hc3NpZ25lZEFzc2V0VXVpZCA9ICIiOwoJCQkJdGhpcy5hc3NpZ25lZEFzc2V0ID0gIiI7CgkJCQl0aGlzLmVkaXRWYWx1ZWZsYWcgPSB0cnVlOwoJCQkJdGhpcy5sb2FkZXJGbGFnID0gdHJ1ZTsKCQkJCUFzc2V0UGVyc29ubmVsU2VydmljZS5jaGVja0Fzc2lnbm1lbnRPZkFuQXNzZXRCeVVVSUQodmFsLnZhbHVlKQoJCQkJCS50aGVuKChyZXMpID0+IHsKCQkJCQkJLy9jb25zb2xlLmxvZygiYXNzZXQgYXNzaWduIG9yIG5vdCIsIHJlcy5kYXRhKTsKCQkJCQkJdGhpcy5hc3NldEFzc2lnbkZsYWcgPSByZXMuZGF0YS5hc3NpZ25tZW50OwoJCQkJCQl0aGlzLmFzc2V0QXNzaWduZWRVc2VycyA9CgkJCQkJCQlyZXMuZGF0YS51c2VyRFRPUyAhPT0gbnVsbCA/IHJlcy5kYXRhLnVzZXJEVE9TIDogW107CgkJCQkJCXRoaXMubG9hZGVyRmxhZyA9IGZhbHNlOwoJCQkJCX0pCgkJCQkJLmNhdGNoKChlKSA9PiB7CgkJCQkJCWNvbnNvbGUubG9nKGUpOwoJCQkJCX0pOwoJCQkJdGhpcy5hc3NldEdyb3VwSWQrKzsKCQkJfSwKCgkJCW9uU2VsZWN0ZWRBc3NpZ25Bc3NldHModmFsKSB7CgkJCQl0aGlzLmFzc2lnbmVkQXNzZXROYW1lID0gdmFsLmRpc3BsYXk7CgkJCQl0aGlzLmFzc2lnbmVkQXNzZXQgPSB2YWwudmFsdWU7CgkJCQl0aGlzLmFzc2lnbmVkQXNzZXRVdWlkID0gIiI7CgkJCX0sCgoJCQlvblNlbGVjdGVkQ3VzdG9tV2Vlayh2YWwpIHsKCQkJCWNvbnNvbGUubG9nKHZhbCk7CgkJCQlpZiAodmFsLmRpc3BsYXkgPT0gImRheSIpIHsKCQkJCQl0aGlzLmZyZXF1ZW5jeURheXMgPSAiIjsKCQkJCQl0aGlzLmN1c3RvbVdlZWtEYXkgPSAiIjsKCQkJCQl0aGlzLmN1c3RvbU1vbnRobHkgPSAiIjsKCQkJCX0gZWxzZSBpZiAodmFsLmRpc3BsYXkgPT0gIndlZWsiKSB7CgkJCQkJdGhpcy5jdXN0b21Nb250aGx5ID0gIiI7CgkJCQl9IGVsc2UgaWYgKHZhbC5kaXNwbGF5ID09ICJtb250aCIpIHsKCQkJCQl0aGlzLmN1c3RvbVdlZWtEYXkgPSAiIjsKCQkJCX0gZWxzZSBpZiAodmFsLmRpc3BsYXkgPT0gInllYXIiKSB7CgkJCQkJdGhpcy5mcmVxdWVuY3lEYXlzID0gIiI7CgkJCQkJdGhpcy5jdXN0b21XZWVrRGF5ID0gIiI7CgkJCQkJdGhpcy5jdXN0b21Nb250aGx5ID0gIiI7CgkJCQl9CgkJCX0sCgkJCW9uU2VsZWN0ZWRDdXN0b21Nb250aGx5KCkge30sCgoJCQlzZWxlY3RUZW1wbGF0ZSgpIHsKCQkJCXRoaXMuJGVtaXQoInNlbGVjdFRlbXAiKTsKCQkJfSwKCgkJCW9uU2VsZWN0ZWRXZWVrRGF5KHZhbCkgewoJCQkJY29uc29sZS5sb2codmFsKTsKCQkJfSwKCgkJCWNyZWF0ZUFkZGl0aW9uYWxJbnNwZWN0aW9uKCkgewoJCQkJdGhpcy4kZW1pdCgiY3JlYXRlSW5zcGVjdGlvbiIpOwoJCQl9LAoKCQkJYWRkKGluZGV4KSB7CgkJCQl0aGlzLiRlbWl0KCJhZGRSZW1pbmRlcnMiLCBpbmRleCk7CgkJCX0sCgoJCQljbGlja1JlbW92ZShpbmRleCkgewoJCQkJdGhpcy4kZW1pdCgicmVtb3ZlUmVtaW5kZXJzIiwgaW5kZXgpOwoJCQl9LAoKCQkJYWRkVGVtcGxhdGUoKSB7CgkJCQl0aGlzLnNob3dUZW1wUG9wVXAgPSB0cnVlOwoJCQl9LAoKCQkJdGVtcENsb3NlKCkgewoJCQkJdGhpcy5zaG93VGVtcFBvcFVwID0gZmFsc2U7CgkJCX0sCgoJCQlhZGRSZW1pbmRlcigpIHsKCQkJCXRoaXMucmVtaW5kZXJBcnJheS5wdXNoKHsKCQkJCQlyZW1pbmRlcjogW10sCgkJCQkJcmVtaW5kZXJPcHRpb25zOiBbCgkJCQkJCXsgbmFtZTogIkVtYWlsIiwgdmFsdWU6ICJlbWFpbCIgfSwKCQkJCQkJeyBuYW1lOiAiU01TIiwgdmFsdWU6ICJzbXMiIH0sCgkJCQkJCXsgbmFtZTogIk5vdGlmaWNhdGlvbiIsIHZhbHVlOiAibm90aWZpY2F0aW9uIiB9LAoJCQkJCV0sCgkJCQkJZHVyYXRpb25WYWx1ZTogIiIsCgkJCQkJZHVyYXRpb25UeXBlOiAiIiwKCQkJCQlkdXJhdGlvblR5cGVPcHRpb25zOiBbCgkJCQkJCXsgbmFtZTogIk1pbnV0ZXMiLCB2YWx1ZTogIm1pbnV0ZXMiIH0sCgkJCQkJCXsgbmFtZTogIkhvdXJzIiwgdmFsdWU6ICJob3VycyIgfSwKCQkJCQkJeyBuYW1lOiAiRGF5cyIsIHZhbHVlOiAiZGF5cyIgfSwKCQkJCQkJeyBuYW1lOiAiV2Vla3MiLCB2YWx1ZTogIndlZWtzIiB9LAoJCQkJCV0sCgkJCQl9KTsKCQkJfSwKCgkJCXJlbW92ZVJlbWluZGVyKGluZGV4KSB7CgkJCQlpZiAoaW5kZXggIT09IDApIHsKCQkJCQl0aGlzLnJlbWluZGVyQXJyYXkuc3BsaWNlKGluZGV4LCAxKTsKCQkJCX0KCQkJfSwKCgkJCVRlbXBsYXRlQXNzaWdubWVudCgpIHsKCQkJCS8vIHRoaXMuJHYuJHRvdWNoKCk7CgkJCQkvLyBpZiAodGhpcy4kdi4kaW52YWxpZCkgewoJCQkJLy8gCXJldHVybjsKCQkJCS8vIH0KCgkJCQlpZiAodGhpcy5zZWxlY3RlZFNjaGVkdWxlID09PSAiY3VzdG9tIikgewoJCQkJCS8vY29uc29sZS5sb2coInRydWUiKTsKCQkJCQlpZiAodGhpcy5uZXZlciA9PT0gIiIgJiYgdGhpcy5vbiA9PT0gIiIgJiYgdGhpcy5hZnRlciA9PT0gIiIpIHsKCQkJCQkJYWxlcnQoIlBsZWFzZSBTZWxlY3QgRW5kIFNjaGVkdWxlIFRpbWUgaW4gY3VzdG9tIFJlY3VyZW5jZSIpOwoJCQkJCQlyZXR1cm47CgkJCQkJfQoJCQkJCWlmICh0aGlzLmN1c3RvbVdlZWsgPT0gIndlZWsiICYmIHRoaXMuY3VzdG9tV2Vla0RheS5sZW5ndGggPT09IDApIHsKCQkJCQkJYWxlcnQoIlBsZWFzZSBTZWxlY3QgV2VlayBkYXlzIik7CgkJCQkJCXJldHVybjsKCQkJCQl9CgkJCQkJaWYgKHRoaXMuY3VzdG9tV2VlayA9PSAibW9udGgiICYmIHRoaXMuY3VzdG9tTW9udGhseSA9PT0gIiIpIHsKCQkJCQkJYWxlcnQoIlBsZWFzZSBTZWxlY3QgTW9udGhseSBkYXkiKTsKCQkJCQkJcmV0dXJuOwoJCQkJCX0KCQkJCX0KCgkJCQlpZiAodGhpcy5hc3NpZ25lZSA9PT0gInVzZXIiKSB7CgkJCQkJaWYgKHRoaXMuYXNzaWduZWRVc2VyID09PSAiIiAmJiB0aGlzLmFzc2lnbmVkVXNlckdyb3VwID09PSAiIikgewoJCQkJCQlhbGVydCgiUGxlYXNlIFNlbGVjdCBVc2VyIG9yIFVzZXIgR3JvdXAgdG8gYXNzaWduIFRlbXBsYXRlIik7CgkJCQkJCXJldHVybjsKCQkJCQl9CgkJCQl9IGVsc2UgaWYgKHRoaXMuYXNzaWduZWUgPT09ICJhc3NldCIpIHsKCQkJCQlpZiAodGhpcy5hc3NldE5hbWUgPT0gIiIgJiYgdGhpcy5hc3NldEdyb3VwcyA9PSAiIikgewoJCQkJCQlhbGVydCgiUGxlYXNlIFNlbGVjdCBBc3NldCBvciBBc3NldCBHcm91cCB0byBhc3NpZ24gVGVtcGxhdGUiKTsKCQkJCQkJcmV0dXJuOwoJCQkJCX0KCQkJCX0KCQkJCWlmICh0aGlzLmFzc2lnbmVkVXNlciAhPT0gIiIgJiYgdGhpcy5hc3NpZ25lZEFzc2V0ID09PSAiIikgewoJCQkJCWFsZXJ0KCJQbGVhc2UgU2VsZWN0IEFzc2V0IHRvIGFzc2lnbiBUZW1wbGF0ZSIpOwoJCQkJCXJldHVybjsKCQkJCX0KCQkJCWlmICh0aGlzLmFzc2lnbmVkVXNlckdyb3VwICE9PSAiIiAmJiB0aGlzLmFzc2lnbmVkQXNzZXQgPT09ICIiKSB7CgkJCQkJYWxlcnQoIlBsZWFzZSBTZWxlY3QgQXNzZXQgdG8gYXNzaWduIFRlbXBsYXRlIik7CgkJCQkJcmV0dXJuOwoJCQkJfQoJCQkJaWYgKHRoaXMuYXNzZXROYW1lICE9PSAiIiAmJiB0aGlzLmFzc2V0QXNzaWduRmxhZyA9PT0gZmFsc2UpIHsKCQkJCQlhbGVydCgiUGxlYXNlIEFzc2lnbiBBc3NldCB0byB1c2VyIik7CgkJCQkJcmV0dXJuOwoJCQkJfQoKCQkJCWlmICh0aGlzLnN0YXJ0RGF0ZSAhPT0gIiIpIHsKCQkJCQl0aGlzLnN0YXJ0RGF0ZSA9IG1vbWVudCh0aGlzLnN0YXJ0RGF0ZSkuZm9ybWF0KCk7CgkJCQl9IGVsc2UgewoJCQkJCXRoaXMuc3RhcnREYXRlID0gIiI7CgkJCQl9CgkJCQlpZiAodGhpcy5lbmREYXRlICE9PSAiIikgewoJCQkJCXRoaXMuZW5kRGF0ZSA9IG1vbWVudCh0aGlzLmVuZERhdGUpLmZvcm1hdCgpOwoJCQkJfSBlbHNlIHsKCQkJCQl0aGlzLmVuZERhdGUgPSAiIjsKCQkJCX0KCQkJCWlmICh0aGlzLmFkaG9jZGF0ZSAhPT0gIiIgJiYgdGhpcy5hZGhvY2RhdGUgIT09IHVuZGVmaW5lZCkgewoJCQkJCXRoaXMuZGVhZExpbmVEYXRlID0gbW9tZW50KHRoaXMuYWRob2NkYXRlKS5mb3JtYXQoKTsKCQkJCX0gZWxzZSB7CgkJCQkJdGhpcy5kZWFkTGluZURhdGUgPSAiIjsKCQkJCX0KCQkJCWlmICh0aGlzLm1vbnRobHlEYXRlICE9PSAiIiAmJiB0aGlzLm1vbnRobHlEYXRlICE9PSB1bmRlZmluZWQpIHsKCQkJCQl0aGlzLm1vbnRobHlEYXRlID0gbW9tZW50KHRoaXMubW9udGhseURhdGUpLmZvcm1hdCgpOwoJCQkJfSBlbHNlIHsKCQkJCQl0aGlzLm1vbnRobHlEYXRlID0gIiI7CgkJCQl9CgoJCQkJaWYgKHRoaXMuYXNzZXROYW1lICE9PSAiIiAmJiB0aGlzLmFzc2V0QXNzaWduZWRVc2Vycy5sZW5ndGggPiAwKSB7CgkJCQkJdGhpcy5hc3NpZ25lZFVzZXIgPSB0aGlzLmFzc2V0QXNzaWduZWRVc2Vyc1swXS51dWlkOwoJCQkJCXRoaXMuY3JlYXRlZEZvclVzZXJOYW1lID0gdGhpcy5hc3NldEFzc2lnbmVkVXNlcnNbMF0ubmFtZTsKCQkJCX0KCgkJCQkvLyh0aGlzLmVuZERhdGUgPSBtb21lbnQodGhpcy5lbmREYXRlKS5mb3JtYXQoKSksCgkJCQkvLwkodGhpcy5kZWFkTGluZURhdGUgPSBtb21lbnQodGhpcy5hZGhvY2RhdGUpLmZvcm1hdCgpKSwKCQkJCS8vKHRoaXMubW9udGhseURhdGUgPSBtb21lbnQodGhpcy5tb250aGx5RGF0ZSkuZm9ybWF0KCkpOwoJCQkJLy9jb25zb2xlLmxvZygidGltZSIsIHRoaXMuYWRob2N0aW1lKTsKCgkJCQlsZXQgcmVxdWVzdE9iaiA9IHsKCQkJCQl0ZW1wbGF0ZU5hbWU6IHRoaXMubmFtZSwKCQkJCQl0ZW1wbGF0ZVVVSUQ6IHRoaXMudGVtcGxhdGVVVUlELAoJCQkJCWNyZWF0ZWRGb3JVc2VyTmFtZTogdGhpcy5jcmVhdGVkRm9yVXNlck5hbWUsCgkJCQkJc3RhcnREYXRlOiB0aGlzLnN0YXJ0RGF0ZSwKCQkJCQlzdGFydFRpbWU6IHRoaXMuc3RhcnRUaW1lLAoJCQkJCWVuZERhdGU6IHRoaXMuZW5kRGF0ZSwKCQkJCQllbmRUaW1lOiB0aGlzLmVuZFRpbWUsCgkJCQkJZGVhZExpbmVEYXRlOiB0aGlzLmRlYWRMaW5lRGF0ZSwKCQkJCQlkZWFkTGluZVRpbWU6IHRoaXMuYWRob2N0aW1lLAoJCQkJCS8vCW1vbnRobHlEYXRlOiB0aGlzLm1vbnRobHlEYXRlLAoJCQkJCWZyZXF1ZW5jeVR5cGU6IHRoaXMuc2VsZWN0ZWRTY2hlZHVsZSwKCQkJCQljcmVhdGVkRm9yQXNzZXRVVUlEOiB0aGlzLmFzc2V0TmFtZSwKCQkJCQljcmVhdGVkRm9yQXNzZXRHcm91cFVVSUQ6IHRoaXMuYXNzZXRHcm91cHMsCgkJCQkJZGFpbHlEZWFkTGluZVRpbWU6IHRoaXMuZGFpbHlEZWFkTGluZVRpbWUsCgkJCQkJY3JlYXRlZEZvclVzZXJVVUlEOiB0aGlzLmFzc2lnbmVkVXNlciwKCQkJCQljcmVhdGVkRm9yVXNlckdyb3VwVVVJRDogdGhpcy5hc3NpZ25lZFVzZXJHcm91cCwKCQkJCQlzZWxlY3RlZFVzZXJBc3NldFVVSUQ6IHRoaXMuYXNzaWduZWRBc3NldCwKCQkJCQlzZWxlY3RlZFVzZXJBc3NldE5hbWU6IHRoaXMuYXNzaWduZWRBc3NldE5hbWUsCgkJCQkJcmVwZWF0RXZlcnlUaW1lOiB0aGlzLmN1c3RvbVZhbHVlLAoJCQkJCXJlcGVhdEV2ZXJ5VHlwZTogdGhpcy5jdXN0b21XZWVrLAoJCQkJCXJlcGVhdE1vbnRoRGF5OiB0aGlzLmN1c3RvbU1vbnRobHksCgkJCQl9OwoJCQkJaWYgKHRoaXMuc2VsZWN0ZWRTY2hlZHVsZSA9PSAiYWQtaG9jIikgewoJCQkJCXJlcXVlc3RPYmouaW5zcGVjdGlvblR5cGUgPSAiYWQtaG9jIjsKCQkJCX0gZWxzZSB7CgkJCQkJcmVxdWVzdE9iai5pbnNwZWN0aW9uVHlwZSA9ICJzY2hlZHVsZWQiOwoJCQkJfQoJCQkJaWYgKHRoaXMuc2VsZWN0ZWRTY2hlZHVsZSA9PSAid2Vla2x5IikgewoJCQkJCXJlcXVlc3RPYmouZnJlcXVlbmN5RGF5cyA9IHRoaXMud2Vla0RheTsKCQkJCX0KCQkJCWlmICgKCQkJCQl0aGlzLnNlbGVjdGVkU2NoZWR1bGUgPT0gImN1c3RvbSIgJiYKCQkJCQlyZXF1ZXN0T2JqLnJlcGVhdEV2ZXJ5VHlwZSA9PSAid2VlayIKCQkJCSkgewoJCQkJCXJlcXVlc3RPYmouZnJlcXVlbmN5RGF5cyA9IEpTT04uc3RyaW5naWZ5KHRoaXMuY3VzdG9tV2Vla0RheSk7CgkJCQl9CgkJCQlpZiAodGhpcy5zZWxlY3RlZFNjaGVkdWxlID09ICJtb250aGx5IikgewoJCQkJCXJlcXVlc3RPYmoubW9udGhseURhdGUgPSBtb21lbnQodGhpcy5tb250aGx5RGF0ZSkuZm9ybWF0KCk7CgkJCQl9CgkJCQlpZiAoCgkJCQkJdGhpcy5zZWxlY3RlZFNjaGVkdWxlID09ICJkYWlseSIgfHwKCQkJCQl0aGlzLnNlbGVjdGVkU2NoZWR1bGUgPT0gIndlZWtseSIgfHwKCQkJCQl0aGlzLnNlbGVjdGVkU2NoZWR1bGUgPT0gIm1vbnRobHkiCgkJCQkpIHsKCQkJCQkvLwlyZXF1ZXN0T2JqLm1vbnRobHlEYXRlID0gbW9tZW50KHRoaXMuQ3VzdG9tTW9udGhseURhdGUpLmZvcm1hdCgpOwoJCQkJCWlmIChyZXF1ZXN0T2JqLnJlcGVhdEV2ZXJ5VHlwZSA9PT0gIndlZWsiKSB7CgkJCQkJCXJlcXVlc3RPYmouZnJlcXVlbmN5RGF5cyA9IEpTT04uc3RyaW5naWZ5KHRoaXMuY3VzdG9tV2Vla0RheSk7CgkJCQkJfQoJCQkJCWlmICh0aGlzLm5ldmVyID09IHRydWUpIHsKCQkJCQkJcmVxdWVzdE9iai5lbmRUeXBlID0gIm5ldmVyIjsKCQkJCQl9CgkJCQkJaWYgKHRoaXMub24gPT0gdHJ1ZSkgewoJCQkJCQlyZXF1ZXN0T2JqLmVuZFR5cGUgPSAib24iOwoJCQkJCQlyZXF1ZXN0T2JqLmVuZERhdGUgPSBtb21lbnQodGhpcy5DdXN0b21Nb250aGx5RGF0ZSkuZm9ybWF0KCk7CgkJCQkJfQoJCQkJCWlmICh0aGlzLmFmdGVyID09IHRydWUpIHsKCQkJCQkJcmVxdWVzdE9iai5lbmRUeXBlID0gImFmdGVyIjsKCQkJCQkJcmVxdWVzdE9iai5vY2N1cnJlbmNlID0gdGhpcy5vY2N1cmFuY2VzVmFsdWU7CgkJCQkJfQoJCQkJfQoJCQkJLy8gaWYgKHRoaXMuc2VsZWN0ZWRTY2hlZHVsZSA9PSAiY3VzdG9tIikgewoJCQkJLy8gfQoJCQkJbGV0IHJlbWluZGVyQXJyYXkgPSBbXTsKCQkJCWZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnJlbWluZGVyQXJyYXkubGVuZ3RoOyBpbmRleCsrKSB7CgkJCQkJbGV0IG9iaiA9IHsKCQkJCQkJcmVtaW5kZXI6IHRoaXMucmVtaW5kZXJBcnJheVtpbmRleF0ucmVtaW5kZXIsCgkJCQkJCWR1cmF0aW9uVmFsdWU6IHRoaXMucmVtaW5kZXJBcnJheVtpbmRleF0uZHVyYXRpb25WYWx1ZSwKCQkJCQkJZHVyYXRpb25UeXBlOiB0aGlzLnJlbWluZGVyQXJyYXlbaW5kZXhdLmR1cmF0aW9uVHlwZSwKCQkJCQl9OwoJCQkJCXJlbWluZGVyQXJyYXkucHVzaChvYmopOwoJCQkJCXJlcXVlc3RPYmoucmVtaW5kZXIgPSBKU09OLnN0cmluZ2lmeShyZW1pbmRlckFycmF5KTsKCQkJCX0KCQkJCS8vY29uc29sZS5sb2coInJlcXVlc3RPYmoiLCByZXF1ZXN0T2JqKTsKCQkJCXRoaXMuJGVtaXQoInJlcXVlc3RPYmoiLCByZXF1ZXN0T2JqKTsJCQkKCQkJCXRoaXMuJGVtaXQoInNlbGVjdGVkVGVtcEl0ZW1zIiwgdGhpcy5zZWxlY3RlZFRlbXBJdGVtcyk7CgkJCQl0aGlzLmtleUluZGV4Kys7CgkJCX0sCgoJCQllZGl0QXNzaWduZWRUZW1wKCkgewoJCQkJdGhpcy5zZWxlY3RlZFNjaGVkdWxlID0gdGhpcy5hc3NpZ25lZFRlbXBsYXRlT2JqLmZyZXF1ZW5jeVR5cGU7CgkJCX0sCgoJCQkvLyBVcGRhdGVUZW1wbGF0ZUFzc2lnbm1lbnQoKSB7CgkJCS8vIAl0aGlzLiR2LiR0b3VjaCgpOwoJCQkvLyAJaWYgKHRoaXMuJHYuJGludmFsaWQpIHsKCQkJLy8gCQlyZXR1cm47CgkJCS8vIAl9CgoJCQkvLyAJaWYgKHRoaXMuc2VsZWN0ZWRTY2hlZHVsZSA9PT0gImN1c3RvbSIpIHsKCQkJLy8gCQkvL2NvbnNvbGUubG9nKCJ0cnVlIik7CgkJCS8vIAkJaWYgKHRoaXMubmV2ZXIgPT09ICIiICYmIHRoaXMub24gPT09ICIiICYmIHRoaXMuYWZ0ZXIgPT09ICIiKSB7CgkJCS8vIAkJCWFsZXJ0KCJQbGVhc2UgU2VsZWN0IEVuZCBTY2hlZHVsZSBUaW1lIGluIGN1c3RvbSBSZWN1cmVuY2UiKTsKCQkJLy8gCQkJcmV0dXJuOwoJCQkvLyAJCX0KCQkJLy8gCQlpZiAodGhpcy5jdXN0b21XZWVrID09ICJ3ZWVrIiAmJiB0aGlzLmN1c3RvbVdlZWtEYXkubGVuZ3RoID09PSAwKSB7CgkJCS8vIAkJCWFsZXJ0KCJQbGVhc2UgU2VsZWN0IFdlZWsgZGF5cyIpOwoJCQkvLyAJCQlyZXR1cm47CgkJCS8vIAkJfQoJCQkvLyAJCWlmICh0aGlzLmN1c3RvbVdlZWsgPT0gIm1vbnRoIiAmJiB0aGlzLmN1c3RvbU1vbnRobHkgPT09ICIiKSB7CgkJCS8vIAkJCWFsZXJ0KCJQbGVhc2UgU2VsZWN0IE1vbnRobHkgZGF5Iik7CgkJCS8vIAkJCXJldHVybjsKCQkJLy8gCQl9CgkJCS8vIAl9CgoJCQkvLyAJaWYgKHRoaXMuYXNzaWduZWUgPT09ICJ1c2VyIikgewoJCQkvLyAJCWlmICh0aGlzLmFzc2lnbmVkVXNlciA9PT0gIiIgJiYgdGhpcy5hc3NpZ25lZFVzZXJHcm91cCA9PT0gIiIpIHsKCQkJLy8gCQkJYWxlcnQoIlBsZWFzZSBTZWxlY3QgVXNlciBvciBVc2VyIEdyb3VwIHRvIGFzc2lnbiBUZW1wbGF0ZSIpOwoJCQkvLyAJCQlyZXR1cm47CgkJCS8vIAkJfQoJCQkvLyAJfSBlbHNlIGlmICh0aGlzLmFzc2lnbmVlID09PSAiYXNzZXQiKSB7CgkJCS8vIAkJaWYgKHRoaXMuYXNzZXROYW1lID09ICIiICYmIHRoaXMuYXNzZXRHcm91cHMgPT0gIiIpIHsKCQkJLy8gCQkJYWxlcnQoIlBsZWFzZSBTZWxlY3QgQXNzZXQgb3IgQXNzZXQgR3JvdXAgdG8gYXNzaWduIFRlbXBsYXRlIik7CgkJCS8vIAkJCXJldHVybjsKCQkJLy8gCQl9CgkJCS8vIAl9CgkJCS8vIAlpZiAoCgkJCS8vIAkJdGhpcy5hc3NpZ25lZFVzZXIgIT09ICIiICYmCgkJCS8vIAkJdGhpcy5hc3NpZ25lZEFzc2V0ID09PSAiIiAmJgoJCQkvLyAJCXRoaXMuYXNzaWduZWUgPT09ICJ1c2VyIgoJCQkvLyAJKSB7CgkJCS8vIAkJYWxlcnQoIlBsZWFzZSBTZWxlY3QgQXNzZXQgdG8gYXNzaWduIFRlbXBsYXRlIik7CgkJCS8vIAkJcmV0dXJuOwoJCQkvLyAJfQoJCQkvLyAJaWYgKHRoaXMuYXNzaWduZWRVc2VyR3JvdXAgIT09ICIiICYmIHRoaXMuYXNzaWduZWRBc3NldCA9PT0gIiIpIHsKCQkJLy8gCQlhbGVydCgiUGxlYXNlIFNlbGVjdCBBc3NldCB0byBhc3NpZ24gVGVtcGxhdGUiKTsKCQkJLy8gCQlyZXR1cm47CgkJCS8vIAl9CgkJCS8vIAlpZiAodGhpcy5hc3NldE5hbWUgIT09ICIiICYmIHRoaXMuYXNzZXRBc3NpZ25GbGFnID09PSBmYWxzZSkgewoJCQkvLyAJCWFsZXJ0KCJQbGVhc2UgQXNzaWduIEFzc2V0IHRvIHVzZXIiKTsKCQkJLy8gCQlyZXR1cm47CgkJCS8vIAl9CgoJCQkvLyAJLy8JdGhpcy5zdGFydERhdGUgPSBtb21lbnQodGhpcy5zdGFydERhdGUpLnRvSVNPU3RyaW5nKCksCgkJCS8vIAkvLwl0aGlzLmVuZERhdGUgPSBtb21lbnQodGhpcy5lbmREYXRlKS5mb3JtYXQoKSwKCQkJLy8gCS8vCXRoaXMuZGVhZExpbmVEYXRlID0gbW9tZW50KHRoaXMuYWRob2NkYXRlKS5mb3JtYXQoKSwKCQkJLy8gCS8vCXRoaXMubW9udGhseURhdGUgPSBtb21lbnQodGhpcy5tb250aGx5RGF0ZSkuZm9ybWF0KCk7CgkJCS8vIAkvL2NvbnNvbGUubG9nKCJ0aW1lIiwgdGhpcy5hZGhvY3RpbWUpOwoKCQkJLy8gCWxldCByZXF1ZXN0T2JqID0gewoJCQkvLyAJCXRlbXBsYXRlTmFtZTogdGhpcy5uYW1lLAoJCQkvLyAJCXRlbXBsYXRlVVVJRDogdGhpcy50ZW1wbGF0ZVVVSUQsCgkJCS8vIAkJY3JlYXRlZEZvclVzZXJOYW1lOiB0aGlzLmNyZWF0ZWRGb3JVc2VyTmFtZSwKCQkJLy8gCQlkZWFkTGluZVRpbWU6IHRoaXMuYWRob2N0aW1lLAoJCQkvLyAJCWZyZXF1ZW5jeVR5cGU6IHRoaXMuc2VsZWN0ZWRTY2hlZHVsZSwKCQkJLy8gCQlsYXN0VXBkYXRlZEJ5TmFtZToKCQkJLy8gCQkJdGhpcy5jdXJyZW50VXNlckRldGFpbHMucHJvZmlsZS5maXJzdE5hbWUgKwoJCQkvLyAJCQkiICIgKwoJCQkvLyAJCQl0aGlzLmN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLmxhc3ROYW1lLAoJCQkvLyAJCWxhc3RVcGRhdGVkQnlVVUlEOiB0aGlzLmN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLnVzZXJpZCwKCQkJLy8gCQkvLwlzZWxlY3RlZFVzZXJBc3NldFVVSUQ6IHRoaXMuYXNzaWduZWRBc3NldFV1aWQgIT09ICcnID8gIHRoaXMuYXNzaWduZWRBc3NldDogdGhpcy5hc3NpZ25lZEFzc2V0VXVpZCwKCQkJLy8gCQkvLwlzZWxlY3RlZFVzZXJBc3NldE5hbWU6IHRoaXMuYXNzaWduZWRBc3NldFV1aWQgIT09ICcnID8gdGhpcy5hc3NpZ25lZEFzc2V0TmFtZTogdGhpcy5hc3NpZ25lZEFzc2V0LAoJCQkvLyAJCS8vIGNyZWF0ZWRGb3JBc3NldFVVSUQ6IHRoaXMuYXNzZXROYW1lLAoJCQkvLyAJCS8vIGNyZWF0ZWRGb3JBc3NldEdyb3VwVVVJRDogdGhpcy5hc3NldEdyb3VwcywKCQkJLy8gCQkvLyBjcmVhdGVkRm9yVXNlclVVSUQ6IHRoaXMuYXNzaWduZWRVc2VyLAoJCQkvLyAJCS8vIGNyZWF0ZWRGb3JVc2VyR3JvdXBVVUlEOiB0aGlzLmFzc2lnbmVkVXNlckdyb3VwLAoJCQkvLyAJfTsKCQkJLy8gCWlmICh0aGlzLmFzc2lnbmVkQXNzZXRVdWlkID09PSAiIiB8fCB0aGlzLmFzc2lnbmVkQXNzZXRVdWlkID09PSBudWxsKSB7CgkJCS8vIAkJcmVxdWVzdE9iai5zZWxlY3RlZFVzZXJBc3NldFVVSUQgPSB0aGlzLmFzc2lnbmVkQXNzZXQ7CgkJCS8vIAkJcmVxdWVzdE9iai5zZWxlY3RlZFVzZXJBc3NldE5hbWUgPSB0aGlzLmFzc2lnbmVkQXNzZXROYW1lOwoJCQkvLyAJCWNvbnNvbGUubG9nKCJlbXB0eSIpOwoJCQkvLyAJfSBlbHNlIHsKCQkJLy8gCQlyZXF1ZXN0T2JqLnNlbGVjdGVkVXNlckFzc2V0VVVJRCA9IHRoaXMuYXNzaWduZWRBc3NldFV1aWQ7CgkJCS8vIAkJcmVxdWVzdE9iai5zZWxlY3RlZFVzZXJBc3NldE5hbWUgPSB0aGlzLmFzc2lnbmVkQXNzZXQ7CgkJCS8vIAkJY29uc29sZS5sb2coIm5vdCBlbXB0eSIpOwoJCQkvLyAJfQoJCQkvLyAJaWYgKHRoaXMuYXNzaWduZWUgPT09ICJhc3NldCIgJiYgdGhpcy5hc3NldEFzc2lnbmVkVXNlcnMubGVuZ3RoID4gMCkgewoJCQkvLyAJCWlmICh0aGlzLmVkaXRWYWx1ZWZsYWcgPT09IHRydWUpIHsKCQkJLy8gCQkJdGhpcy5hc3NpZ25lZFVzZXIgPSB0aGlzLmFzc2V0QXNzaWduZWRVc2Vyc1swXS51dWlkOwoJCQkvLyAJCQlyZXF1ZXN0T2JqLmNyZWF0ZWRGb3JVc2VyTmFtZSA9IHRoaXMuYXNzZXRBc3NpZ25lZFVzZXJzWzBdLm5hbWU7CgkJCS8vIAkJfSBlbHNlIHsKCQkJLy8gCQkJdGhpcy5hc3NpZ25lZFVzZXJVVUlEID0gdGhpcy5hc3NldEFzc2lnbmVkVXNlcnNbMF0udXVpZDsKCQkJLy8gCQkJcmVxdWVzdE9iai5jcmVhdGVkRm9yVXNlck5hbWUgPSB0aGlzLmFzc2V0QXNzaWduZWRVc2Vyc1swXS5uYW1lOwoJCQkvLyAJCX0KCQkJLy8gCX0KCQkJLy8gCWlmICh0aGlzLmVkaXRWYWx1ZWZsYWcgPT09IHRydWUpIHsKCQkJLy8gCQlyZXF1ZXN0T2JqLmNyZWF0ZWRGb3JBc3NldFVVSUQgPSB0aGlzLmFzc2V0TmFtZTsKCQkJLy8gCQlyZXF1ZXN0T2JqLmNyZWF0ZWRGb3JBc3NldEdyb3VwVVVJRCA9IHRoaXMuYXNzZXRHcm91cHM7CgkJCS8vIAkJcmVxdWVzdE9iai5jcmVhdGVkRm9yVXNlclVVSUQgPSB0aGlzLmFzc2lnbmVkVXNlcjsKCQkJLy8gCQlyZXF1ZXN0T2JqLmNyZWF0ZWRGb3JVc2VyR3JvdXBVVUlEID0gdGhpcy5hc3NpZ25lZFVzZXJHcm91cDsKCQkJLy8gCX0gZWxzZSBpZiAodGhpcy5lZGl0VmFsdWVmbGFnID09PSBmYWxzZSkgewoJCQkvLyAJCXJlcXVlc3RPYmouY3JlYXRlZEZvckFzc2V0VVVJRCA9IHRoaXMuYXNzZXROYW1lVVVJRDsKCQkJLy8gCQlyZXF1ZXN0T2JqLmNyZWF0ZWRGb3JBc3NldEdyb3VwVVVJRCA9IHRoaXMuYXNzZXRHcm91cHNVVUlEOwoJCQkvLyAJCXJlcXVlc3RPYmouY3JlYXRlZEZvclVzZXJVVUlEID0gdGhpcy5hc3NpZ25lZFVzZXJVVUlEOwoJCQkvLyAJCXJlcXVlc3RPYmouY3JlYXRlZEZvclVzZXJHcm91cFVVSUQgPSB0aGlzLmFzc2lnbmVkVXNlckdyb3VwVVVJRDsKCQkJLy8gCX0KCQkJLy8gCWlmICh0aGlzLnNlbGVjdGVkU2NoZWR1bGUgPT0gImFkLWhvYyIpIHsKCQkJLy8gCQlyZXF1ZXN0T2JqLmluc3BlY3Rpb25UeXBlID0gImFkLWhvYyI7CgkJCS8vIAkJKHJlcXVlc3RPYmouZGVhZExpbmVEYXRlID0gbW9tZW50KHRoaXMuYWRob2NkYXRlKS5mb3JtYXQoKSksCgkJCS8vIAkJCShyZXF1ZXN0T2JqLmRlYWRMaW5lVGltZSA9IHRoaXMuYWRob2N0aW1lKTsKCQkJLy8gCQlyZXF1ZXN0T2JqLmRhaWx5RGVhZExpbmVUaW1lID0gbnVsbDsKCQkJLy8gCQlyZXF1ZXN0T2JqLmZyZXF1ZW5jeURheXMgPSBudWxsOwoJCQkvLyAJCXJlcXVlc3RPYmoubW9udGhseURhdGUgPSBudWxsOwoJCQkvLyAJCXJlcXVlc3RPYmouc3RhcnREYXRlID0gbnVsbDsKCQkJLy8gCQlyZXF1ZXN0T2JqLnN0YXJ0VGltZSA9IG51bGw7CgkJCS8vIAkJcmVxdWVzdE9iai5lbmREYXRlID0gbnVsbDsKCQkJLy8gCQlyZXF1ZXN0T2JqLmVuZFRpbWUgPSBudWxsOwoJCQkvLyAJfSBlbHNlIHsKCQkJLy8gCQlyZXF1ZXN0T2JqLmluc3BlY3Rpb25UeXBlID0gInNjaGVkdWxlZCI7CgkJCS8vIAl9CgkJCS8vIAlpZiAodGhpcy5zZWxlY3RlZFNjaGVkdWxlID09ICJkYWlseSIpIHsKCQkJLy8gCQlyZXF1ZXN0T2JqLmRlYWRMaW5lRGF0ZSA9IG51bGw7CgkJCS8vIAkJcmVxdWVzdE9iai5kZWFkTGluZVRpbWUgPSBudWxsOwoJCQkvLyAJCXJlcXVlc3RPYmouZnJlcXVlbmN5RGF5cyA9IG51bGw7CgkJCS8vIAkJcmVxdWVzdE9iai5tb250aGx5RGF0ZSA9IG51bGw7CgkJCS8vIAkJcmVxdWVzdE9iai5kYWlseURlYWRMaW5lVGltZSA9IHRoaXMuZGFpbHlEZWFkTGluZVRpbWU7CgkJCS8vIAkJKHJlcXVlc3RPYmouc3RhcnREYXRlID0gbW9tZW50KHRoaXMuc3RhcnREYXRlKS5mb3JtYXQoKSksCgkJCS8vIAkJCShyZXF1ZXN0T2JqLnN0YXJ0VGltZSA9IHRoaXMuc3RhcnRUaW1lKTsKCQkJLy8gCQkocmVxdWVzdE9iai5lbmREYXRlID0gbW9tZW50KHRoaXMuZW5kRGF0ZSkuZm9ybWF0KCkpLAoJCQkvLyAJCQkocmVxdWVzdE9iai5lbmRUaW1lID0gdGhpcy5lbmRUaW1lKTsKCQkJLy8gCX0KCQkJLy8gCWlmICh0aGlzLnNlbGVjdGVkU2NoZWR1bGUgPT0gIndlZWtseSIpIHsKCQkJLy8gCQlyZXF1ZXN0T2JqLmZyZXF1ZW5jeURheXMgPSB0aGlzLndlZWtEYXk7CgkJCS8vIAkJcmVxdWVzdE9iai5kZWFkTGluZURhdGUgPSBudWxsOwoJCQkvLyAJCXJlcXVlc3RPYmouZGVhZExpbmVUaW1lID0gbnVsbDsKCQkJLy8gCQlyZXF1ZXN0T2JqLmRhaWx5RGVhZExpbmVUaW1lID0gbnVsbDsKCQkJLy8gCQkocmVxdWVzdE9iai5zdGFydERhdGUgPSBtb21lbnQodGhpcy5zdGFydERhdGUpLmZvcm1hdCgpKSwKCQkJLy8gCQkJKHJlcXVlc3RPYmouc3RhcnRUaW1lID0gdGhpcy5zdGFydFRpbWUpOwoJCQkvLyAJCShyZXF1ZXN0T2JqLmVuZERhdGUgPSBtb21lbnQodGhpcy5lbmREYXRlKS5mb3JtYXQoKSksCgkJCS8vIAkJCShyZXF1ZXN0T2JqLmVuZFRpbWUgPSB0aGlzLmVuZFRpbWUpOwoJCQkvLyAJfQoJCQkvLyAJaWYgKHRoaXMuc2VsZWN0ZWRTY2hlZHVsZSA9PSAiY3VzdG9tIikgewoJCQkvLyAJCXJlcXVlc3RPYmouZnJlcXVlbmN5RGF5cyA9IHRoaXMuY3VzdG9tV2Vla0RheTsKCQkJLy8gCQlyZXF1ZXN0T2JqLmRlYWRMaW5lRGF0ZSA9IG51bGw7CgkJCS8vIAkJcmVxdWVzdE9iai5kZWFkTGluZVRpbWUgPSBudWxsOwoJCQkvLyAJfQoJCQkvLyAJaWYgKHRoaXMuc2VsZWN0ZWRTY2hlZHVsZSA9PSAibW9udGhseSIpIHsKCQkJLy8gCQlyZXF1ZXN0T2JqLm1vbnRobHlEYXRlID0gbW9tZW50KHRoaXMubW9udGhseURhdGUpLmZvcm1hdCgpOwoJCQkvLyAJCXJlcXVlc3RPYmouZGVhZExpbmVEYXRlID0gbnVsbDsKCQkJLy8gCQlyZXF1ZXN0T2JqLmRlYWRMaW5lVGltZSA9IG51bGw7CgkJCS8vIAkJcmVxdWVzdE9iai5kYWlseURlYWRMaW5lVGltZSA9IG51bGw7CgkJCS8vIAkJcmVxdWVzdE9iai5mcmVxdWVuY3lEYXlzID0gbnVsbDsKCQkJLy8gCQkocmVxdWVzdE9iai5zdGFydERhdGUgPSBtb21lbnQodGhpcy5zdGFydERhdGUpLmZvcm1hdCgpKSwKCQkJLy8gCQkJKHJlcXVlc3RPYmouc3RhcnRUaW1lID0gdGhpcy5zdGFydFRpbWUpOwoJCQkvLyAJCShyZXF1ZXN0T2JqLmVuZERhdGUgPSBtb21lbnQodGhpcy5lbmREYXRlKS5mb3JtYXQoKSksCgkJCS8vIAkJCShyZXF1ZXN0T2JqLmVuZFRpbWUgPSB0aGlzLmVuZFRpbWUpOwoJCQkvLyAJfQoJCQkvLyAJaWYgKHRoaXMuc2VsZWN0ZWRTY2hlZHVsZSA9PSAiY3VzdG9tIikgewoJCQkvLyAJCXJlcXVlc3RPYmoubW9udGhseURhdGUgPSBtb21lbnQodGhpcy5DdXN0b21Nb250aGx5RGF0ZSkuZm9ybWF0KCk7CgkJCS8vIAkJcmVxdWVzdE9iai5kZWFkTGluZURhdGUgPSBudWxsOwoJCQkvLyAJCXJlcXVlc3RPYmouZGVhZExpbmVUaW1lID0gbnVsbDsKCQkJLy8gCQlyZXF1ZXN0T2JqLmRhaWx5RGVhZExpbmVUaW1lID0gbnVsbDsKCQkJLy8gCQlyZXF1ZXN0T2JqLmZyZXF1ZW5jeURheXMgPSBudWxsOwoJCQkvLyAJCXJlcXVlc3RPYmoubW9udGhseURhdGUgPSBudWxsOwoJCQkvLyAJCXJlcXVlc3RPYmouc3RhcnREYXRlID0gbnVsbDsKCQkJLy8gCQlyZXF1ZXN0T2JqLnN0YXJ0VGltZSA9IG51bGw7CgkJCS8vIAkJcmVxdWVzdE9iai5lbmREYXRlID0gbnVsbDsKCQkJLy8gCQlyZXF1ZXN0T2JqLmVuZFRpbWUgPSBudWxsOwoJCQkvLyAJCXJlcXVlc3RPYmoucmVwZWF0RXZlcnlUaW1lID0gdGhpcy5jdXN0b21WYWx1ZTsKCQkJLy8gCQlyZXF1ZXN0T2JqLnJlcGVhdEV2ZXJ5VHlwZSA9IHRoaXMuY3VzdG9tV2VlazsKCQkJLy8gCQlpZiAodGhpcy5uZXZlciA9PSB0cnVlKSB7CgkJCS8vIAkJCXJlcXVlc3RPYmouZW5kVHlwZSA9ICJuZXZlciI7CgkJCS8vIAkJCXJlcXVlc3RPYmouZW5kRGF0ZSA9ICIiOwoJCQkvLyAJCQlyZXF1ZXN0T2JqLm9jY3VycmVuY2UgPSAiIjsKCQkJLy8gCQl9CgkJCS8vIAkJaWYgKHRoaXMub24gPT0gdHJ1ZSkgewoJCQkvLyAJCQlyZXF1ZXN0T2JqLmVuZFR5cGUgPSAib24iOwoJCQkvLyAJCQlyZXF1ZXN0T2JqLmVuZERhdGUgPSBtb21lbnQodGhpcy5DdXN0b21Nb250aGx5RGF0ZSkuZm9ybWF0KCk7CgkJCS8vIAkJCXJlcXVlc3RPYmoub2NjdXJyZW5jZSA9ICIiOwoJCQkvLyAJCX0KCQkJLy8gCQlpZiAodGhpcy5hZnRlciA9PSB0cnVlKSB7CgkJCS8vIAkJCXJlcXVlc3RPYmouZW5kVHlwZSA9ICJhZnRlciI7CgkJCS8vIAkJCXJlcXVlc3RPYmoub2NjdXJyZW5jZSA9IHRoaXMub2NjdXJhbmNlc1ZhbHVlOwoJCQkvLyAJCQlyZXF1ZXN0T2JqLmVuZERhdGUgPSAiIjsKCQkJLy8gCQl9CgkJCS8vIAkJaWYgKHJlcXVlc3RPYmoucmVwZWF0RXZlcnlUeXBlID09PSAid2VlayIpIHsKCQkJLy8gCQkJcmVxdWVzdE9iai5mcmVxdWVuY3lEYXlzID0gSlNPTi5zdHJpbmdpZnkodGhpcy5jdXN0b21XZWVrRGF5KTsKCQkJLy8gCQl9IGVsc2UgaWYgKHJlcXVlc3RPYmoucmVwZWF0RXZlcnlUeXBlID09PSAibW9udGgiKSB7CgkJCS8vIAkJCShyZXF1ZXN0T2JqLnJlcGVhdE1vbnRoRGF5ID0gdGhpcy5jdXN0b21Nb250aGx5KSwKCQkJLy8gCQkJCShyZXF1ZXN0T2JqLmZyZXF1ZW5jeURheXMgPSAiIik7CgkJCS8vIAkJfSBlbHNlIGlmICgKCQkJLy8gCQkJcmVxdWVzdE9iai5yZXBlYXRFdmVyeVR5cGUgPT09ICJkYXkiIHx8CgkJCS8vIAkJCXJlcXVlc3RPYmoucmVwZWF0RXZlcnlUeXBlID09PSAieWVhciIKCQkJLy8gCQkpIHsKCQkJLy8gCQkJKHJlcXVlc3RPYmoucmVwZWF0TW9udGhEYXkgPSAiIiksIChyZXF1ZXN0T2JqLmZyZXF1ZW5jeURheXMgPSAiIik7CgkJCS8vIAkJfQoJCQkvLyAJfQoJCQkvLyAJLy8JY29uc29sZS5sb2coImJlZm9yZSBhcnJheSIsIHRoaXMucmVtaW5kZXJBcnJheSk7CgkJCS8vIAlsZXQgcmVtaW5kZXJBcnJheSA9IFtdOwoJCQkvLyAJZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMucmVtaW5kZXJBcnJheS5sZW5ndGg7IGluZGV4KyspIHsKCQkJLy8gCQkvL2RlYnVnZ2VyCgkJCS8vIAkJbGV0IG9iaiA9IHsKCQkJLy8gCQkJcmVtaW5kZXI6IHRoaXMucmVtaW5kZXJBcnJheVtpbmRleF0ucmVtaW5kZXIsCgkJCS8vIAkJCWR1cmF0aW9uVmFsdWU6IHRoaXMucmVtaW5kZXJBcnJheVtpbmRleF0uZHVyYXRpb25WYWx1ZSwKCQkJLy8gCQkJZHVyYXRpb25UeXBlOiB0aGlzLnJlbWluZGVyQXJyYXlbaW5kZXhdLmR1cmF0aW9uVHlwZSwKCQkJLy8gCQl9OwoJCQkvLyAJCS8vCWNvbnNvbGUubG9nKCJhcnJheSIsIHJlbWluZGVyQXJyYXkpOwoJCQkvLyAJCXJlbWluZGVyQXJyYXkucHVzaChvYmopOwoJCQkvLyAJCXJlcXVlc3RPYmoucmVtaW5kZXIgPSBKU09OLnN0cmluZ2lmeShyZW1pbmRlckFycmF5KTsKCQkJLy8gCX0KCQkJLy8gCWNvbnNvbGUubG9nKHJlcXVlc3RPYmopOwoJCQkvLyAJLy8JcmV0dXJuCgkJCS8vIAl0aGlzLiRlbWl0KCJ1cGRhdGVBc3NpZ25lZFRlbXBsYXRlIiwgcmVxdWVzdE9iaik7CgkJCS8vIH0sCgoJCQlnZXRFeGlzdGluZ0luc3BlY3Rpb25UZW1wbGF0ZSh1dWlkLCB0ZW5hbnRVVUlEKSB7CgkJCQlsZXQgaW5zcGVjdGlvbkl0ZW0gPSBudWxsOwoJCQkJSW5zcGVjdGlvblNlcnZpY2UuZ2V0SW5zcGVjdGlvblRlbXBsYXRlQnlVVUlEKHV1aWQsIHRlbmFudFVVSUQpLnRoZW4oCgkJCQkJKHJlc3BvbnNlKSA9PiB7CgkJCQkJCWlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewoJCQkJCQkJdGhpcy5ncm91cEFzc2V0T3B0aW9ucyA9CgkJCQkJCQkJcmVzcG9uc2UuZGF0YS5hc3NldEFuZEdyb3Vwc05hbWVSZXNwb25zZS5hc3NldERUT1M7CgkJCQkJCQl0aGlzLmFzc2V0R3JvdXBPcHRpb25zID0KCQkJCQkJCQlyZXNwb25zZS5kYXRhLmFzc2V0QW5kR3JvdXBzTmFtZVJlc3BvbnNlLmFzc2V0R3JvdXBEVE9TOwoJCQkJCQkJdGhpcy51c2VyR3JvdXBzID0gcmVzcG9uc2UuZGF0YS51c2VyQW5kR3JvdXBSZXNwb25zZS51c2VyR3JvdXBEVE9TOwoJCQkJCQkJdGhpcy5hc3NpZ25Vc2VycyA9IHJlc3BvbnNlLmRhdGEudXNlckFuZEdyb3VwUmVzcG9uc2UudXNlckRUT1M7CgkJCQkJCQlpZiAocmVzcG9uc2UuZGF0YS5pbnNwZWN0aW9uVGVtcGxhdGUgIT0gbnVsbCkgewoJCQkJCQkJCWluc3BlY3Rpb25JdGVtID0gcmVzcG9uc2UuZGF0YS5pbnNwZWN0aW9uVGVtcGxhdGU7CgkJCQkJCQkJdGhpcy5pbnNwZWN0aW9uVGVtcGxhdGUgPSByZXNwb25zZS5kYXRhLmluc3BlY3Rpb25UZW1wbGF0ZTsKCQkJCQkJCQl0aGlzLnRlbXBsYXRlTmFtZSA9IGluc3BlY3Rpb25JdGVtLm5hbWU7CgkJCQkJCQkJdGhpcy5zZWxlY3RlZFNjaGVkdWxlID0gaW5zcGVjdGlvbkl0ZW0uZnJlcXVlbmN5VHlwZTsKCQkJCQkJCQl0aGlzLmFzc2lnbmVkQXNzZXQgPSBpbnNwZWN0aW9uSXRlbS5zZWxlY3RlZFVzZXJBc3NldE5hbWU7CgkJCQkJCQkJdGhpcy5hc3NpZ25lZEFzc2V0VXVpZCA9IGluc3BlY3Rpb25JdGVtLnNlbGVjdGVkVXNlckFzc2V0VVVJRDsKCQkJCQkJCQlpZiAoaW5zcGVjdGlvbkl0ZW0uZnJlcXVlbmN5VHlwZSA9PT0gImFkLWhvYyIpIHsKCQkJCQkJCQkJdGhpcy5hZGhvY2RhdGUgPSBtb21lbnQoaW5zcGVjdGlvbkl0ZW0uZGVhZExpbmVEYXRlKS5mb3JtYXQoCgkJCQkJCQkJCQkiREQgTU1NIFlZWVkiCgkJCQkJCQkJCSk7CgkJCQkJCQkJCXRoaXMuYWRob2N0aW1lID0gaW5zcGVjdGlvbkl0ZW0uZGVhZExpbmVUaW1lOwoJCQkJCQkJCQl0aGlzLmluZGV4UmVtaW5kZXIrKzsKCQkJCQkJCQl9CgkJCQkJCQkJaWYgKGluc3BlY3Rpb25JdGVtLmZyZXF1ZW5jeVR5cGUgPT09ICJkYWlseSIpIHsKCQkJCQkJCQkJdGhpcy5kYWlseURlYWRMaW5lVGltZSA9IGluc3BlY3Rpb25JdGVtLmRhaWx5RGVhZExpbmVUaW1lOwoJCQkJCQkJCQl0aGlzLnN0YXJ0RGF0ZSA9IG1vbWVudChpbnNwZWN0aW9uSXRlbS5zdGFyRGF0ZSkuZm9ybWF0KAoJCQkJCQkJCQkJIkREIE1NTSBZWVlZIgoJCQkJCQkJCQkpOwoJCQkJCQkJCQl0aGlzLnN0YXJ0VGltZSA9IGluc3BlY3Rpb25JdGVtLnN0YXJ0VGltZTsKCQkJCQkJCQkJdGhpcy5lbmREYXRlID0gbW9tZW50KGluc3BlY3Rpb25JdGVtLmVuZERhdGUpLmZvcm1hdCgKCQkJCQkJCQkJCSJERCBNTU0gWVlZWSIKCQkJCQkJCQkJKTsKCQkJCQkJCQkJdGhpcy5lbmRUaW1lID0gaW5zcGVjdGlvbkl0ZW0uZW5kVGltZTsKCQkJCQkJCQl9CgkJCQkJCQkJaWYgKGluc3BlY3Rpb25JdGVtLmZyZXF1ZW5jeVR5cGUgPT09ICJ3ZWVrbHkiKSB7CgkJCQkJCQkJCXRoaXMud2Vla0RheSA9IGluc3BlY3Rpb25JdGVtLmZyZXF1ZW5jeURheXM7CgkJCQkJCQkJCXRoaXMuc3RhcnREYXRlID0gbW9tZW50KGluc3BlY3Rpb25JdGVtLnN0YXJEYXRlKS5mb3JtYXQoCgkJCQkJCQkJCQkiREQgTU1NIFlZWVkiCgkJCQkJCQkJCSk7CgkJCQkJCQkJCXRoaXMuc3RhcnRUaW1lID0gaW5zcGVjdGlvbkl0ZW0uc3RhcnRUaW1lOwoJCQkJCQkJCQl0aGlzLmVuZERhdGUgPSBtb21lbnQoaW5zcGVjdGlvbkl0ZW0uZW5kRGF0ZSkuZm9ybWF0KAoJCQkJCQkJCQkJIkREIE1NTSBZWVlZIgoJCQkJCQkJCQkpOwoJCQkJCQkJCQl0aGlzLmVuZFRpbWUgPSBpbnNwZWN0aW9uSXRlbS5lbmRUaW1lOwoJCQkJCQkJCQl0aGlzLmluZGV4UmVtaW5kZXIrKzsKCQkJCQkJCQl9CgkJCQkJCQkJaWYgKGluc3BlY3Rpb25JdGVtLmZyZXF1ZW5jeVR5cGUgPT09ICJtb250aGx5IikgewoJCQkJCQkJCQl0aGlzLm1vbnRobHlEYXRlID0gbW9tZW50KGluc3BlY3Rpb25JdGVtLm1vbnRobHlEYXRlKS5mb3JtYXQoCgkJCQkJCQkJCQkiREQgTU1NIFlZWVkiCgkJCQkJCQkJCSk7CgkJCQkJCQkJCXRoaXMuc3RhcnREYXRlID0gbW9tZW50KGluc3BlY3Rpb25JdGVtLnN0YXJEYXRlKS5mb3JtYXQoCgkJCQkJCQkJCQkiREQgTU1NIFlZWVkiCgkJCQkJCQkJCSk7CgkJCQkJCQkJCXRoaXMuc3RhcnRUaW1lID0gaW5zcGVjdGlvbkl0ZW0uc3RhcnRUaW1lOwoJCQkJCQkJCQl0aGlzLmVuZERhdGUgPSBtb21lbnQoaW5zcGVjdGlvbkl0ZW0uZW5kRGF0ZSkuZm9ybWF0KAoJCQkJCQkJCQkJIkREIE1NTSBZWVlZIgoJCQkJCQkJCQkpOwoJCQkJCQkJCQl0aGlzLmVuZFRpbWUgPSBpbnNwZWN0aW9uSXRlbS5lbmRUaW1lOwoJCQkJCQkJCQl0aGlzLmluZGV4UmVtaW5kZXIrKzsKCQkJCQkJCQl9CgkJCQkJCQkJaWYgKGluc3BlY3Rpb25JdGVtLmZyZXF1ZW5jeVR5cGUgPT09ICJjdXN0b20iKSB7CgkJCQkJCQkJCXRoaXMuY3VzdG9tV2VlayA9IGluc3BlY3Rpb25JdGVtLnJlcGVhdEV2ZXJ5VHlwZTsKCQkJCQkJCQkJdGhpcy5jdXN0b21WYWx1ZSA9IGluc3BlY3Rpb25JdGVtLnJlcGVhdEV2ZXJ5VGltZTsKCQkJCQkJCQkJdGhpcy5jdXN0b21Nb250aGx5ID0gaW5zcGVjdGlvbkl0ZW0ucmVwZWF0TW9udGhEYXk7CgkJCQkJCQkJCWlmIChpbnNwZWN0aW9uSXRlbS5mcmVxdWVuY3lEYXlzICE9ICIiKSB7CgkJCQkJCQkJCQl0aGlzLmN1c3RvbVdlZWtEYXkgPSBKU09OLnBhcnNlKGluc3BlY3Rpb25JdGVtLmZyZXF1ZW5jeURheXMpOwoJCQkJCQkJCQl9CgkJCQkJCQkJCWlmIChpbnNwZWN0aW9uSXRlbS5lbmRUeXBlID09PSAibmV2ZXIiKSB7CgkJCQkJCQkJCQl0aGlzLm5ldmVyID0gdHJ1ZTsKCQkJCQkJCQkJfSBlbHNlIGlmIChpbnNwZWN0aW9uSXRlbS5lbmRUeXBlID09PSAib24iKSB7CgkJCQkJCQkJCQl0aGlzLm9uID0gdHJ1ZTsKCQkJCQkJCQkJCXRoaXMuQ3VzdG9tTW9udGhseURhdGUgPSBtb21lbnQoCgkJCQkJCQkJCQkJaW5zcGVjdGlvbkl0ZW0uZW5kRGF0ZQoJCQkJCQkJCQkJKS5mb3JtYXQoIkREIE1NTSBZWVlZIik7CgkJCQkJCQkJCX0gZWxzZSBpZiAoaW5zcGVjdGlvbkl0ZW0uZW5kVHlwZSA9PT0gImFmdGVyIikgewoJCQkJCQkJCQkJdGhpcy5hZnRlciA9IHRydWU7CgkJCQkJCQkJCQl0aGlzLm9jY3VyYW5jZXNWYWx1ZSA9IGluc3BlY3Rpb25JdGVtLm9jY3VycmVuY2U7CgkJCQkJCQkJCX0KCQkJCQkJCQl9CgoJCQkJCQkJCWlmICgKCQkJCQkJCQkJaW5zcGVjdGlvbkl0ZW0uY3JlYXRlZEZvclVzZXJVVUlEICE9PSAiIiAmJgoJCQkJCQkJCQlpbnNwZWN0aW9uSXRlbS5jcmVhdGVkRm9yVXNlclVVSUQgIT09IG51bGwKCQkJCQkJCQkpIHsKCQkJCQkJCQkJdGhpcy5hc3NpZ25lZSA9ICJ1c2VyIjsKCQkJCQkJCQkJaWYgKHRoaXMuYXNzaWduVXNlcnMubGVuZ3RoICE9PSAwKSB7CgkJCQkJCQkJCQlsZXQgdXNlciA9IHRoaXMuYXNzaWduVXNlcnMuZmluZCgKCQkJCQkJCQkJCQkodSkgPT4gdS51dWlkID09PSBpbnNwZWN0aW9uSXRlbS5jcmVhdGVkRm9yVXNlclVVSUQKCQkJCQkJCQkJCSk7CgkJCQkJCQkJCQlpZiAodXNlciAhPT0gdW5kZWZpbmVkICYmIHVzZXIgIT09IG51bGwgJiYgdXNlciAhPT0ge30pIHsKCQkJCQkJCQkJCQl0aGlzLmFzc2lnbmVkVXNlciA9IHVzZXIubmFtZTsKCQkJCQkJCQkJCQl0aGlzLmFzc2lnbmVkVXNlclVVSUQgPSB1c2VyLnV1aWQ7CgkJCQkJCQkJCQl9CgkJCQkJCQkJCX0KCQkJCQkJCQkJdGhpcy51c2VySWQrKzsKCQkJCQkJCQl9CgkJCQkJCQkJaWYgKAoJCQkJCQkJCQlpbnNwZWN0aW9uSXRlbS5jcmVhdGVkRm9yVXNlckdyb3VwVVVJRCAhPT0gIiIgJiYKCQkJCQkJCQkJaW5zcGVjdGlvbkl0ZW0uY3JlYXRlZEZvclVzZXJHcm91cFVVSUQgIT09IG51bGwKCQkJCQkJCQkpIHsKCQkJCQkJCQkJaWYgKHRoaXMudXNlckdyb3Vwcy5sZW5ndGggIT09IDApIHsKCQkJCQkJCQkJCWxldCBncm91cCA9IHRoaXMudXNlckdyb3Vwcy5maW5kKAoJCQkJCQkJCQkJCShnKSA9PiBnLnV1aWQgPT09IGluc3BlY3Rpb25JdGVtLmNyZWF0ZWRGb3JVc2VyR3JvdXBVVUlECgkJCQkJCQkJCQkpOwoJCQkJCQkJCQkJaWYgKGdyb3VwICE9PSB1bmRlZmluZWQgJiYgZ3JvdXAgIT09IG51bGwgJiYgZ3JvdXAgIT09IHt9KSB7CgkJCQkJCQkJCQkJdGhpcy5hc3NpZ25lZFVzZXJHcm91cCA9IGdyb3VwLm5hbWU7CgkJCQkJCQkJCQkJdGhpcy5hc3NpZ25lZFVzZXJHcm91cFVVSUQgPSBncm91cC51dWlkOwoJCQkJCQkJCQkJfQoJCQkJCQkJCQl9CgoJCQkJCQkJCQl0aGlzLmFzc2lnbmVlID0gInVzZXIiOwoJCQkJCQkJCQl0aGlzLnVzZXJHcm91cElkKys7CgkJCQkJCQkJfQoJCQkJCQkJCWlmICgKCQkJCQkJCQkJaW5zcGVjdGlvbkl0ZW0uYXNzZXRVVUlEICE9PSAiIiAmJgoJCQkJCQkJCQlpbnNwZWN0aW9uSXRlbS5hc3NldFVVSUQgIT09IG51bGwKCQkJCQkJCQkpIHsKCQkJCQkJCQkJaWYgKHRoaXMuZ3JvdXBBc3NldE9wdGlvbnMubGVuZ3RoID4gMCkgewoJCQkJCQkJCQkJbGV0IGFzc2V0ID0gdGhpcy5ncm91cEFzc2V0T3B0aW9ucy5maW5kKAoJCQkJCQkJCQkJCShhKSA9PiBhLnV1aWQgPT09IGluc3BlY3Rpb25JdGVtLmFzc2V0VVVJRAoJCQkJCQkJCQkJKTsKCQkJCQkJCQkJCWlmIChhc3NldCAhPT0gdW5kZWZpbmVkICYmIGFzc2V0ICE9PSBudWxsICYmIGFzc2V0ICE9PSB7fSkgewoJCQkJCQkJCQkJCXRoaXMuYXNzZXROYW1lID0gYXNzZXQubmFtZTsKCQkJCQkJCQkJCQl0aGlzLmFzc2V0TmFtZVVVSUQgPSBhc3NldC51dWlkOwoJCQkJCQkJCQkJfQoJCQkJCQkJCQl9CgkJCQkJCQkJCXRoaXMuYXNzaWduZWUgPSAiYXNzZXQiOwoJCQkJCQkJCQlpZiAodGhpcy5hc3NpZ25Vc2Vycy5sZW5ndGggIT09IDApIHsKCQkJCQkJCQkJCWxldCB1c2VyID0gdGhpcy5hc3NpZ25Vc2Vycy5maW5kKAoJCQkJCQkJCQkJCSh1KSA9PiB1LnV1aWQgPT09IGluc3BlY3Rpb25JdGVtLmNyZWF0ZWRGb3JVc2VyVVVJRAoJCQkJCQkJCQkJKTsKCQkJCQkJCQkJCWlmICh1c2VyICE9PSB1bmRlZmluZWQgJiYgdXNlciAhPT0gbnVsbCAmJiB1c2VyICE9PSB7fSkgewoJCQkJCQkJCQkJCXRoaXMuYXNzaWduZWRVc2VyID0gdXNlci5uYW1lOwoJCQkJCQkJCQkJCXRoaXMuYXNzaWduZWRVc2VyVVVJRCA9IHVzZXIudXVpZDsKCQkJCQkJCQkJCX0KCQkJCQkJCQkJfQoJCQkJCQkJCQl0aGlzLmFzc2V0SWQrKzsKCQkJCQkJCQl9CgkJCQkJCQkJaWYgKAoJCQkJCQkJCQlpbnNwZWN0aW9uSXRlbS5jcmVhdGVkRm9yQXNzZXRHcm91cFVVSUQgIT09ICIiICYmCgkJCQkJCQkJCWluc3BlY3Rpb25JdGVtLmNyZWF0ZWRGb3JBc3NldEdyb3VwVVVJRCAhPT0gbnVsbAoJCQkJCQkJCSkgewoJCQkJCQkJCQlpZiAodGhpcy5hc3NldEdyb3VwT3B0aW9ucy5sZW5ndGggIT09IDApIHsKCQkJCQkJCQkJCWxldCBhc3NldEdyb3VwID0gdGhpcy5hc3NldEdyb3VwT3B0aW9ucy5maW5kKAoJCQkJCQkJCQkJCShhZykgPT4gYWcudXVpZCA9PT0gaW5zcGVjdGlvbkl0ZW0uY3JlYXRlZEZvckFzc2V0R3JvdXBVVUlECgkJCQkJCQkJCQkpOwoJCQkJCQkJCQkJaWYgKAoJCQkJCQkJCQkJCWFzc2V0R3JvdXAgIT09IHVuZGVmaW5lZCAmJgoJCQkJCQkJCQkJCWFzc2V0R3JvdXAgIT09IG51bGwgJiYKCQkJCQkJCQkJCQlhc3NldEdyb3VwICE9PSB7fQoJCQkJCQkJCQkJKSB7CgkJCQkJCQkJCQkJdGhpcy5hc3NldEdyb3VwcyA9IGFzc2V0R3JvdXAuZ3JvdXBOYW1lOwoJCQkJCQkJCQkJCXRoaXMuYXNzZXRHcm91cHNVVUlEID0gYXNzZXRHcm91cC51dWlkOwoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJdGhpcy5hc3NpZ25lZSA9ICJhc3NldCI7CgkJCQkJCQkJCQl0aGlzLmFzc2V0R3JvdXBJZCsrOwoJCQkJCQkJCQl9CgkJCQkJCQkJfQoJCQkJCQkJCWxldCByZW1pbmQgPSBKU09OLnBhcnNlKGluc3BlY3Rpb25JdGVtLnJlbWluZGVyKTsKCQkJCQkJCQlpZiAocmVtaW5kICE9PSBudWxsKSB7CgkJCQkJCQkJCXRoaXMucmVtaW5kZXJBcnJheSA9IFtdOwoJCQkJCQkJCQlmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcmVtaW5kLmxlbmd0aDsgaW5kZXgrKykgewoJCQkJCQkJCQkJbGV0IG9iaiA9IHsKCQkJCQkJCQkJCQlyZW1pbmRlcjogcmVtaW5kW2luZGV4XS5yZW1pbmRlciwKCQkJCQkJCQkJCQlkdXJhdGlvblZhbHVlOiByZW1pbmRbaW5kZXhdLmR1cmF0aW9uVmFsdWUsCgkJCQkJCQkJCQkJZHVyYXRpb25UeXBlOiByZW1pbmRbaW5kZXhdLmR1cmF0aW9uVHlwZSwKCQkJCQkJCQkJCQlyZW1pbmRlck9wdGlvbnM6IFsKCQkJCQkJCQkJCQkJeyBuYW1lOiAiRW1haWwiLCB2YWx1ZTogImVtYWlsIiB9LAoJCQkJCQkJCQkJCQl7IG5hbWU6ICJTTVMiLCB2YWx1ZTogInNtcyIgfSwKCQkJCQkJCQkJCQkJeyBuYW1lOiAiTm90aWZpY2F0aW9uIiwgdmFsdWU6ICJub3RpZmljYXRpb24iIH0sCgkJCQkJCQkJCQkJXSwKCQkJCQkJCQkJCQlkdXJhdGlvblR5cGVPcHRpb25zOiBbCgkJCQkJCQkJCQkJCXsgbmFtZTogIk1pbnV0ZXMiLCB2YWx1ZTogIm1pbnV0ZXMiIH0sCgkJCQkJCQkJCQkJCXsgbmFtZTogIkhvdXJzIiwgdmFsdWU6ICJob3VycyIgfSwKCQkJCQkJCQkJCQkJeyBuYW1lOiAiRGF5cyIsIHZhbHVlOiAiZGF5cyIgfSwKCQkJCQkJCQkJCQkJeyBuYW1lOiAiV2Vla3MiLCB2YWx1ZTogIndlZWtzIiB9LAoJCQkJCQkJCQkJCV0sCgkJCQkJCQkJCQl9OwoKCQkJCQkJCQkJCXRoaXMucmVtaW5kZXJBcnJheS5wdXNoKG9iaik7CgkJCQkJCQkJCX0KCQkJCQkJCQl9CgkJCQkJCQkJdGhpcy5pbmRleFJlbWluZGVyKys7CgkJCQkJCQkJdGhpcy5kdXJhdGlvblR5cGVJRCsrOwoJCQkJCQkJCXRoaXMucmVtaW5kZXJJbmRleCsrOwoJCQkJCQkJCXRoaXMubG9hZGVyRmxhZyA9IGZhbHNlOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoJCQkJKTsKCQkJfSwKCQl9LAoKCQltb3VudGVkKCkgewoJCQl0aGlzLmN1cnJlbnRVc2VyRGV0YWlscyA9IEpTT04ucGFyc2UoCgkJCQlsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVudFVzZXJEZXRhaWxzIikKCQkJKTsKCQkJdGhpcy5nZXRBbGxUZW1wbGF0ZSgpOwoJCQkvL3RoaXMuZ2V0VXNlckdyb3Vwcyh0aGlzLmN1cnJlbnRVc2VyRGV0YWlscy5wcm9maWxlLm9yZ2FuaXphdGlvbklkKTsKCQkJLy8JdGhpcy5uYW1lID0gdGhpcy50ZW1wT2JqLm5hbWU7CgkJCS8vCXRoaXMudGVtcGxhdGVVVUlEID0gdGhpcy50ZW1wT2JqLnV1aWQ7CgkJLy8JY29uc29sZS5sb2coImNhbGVuZGVyRGF0ZSBPYmoiLCB0aGlzLmNhbGVuZGVyRGF0ZU9iaik7CgkJCWlmICh0aGlzLmNhbGVuZGVyRGF0ZU9iaiA9PSB1bmRlZmluZWQgfHwgdGhpcy5jYWxlbmRlckRhdGVPYmogPT0gIiIpIHsKCQkJCWxldCBDdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7CgkJCQl2YXIgc3ViT25lSG91ciA9IG1vbWVudChDdXJyZW50RGF0ZSkuc3VidHJhY3QoMSwgImgiKS5mb3JtYXQoKTsKCQkJCWxldCBzdGFydFRpbWUgPSBuZXcgRGF0ZShDdXJyZW50RGF0ZSk7CgkJCQlsZXQgZW5kVGltZSA9IG5ldyBEYXRlKHN1Yk9uZUhvdXIpOwoJCQkJbGV0IHRlbXBPYmogPSB7CgkJCQkJY2FuY2VsOiBmYWxzZSwKCQkJCQllbGVtZW50OiAiIiwKCQkJCQllbmRUaW1lOiBlbmRUaW1lLAoJCQkJCWlzQWxsRGF5OiBmYWxzZSwKCQkJCQluYW1lOiAiY2VsbENsaWNrIiwKCQkJCQlzdGFydFRpbWU6IHN0YXJ0VGltZSwKCQkJCX07CgkJCQkvLwl0aGlzLmNhbGVuZGVyRGF0ZU9iaiA9IHRlbXBPYmo7CgkJCS8vCWNvbnNvbGUubG9nKCJjdXJyZW50RGF0ZSBPYmoiLCB0aGlzLmNhbGVuZGVyRGF0ZU9iaik7CgkJCX0KCQkJdGhpcy5nZXRFeGlzdGluZ0luc3BlY3Rpb25UZW1wbGF0ZSgKCQkJCSJub25lIiwKCQkJCXRoaXMuY3VycmVudFVzZXJEZXRhaWxzLnByb2ZpbGUub3JnYW5pemF0aW9uSWQKCQkJKTsKCQkJLy8gaWYgKHRoaXMudGVtcE9iai5lZGl0RmxhZyA9PT0gdHJ1ZSkgewoJCQkvLyAJdGhpcy5sb2FkZXJGbGFnID0gdHJ1ZTsKCQkJLy8gCXRoaXMuZ2V0RXhpc3RpbmdJbnNwZWN0aW9uVGVtcGxhdGUoCgkJCS8vIAkJdGhpcy50ZW1wbGF0ZVVVSUQsCgkJCS8vIAkJdGhpcy5jdXJyZW50VXNlckRldGFpbHMucHJvZmlsZS5vcmdhbml6YXRpb25JZAoJCQkvLyAJKTsKCQkJLy8gfSBlbHNlIHsKCgkJCS8vIH0KCQl9LAoKCQl2YWxpZGF0aW9uczogZnVuY3Rpb24gKCkgewoJCQlyZXR1cm4gewoJCQkJbmFtZTogeyByZXF1aXJlZCB9LAoJCQkJc2VsZWN0ZWRTY2hlZHVsZTogeyByZXF1aXJlZCB9LAoJCQkJc2VsZWN0ZWRUZW1wbGF0ZTogeyByZXF1aXJlZCB9LAoJCQkJcmVtaW5kZXJBcnJheTogewoJCQkJCSRlYWNoOiB7CgkJCQkJCXJlbWluZGVyOiB7IHJlcXVpcmVkIH0sCgkJCQkJCWR1cmF0aW9uVmFsdWU6IHsgcmVxdWlyZWQgfSwKCQkJCQkJZHVyYXRpb25UeXBlOiB7IHJlcXVpcmVkIH0sCgkJCQkJfSwKCQkJCX0sCgkJCQkuLi50aGlzLmdldEFkaG9jVmFsaWRhdGlvbiwKCQkJCS4uLnRoaXMuZ2V0RGFpbHlWYWxpZGF0aW9uLAoJCQkJLi4udGhpcy5nZXRXZWVrbHlWYWxpZGF0aW9uLAoJCQkJLi4udGhpcy5nZXRNb250aGx5VmFsaWRhdGlvbiwKCQkJCS4uLnRoaXMuY3VzdG9tVmFsaWRhdGlvbnMsCgkJCQkuLi50aGlzLmFzc2lnblZhbGlkYXRpb25zLAoJCQkJLi4udGhpcy5jdXN0b21PbiwKCQkJfTsKCQl9LAoJCWNvbXB1dGVkOiB7CgkJCWdldEFkaG9jVmFsaWRhdGlvbigpIHsKCQkJCWxldCB2YWxpZGF0aW9ucyA9IHt9OwoJCQkJaWYgKHRoaXMuc2VsZWN0ZWRTY2hlZHVsZSAhPSAiYWQtaG9jIikgewoJCQkJCXZhbGlkYXRpb25zID0gewoJCQkJCQlhZGhvY2RhdGU6IHt9LAoJCQkJCQlhZGhvY3RpbWU6IHt9LAoJCQkJCX07CgkJCQl9IGVsc2UgewoJCQkJCXZhbGlkYXRpb25zID0gewoJCQkJCQlhZGhvY2RhdGU6IHsgcmVxdWlyZWQgfSwKCQkJCQkJYWRob2N0aW1lOiB7IHJlcXVpcmVkIH0sCgkJCQkJfTsKCQkJCX0KCQkJCXJldHVybiB2YWxpZGF0aW9uczsKCQkJfSwKCQkJZ2V0RGFpbHlWYWxpZGF0aW9uKCkgewoJCQkJbGV0IHZhbGlkYXRpb25zID0ge307CgkJCQlpZiAodGhpcy5zZWxlY3RlZFNjaGVkdWxlICE9ICJkYWlseSIpIHsKCQkJCQl2YWxpZGF0aW9ucyA9IHsKCQkJCQkJZGFpbHlEZWFkTGluZVRpbWU6IHt9LAoJCQkJCQlzdGFydERhdGU6IHt9LAoJCQkJCQlzdGFydFRpbWU6IHt9LAoJCQkJCQllbmREYXRlOiB7fSwKCQkJCQkJZW5kVGltZToge30sCgkJCQkJfTsKCQkJCX0gZWxzZSB7CgkJCQkJdmFsaWRhdGlvbnMgPSB7CgkJCQkJCWRhaWx5RGVhZExpbmVUaW1lOiB7IHJlcXVpcmVkIH0sCgkJCQkJCXN0YXJ0RGF0ZTogeyByZXF1aXJlZCB9LAoJCQkJCQlzdGFydFRpbWU6IHsgcmVxdWlyZWQgfSwKCQkJCQkJZW5kRGF0ZTogeyByZXF1aXJlZCB9LAoJCQkJCQllbmRUaW1lOiB7IHJlcXVpcmVkIH0sCgkJCQkJfTsKCQkJCX0KCQkJCXJldHVybiB2YWxpZGF0aW9uczsKCQkJfSwKCQkJZ2V0V2Vla2x5VmFsaWRhdGlvbigpIHsKCQkJCWxldCB2YWxpZGF0aW9ucyA9IHt9OwoJCQkJaWYgKHRoaXMuc2VsZWN0ZWRTY2hlZHVsZSAhPSAid2Vla2x5IikgewoJCQkJCXZhbGlkYXRpb25zID0gewoJCQkJCQl3ZWVrRGF5OiB7fSwKCQkJCQkJc3RhcnREYXRlOiB7fSwKCQkJCQkJc3RhcnRUaW1lOiB7fSwKCQkJCQkJZW5kRGF0ZToge30sCgkJCQkJCWVuZFRpbWU6IHt9LAoJCQkJCX07CgkJCQl9IGVsc2UgewoJCQkJCXZhbGlkYXRpb25zID0gewoJCQkJCQl3ZWVrRGF5OiB7IHJlcXVpcmVkIH0sCgkJCQkJCXN0YXJ0RGF0ZTogeyByZXF1aXJlZCB9LAoJCQkJCQlzdGFydFRpbWU6IHsgcmVxdWlyZWQgfSwKCQkJCQkJZW5kRGF0ZTogeyByZXF1aXJlZCB9LAoJCQkJCQllbmRUaW1lOiB7IHJlcXVpcmVkIH0sCgkJCQkJfTsKCQkJCX0KCQkJCXJldHVybiB2YWxpZGF0aW9uczsKCQkJfSwKCQkJZ2V0TW9udGhseVZhbGlkYXRpb24oKSB7CgkJCQlsZXQgdmFsaWRhdGlvbnMgPSB7fTsKCQkJCWlmICh0aGlzLnNlbGVjdGVkU2NoZWR1bGUgIT0gIm1vbnRobHkiKSB7CgkJCQkJdmFsaWRhdGlvbnMgPSB7CgkJCQkJCW1vbnRobHlEYXRlOiB7fSwKCQkJCQkJc3RhcnREYXRlOiB7fSwKCQkJCQkJc3RhcnRUaW1lOiB7fSwKCQkJCQkJZW5kRGF0ZToge30sCgkJCQkJCWVuZFRpbWU6IHt9LAoJCQkJCX07CgkJCQl9IGVsc2UgewoJCQkJCXZhbGlkYXRpb25zID0gewoJCQkJCQltb250aGx5RGF0ZTogeyByZXF1aXJlZCB9LAoJCQkJCQlzdGFydERhdGU6IHsgcmVxdWlyZWQgfSwKCQkJCQkJc3RhcnRUaW1lOiB7IHJlcXVpcmVkIH0sCgkJCQkJCWVuZERhdGU6IHsgcmVxdWlyZWQgfSwKCQkJCQkJZW5kVGltZTogeyByZXF1aXJlZCB9LAoJCQkJCX07CgkJCQl9CgkJCQlyZXR1cm4gdmFsaWRhdGlvbnM7CgkJCX0sCgkJCWN1c3RvbVZhbGlkYXRpb25zKCkgewoJCQkJbGV0IHZhbGlkYXRpb25zID0ge307CgkJCQlpZiAodGhpcy5zZWxlY3RlZFNjaGVkdWxlICE9ICJjdXN0b20iKSB7CgkJCQkJdmFsaWRhdGlvbnMgPSB7CgkJCQkJCWN1c3RvbVdlZWs6IHt9LAoJCQkJCQljdXN0b21WYWx1ZToge30sCgkJCQkJfTsKCQkJCX0gZWxzZSB7CgkJCQkJdmFsaWRhdGlvbnMgPSB7CgkJCQkJCWN1c3RvbVdlZWs6IHsgcmVxdWlyZWQgfSwKCQkJCQkJY3VzdG9tVmFsdWU6IHsgcmVxdWlyZWQgfSwKCQkJCQl9OwoJCQkJfQoJCQkJcmV0dXJuIHZhbGlkYXRpb25zOwoJCQl9LAoJCQlhc3NpZ25WYWxpZGF0aW9ucygpIHsKCQkJCWxldCB2YWxpZGF0aW9ucyA9IHt9OwoJCQkJaWYgKHRoaXMuYXNzaWduZWUgIT0gIiIpIHsKCQkJCQl2YWxpZGF0aW9ucyA9IHsKCQkJCQkJYXNzaWduZWU6IHt9LAoJCQkJCQlhc3NpZ25lZFVzZXJHcm91cDoge30sCgkJCQkJCWFzc2lnbmVkVXNlcjoge30sCgkJCQkJfTsKCQkJCX0gZWxzZSB7CgkJCQkJdmFsaWRhdGlvbnMgPSB7CgkJCQkJCWFzc2lnbmVlOiB7IHJlcXVpcmVkIH0sCgkJCQkJCWFzc2lnbmVkVXNlckdyb3VwOiB7IHJlcXVpcmVkIH0sCgkJCQkJCWFzc2lnbmVkVXNlcjogeyByZXF1aXJlZCB9LAoJCQkJCX07CgkJCQl9CgkJCQlyZXR1cm4gdmFsaWRhdGlvbnM7CgkJCX0sCgkJCWN1c3RvbU9uKCkgewoJCQkJbGV0IHZhbGlkYXRpb25zID0ge307CgkJCQlpZiAodGhpcy5vbiAhPSB0cnVlKSB7CgkJCQkJdmFsaWRhdGlvbnMgPSB7CgkJCQkJCW9uOiB7fSwKCQkJCQkJQ3VzdG9tTW9udGhseURhdGU6IHt9LAoJCQkJCX07CgkJCQl9IGVsc2UgewoJCQkJCXZhbGlkYXRpb25zID0gewoJCQkJCQlvbjogeyByZXF1aXJlZCB9LAoJCQkJCQlDdXN0b21Nb250aGx5RGF0ZTogeyByZXF1aXJlZCB9LAoJCQkJCX07CgkJCQl9CgkJCQlyZXR1cm4gdmFsaWRhdGlvbnM7CgkJCX0sCgkJfSwKCX07Cg=="},null]}
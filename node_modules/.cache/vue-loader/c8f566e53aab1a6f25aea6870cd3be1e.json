{"remainingRequest":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/views/settings/components/Roles.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/src/views/settings/components/Roles.vue","mtime":1661968702444},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":1662622637759},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/babel-loader/lib/index.js","mtime":1662622637719},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/cache-loader/dist/cjs.js","mtime":1662622637759},{"path":"/home/alsharqi/Desktop/Deploy Fe-ui/fe-erohal-ui/node_modules/vue-loader/lib/index.js","mtime":1662622639723}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IEF1dGhTZXJ2aWNlIH0gZnJvbSAiLi4vLi4vLi4vc2VydmljZXMvQXV0aFNlcnZpY2UuanMiCmltcG9ydCBsb2FkZXIgZnJvbSAiQC9jb21wb25lbnRzL0xvYWRlci52dWUiCmltcG9ydCBBZGRSb2xlIGZyb20gIi4vQWRkUm9sZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUm9sZXMiLAoKICBjb21wb25lbnRzOiB7CiAgICBBZGRSb2xlLAogICAgbG9hZGVyCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRvYXN0RmxhZzogMCwKICAgICAgdG9hc3RNZXNzYWdlOiAiIiwKICAgICAgdG9hc3RUeXBlOiAiIiwKICAgICAgbG9hZGVyRmxhZzogZmFsc2UsCiAgICAgIHJvbGVzOiBbXSwKICAgICAgaXRlbXM6IFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5XSwKICAgICAgbmV4dE51bTogMTAsCgogICAgICBzZWxlY3RlZFJvbGU6IG51bGwsIC8vIFVzZWQgYXMgYSBmbGFnIHRvIHNob3cgaWYgYSByb2xlIGlzIHNlbGVjdGVkIG9yIG5vdAoKICAgICAgYWRkUm9sZUZsYWc6IGZhbHNlLAogICAgICBhZGRSb2xlRWRpdEZsYWc6IGZhbHNlLAogICAgICBwZXJtaXNzaW9uczpbJ3VzZXJzJywnYXNzZXRzJywnaW5zcGVjdGlvbnMnLCd3b3JrT3JkZXJzJywnaW52ZW50b3J5QXNzZXRzJywnaU9UJywnbG9jYXRpb25zJywnaW52b2ljZXMnXSwKCiAgICAgIHVzZXJzOnsKICAgICAgICAvLyBzZWxlY3RBbGw6IiIsCiAgICAgICAgcm9sZXNBbmRQZXJtaXNzaW9uczoiIiwKICAgICAgICByZWFkOiIiLAogICAgICAgIGNyZWF0ZToiIiwKICAgICAgICB1cGRhdGU6IiIsCiAgICAgICAgZGVsZXRlOiIiLAogICAgICAgIHNlbGVjdGlvblR5cGU6J25vbmUnLAoKICAgICAgfSwKICAgICAgYXNzZXRzOnsKICAgICAgICAvLyBzZWxlY3RBbGw6IiIsCiAgICAgICAgcmVhZDoiIiwKICAgICAgICBjcmVhdGU6IiIsCiAgICAgICAgdXBkYXRlOiIiLAogICAgICAgIGRlbGV0ZToiIiwKICAgICAgICBjYXRlZ29yeToiIiwKICAgICAgICBzZWxlY3Rpb25UeXBlOidub25lJywKICAgICAgfSwKICAgICAgaW5zcGVjdGlvbnM6ewogICAgICAgIC8vIHNlbGVjdEFsbDoiIiwKICAgICAgICByZWFkOiIiLAogICAgICAgIGNyZWF0ZToiIiwKICAgICAgICB1cGRhdGU6IiIsCiAgICAgICAgZGVsZXRlOiIiLAogICAgICAgIHNlbGVjdGlvblR5cGU6J25vbmUnLAogICAgICB9LAogICAgICB3b3JrT3JkZXJzOnsKICAgICAgICAvLyBzZWxlY3RBbGw6IiIsCiAgICAgICAgcmVhZDoiIiwKICAgICAgICBjcmVhdGU6IiIsCiAgICAgICAgdXBkYXRlOiIiLAogICAgICAgIGRlbGV0ZToiIiwKICAgICAgICBzZWxlY3Rpb25UeXBlOidub25lJywKICAgICAgfSwKICAgICAgaW52ZW50b3J5QXNzZXRzOnsKICAgICAgICAvLyBzZWxlY3RBbGw6IiIsCiAgICAgICAgcmVhZDoiIiwKICAgICAgICBjcmVhdGU6IiIsCiAgICAgICAgdXBkYXRlOiIiLAogICAgICAgIGRlbGV0ZToiIiwKICAgICAgICBzZWxlY3Rpb25UeXBlOidub25lJywKICAgICAgfSwKICAgICAgaU9UOnsKICAgICAgICAvLyBzZWxlY3RBbGw6IiIsCiAgICAgICAgcmVhZDoiIiwKICAgICAgICBjcmVhdGU6IiIsCiAgICAgICAgdXBkYXRlOiIiLAogICAgICAgIGRlbGV0ZToiIiwKICAgICAgICBzZWxlY3Rpb25UeXBlOidub25lJywKICAgICAgfSwKICAgICAgbG9jYXRpb25zOnsKICAgICAgICAvLyBzZWxlY3RBbGw6IiIsCiAgICAgICAgcmVhZDoiIiwKICAgICAgICBjcmVhdGU6IiIsCiAgICAgICAgdXBkYXRlOiIiLAogICAgICAgIGRlbGV0ZToiIiwKICAgICAgICBzZWxlY3Rpb25UeXBlOidub25lJywKICAgICAgfSwKICAgICAgaW52b2ljZXM6ewogICAgICAgIC8vIHNlbGVjdEFsbDoiIiwKICAgICAgICByZWFkOiIiLAogICAgICAgIGNyZWF0ZToiIiwKICAgICAgICB1cGRhdGU6IiIsCiAgICAgICAgZGVsZXRlOiIiLAogICAgICAgIHNlbGVjdGlvblR5cGU6J25vbmUnLAogICAgICB9LAogICAgICBhY2NvcmRpb25SZVJlbmRlcjowLAogICAgICB1cGRhdGVXZWI6MCwKICAgICAgdXBkYXRlTW9iaWxlOjAsCiAgICAgIG9yZ2FuaXphdGlvblVVSUQ6JycKCiAgICB9OwogIH0sCgogIG1ldGhvZHM6IHsKCiAgICBzaG93VG9hc3QobWVzc2FnZSwgdHlwZSkgewogICAgICB0aGlzLnRvYXN0TWVzc2FnZSA9IG1lc3NhZ2U7CiAgICAgIHRoaXMudG9hc3RUeXBlID0gdHlwZTsKICAgICAgdGhpcy50b2FzdEZsYWcrKzsKICAgIH0sCiAgICAKICAgIHJhbmRvbUluZGV4OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLml0ZW1zLmxlbmd0aCk7CiAgICB9LAoKICAgIGFkZDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLml0ZW1zLnNwbGljZSh0aGlzLnJhbmRvbUluZGV4KCksIDAsIHRoaXMubmV4dE51bSsrKTsKICAgIH0sCgogICAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKHRoaXMucmFuZG9tSW5kZXgoKSwgMSk7CiAgICB9LAoKICAgIGFjY29yZGlvbkZ1bmN0aW9uKHJlZil7CiAgICAgIGxldCBzdHIgPSByZWYrIkFjY29yZGlvbiI7CiAgICAgIC8vIGNvbnNvbGUubG9nKHJlZix0aGlzLiRyZWZzW3N0cl1bMF0ub3BlbkZsYWcpOwogICAgICBpZih0aGlzLiRyZWZzW3N0cl1bMF0ub3BlbkZsYWcgPT09IHRydWUpewogICAgICAgIGZvcihsZXQgaT0wOyBpIDwgdGhpcy5wZXJtaXNzaW9ucy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnBlcm1pc3Npb25zW2ldKydBY2NvcmRpb24nLHRoaXMuJHJlZnNbdGhpcy5wZXJtaXNzaW9uc1tpXSsnQWNjb3JkaW9uJ10sdGhpcy4kcmVmc1t0aGlzLnBlcm1pc3Npb25zW2ldKydBY2NvcmRpb24nXVswXS5vcGVuRmxhZykKICAgICAgICAgIGlmKHRoaXMucGVybWlzc2lvbnNbaV0gIT09IHJlZil7CiAgICAgICAgICAgIHRoaXMuJHJlZnNbdGhpcy5wZXJtaXNzaW9uc1tpXSsnQWNjb3JkaW9uJ11bMF0ub3BlbkZsYWcgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgY2xpY2tBZGRSb2xlKCkgewogICAgICAvLyBjb25zb2xlLmxvZygiQWRkIENsaWNrZWQiKTsKICAgICAgdGhpcy5hZGRSb2xlRmxhZyA9IHRydWU7CiAgICB9LAoKICAgIGNsaWNrRWRpdChyb2xlKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHJvbGUpOwogICAgICB0aGlzLmFkZFJvbGVFZGl0RmxhZyA9IHRydWU7CiAgICB9LAoKICAgIGNsaWNrUmVtb3ZlKHJvbGUpIHsKICAgICAgLy8gY29uc29sZS5sb2cocm9sZSk7CiAgICAgIHRoaXMuZGVsZXRlUm9sZShyb2xlLmRpc3BsYXlOYW1lKTsKICAgIH0sCgogICAgcm9sZU5hbWVGdW5jKHZhbCkgewogICAgICAvLyBjb25zb2xlLmxvZyh2YWwpOwogICAgICB0aGlzLmFkZFJvbGVGbGFnID0gZmFsc2U7CiAgICAgIGxldCBPYmogPSB7CiAgICAgICAgY2VudGVyOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAiICIsCiAgICAgICAgZGlzcGxheU5hbWU6IHZhbCwKICAgICAgICBvcmdhbml6YXRpb25VVUlEOiB0aGlzLm9yZ2FuaXphdGlvblVVSUQsCiAgICAgICAgcGVybWlzc2lvbnM6IFtdCiAgICAgIH07CiAgICAgIHRoaXMucm9sZXMucHVzaChPYmopOwogICAgICB0aGlzLnJvbGVTZWxlY3RlZChPYmopOwogICAgfSwKCiAgICByb2xlTmFtZUVkaXRGdW5jKHZhbCkgewogICAgICAvLyBjb25zb2xlLmxvZyh2YWwpOwogICAgICB0aGlzLmFkZFJvbGVFZGl0RmxhZyA9IGZhbHNlOwogICAgICBmb3IobGV0IGk9MDsgaSA8IHRoaXMucm9sZXMubGVuZ3RoOyBpKyspewogICAgICAgIGlmKHRoaXMuc2VsZWN0ZWRSb2xlLmRpc3BsYXlOYW1lID09PSB0aGlzLnJvbGVzW2ldLmRpc3BsYXlOYW1lKXsKICAgICAgICAgIHRoaXMucm9sZXNbaV0uZGlzcGxheU5hbWUgPSB2YWw7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIGNsb3NlKCkgewogICAgICB0aGlzLmFkZFJvbGVGbGFnID0gZmFsc2U7CiAgICB9LAoKICAgIGNsb3NlRWRpdCgpIHsKICAgICAgdGhpcy5hZGRSb2xlRWRpdEZsYWcgPSBmYWxzZTsKICAgIH0sCgogICAgcmVzZXRPYmplY3RzKCl7CiAgICAgIHRoaXMucGVybWlzc2lvbnMuZm9yRWFjaChwZXJtaXNzaW9uID0+IHsKICAgICAgICBmb3IobGV0IFtrZXksdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXNbcGVybWlzc2lvbl0pKXsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGtleSx2YWx1ZSk7CiAgICAgICAgICBpZihrZXkgPT09ICdzZWxlY3Rpb25UeXBlJyl7CiAgICAgICAgICAgIHRoaXNbcGVybWlzc2lvbl1ba2V5XSA9ICdjdXN0b20nOwogICAgICAgICAgfWVsc2V7CgogICAgICAgICAgICB0aGlzW3Blcm1pc3Npb25dW2tleV0gPSAiIgogICAgICAgICAgfQogICAgICAgICAgLy8gY29uc29sZS5sb2coa2V5LHZhbHVlLHRoaXNbcGVybWlzc2lvbl0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIHJvbGVTZWxlY3RlZChyb2xlKSB7CiAgICAgIHRoaXMucmVzZXRPYmplY3RzKCk7CiAgICAgIHRoaXMuc2VsZWN0ZWRSb2xlID0gcm9sZTsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zZWxlY3RlZFJvbGUpOwogICAgICBmb3IobGV0IGk9MDsgaSA8IHRoaXMuc2VsZWN0ZWRSb2xlLnBlcm1pc3Npb25zLmxlbmd0aDsgaSsrKXsKICAgICAgICBsZXQgc3RyID0gdGhpcy5zZWxlY3RlZFJvbGUucGVybWlzc2lvbnNbaV0udmFsdWUudG9Mb3dlckNhc2UoKTsKICAgICAgICBzdHIgPSBzdHIucmVwbGFjZSgvXHMvZywgJycpOwogICAgICAgIHRoaXMubWFwUGVybWlzc2lvbihzdHIpOwogICAgICAgIC8vIGNvbnNvbGUubG9nKHN0cix0aGlzLnNlbGVjdGVkUm9sZS5wZXJtaXNzaW9uc1tpXS52YWx1ZS5pbmRleE9mKCJpbnZlbnRvcnlBc3NldHMiKSk7CiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zZWxlY3RlZFJvbGUucGVybWlzc2lvbnNbaV0udmFsdWUsdGhpcy5zZWxlY3RlZFJvbGUucGVybWlzc2lvbnNbaV0udmFsdWUuaW5kZXhPZignV2ViJyksdGhpcy5zZWxlY3RlZFJvbGUucGVybWlzc2lvbnNbaV0udmFsdWUuaW5kZXhPZignTW9iaWxlJykpOwoKICAgICAgICAvLyBjb25zb2xlLmxvZygpCiAgICAgIH0KICAgICAgdGhpcy5hY2NvcmRpb25SZVJlbmRlcisrOwogICAgfSwKCiAgICBtYXBQZXJtaXNzaW9uKHN0cil7CiAgICAgIC8vIGNvbnNvbGUubG9nKHN0cik7CiAgICAgIGlmKHN0ci5pbmRleE9mKCd1c2VycycpID4gLTEpewogICAgICAgIHRoaXMubWFwVG9PYmplY3Qoc3RyLCd1c2VycycpCiAgICAgIH0KICAgICAgZWxzZSBpZihzdHIuaW5kZXhPZignaW52ZW50b3J5YXNzZXRzJykgPiAtMSl7CiAgICAgICAgdGhpcy5tYXBUb09iamVjdChzdHIsJ2ludmVudG9yeUFzc2V0cycpCiAgICAgIH0KICAgICAgZWxzZSBpZihzdHIuaW5kZXhPZignaW5zcGVjdGlvbnMnKSA+IC0xKXsKICAgICAgICB0aGlzLm1hcFRvT2JqZWN0KHN0ciwnaW5zcGVjdGlvbnMnKQogICAgICB9CiAgICAgIGVsc2UgaWYoc3RyLmluZGV4T2YoJ3dvcmtPcmRlcnMnKSA+IC0xKXsKICAgICAgICB0aGlzLm1hcFRvT2JqZWN0KHN0ciwnd29ya09yZGVycycpCiAgICAgIH0KICAgICAgZWxzZSBpZihzdHIuaW5kZXhPZignYXNzZXRzJykgPiAtMSl7CiAgICAgICAgdGhpcy5tYXBUb09iamVjdChzdHIsJ2Fzc2V0cycpCiAgICAgIH0KICAgICAgZWxzZSBpZihzdHIuaW5kZXhPZignaW90JykgPiAtMSl7CiAgICAgICAgdGhpcy5tYXBUb09iamVjdChzdHIsJ2lPVCcpCiAgICAgIH0KICAgICAgZWxzZSBpZihzdHIuaW5kZXhPZignbG9jYXRpb25zJykgPiAtMSl7CiAgICAgICAgdGhpcy5tYXBUb09iamVjdChzdHIsJ2xvY2F0aW9ucycpCiAgICAgIH0KICAgICAgZWxzZSBpZihzdHIuaW5kZXhPZignaW52b2ljZXMnKSA+IC0xKXsKICAgICAgICB0aGlzLm1hcFRvT2JqZWN0KHN0ciwnaW52b2ljZXMnKQogICAgICB9CiAgICB9LAoKICAgIG1hcFRvT2JqZWN0KHN0cixvYmplY3ROYW1lKXsKICAgICAgICAvLyBjb25zb2xlLmxvZyhzdHIsb2JqZWN0TmFtZSk7CiAgICAgICAgLy8gY29uc29sZS5sb2coIk1BcHBpbmciKQoKICAgICAgICBpZihzdHIuaW5kZXhPZigncmVhZCcpPi0xKXsKICAgICAgICAgIC8vIHRoaXNbb2JqZWN0TmFtZV0ucmVhZD0iIjsKICAgICAgICAgIGlmKHN0ci5pbmRleE9mKCd3ZWInKSA+IC0xICYmIHRoaXNbb2JqZWN0TmFtZV0ucmVhZC5pbmRleE9mKCd3JykgPT09IC0xKXsKICAgICAgICAgICAgdGhpc1tvYmplY3ROYW1lXS5yZWFkICs9ICd3JzsKICAgICAgICAgIH0KICAgICAgICAgIGlmKHN0ci5pbmRleE9mKCdtb2JpbGUnKSA+IC0xICYmIHRoaXNbb2JqZWN0TmFtZV0ucmVhZC5pbmRleE9mKCdtJykgPT09IC0xKXsKCiAgICAgICAgICAgIHRoaXNbb2JqZWN0TmFtZV0ucmVhZCArPSAnbSc7CiAgICAgICAgICB9CgogICAgICAgIH0KCiAgICAgICAgaWYoc3RyLmluZGV4T2YoJ2NyZWF0ZScpPi0xKXsKICAgICAgICAgIC8vIHRoaXNbb2JqZWN0TmFtZV0uY3JlYXRlPSIiOwogICAgICAgICAgaWYoc3RyLmluZGV4T2YoJ3dlYicpID4gLTEgJiYgdGhpc1tvYmplY3ROYW1lXS5jcmVhdGUuaW5kZXhPZigndycpID09PSAtMSl7CiAgICAgICAgICAgIHRoaXNbb2JqZWN0TmFtZV0uY3JlYXRlICs9ICd3JzsKICAgICAgICAgIH0KICAgICAgICAgIGlmKHN0ci5pbmRleE9mKCdtb2JpbGUnKSA+IC0xICYmIHRoaXNbb2JqZWN0TmFtZV0uY3JlYXRlLmluZGV4T2YoJ20nKSA9PT0gLTEpewoKICAgICAgICAgICAgdGhpc1tvYmplY3ROYW1lXS5jcmVhdGUgKz0gJ20nOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYoc3RyLmluZGV4T2YoJ2RlbGV0ZScpPi0xKXsKICAgICAgICAgIC8vIHRoaXNbb2JqZWN0TmFtZV0uZGVsZXRlPSIiOwogICAgICAgICAgLy8gdGhpc1tvYmplY3ROYW1lXS5kZWxldGUgKz0gc3RyLmluZGV4T2YoJ3dlYicpID4gLTEgPyAndycgOnN0ci5pbmRleE9mKCdtb2JpbGUnKSA+IC0xID8nbSc6IiI7CiAgICAgICAgICBpZihzdHIuaW5kZXhPZignd2ViJykgPiAtMSAmJiB0aGlzW29iamVjdE5hbWVdLmRlbGV0ZS5pbmRleE9mKCd3JykgPT09IC0xKXsKICAgICAgICAgICAgdGhpc1tvYmplY3ROYW1lXS5kZWxldGUgKz0gJ3cnOwogICAgICAgICAgfQogICAgICAgICAgaWYoc3RyLmluZGV4T2YoJ21vYmlsZScpID4gLTEgJiYgdGhpc1tvYmplY3ROYW1lXS5kZWxldGUuaW5kZXhPZignbScpID09PSAtMSl7CgogICAgICAgICAgICB0aGlzW29iamVjdE5hbWVdLmRlbGV0ZSArPSAnbSc7CiAgICAgICAgICB9CgogICAgICAgIH0KICAgICAgICBpZihzdHIuaW5kZXhPZigndXBkYXRlJyk+LTEpewogICAgICAgICAgLy8gdGhpc1tvYmplY3ROYW1lXS51cGRhdGU9IiI7CiAgICAgICAgICAvLyB0aGlzW29iamVjdE5hbWVdLnVwZGF0ZSArPSBzdHIuaW5kZXhPZignd2ViJykgPiAtMSA/ICd3JyA6c3RyLmluZGV4T2YoJ21vYmlsZScpID4gLTEgPydtJzoiIjsKICAgICAgICAgIGlmKHN0ci5pbmRleE9mKCd3ZWInKSA+IC0xICYmIHRoaXNbb2JqZWN0TmFtZV0udXBkYXRlLmluZGV4T2YoJ3cnKSA9PT0gLTEpewogICAgICAgICAgICB0aGlzW29iamVjdE5hbWVdLnVwZGF0ZSArPSAndyc7CiAgICAgICAgICB9CiAgICAgICAgICBpZihzdHIuaW5kZXhPZignbW9iaWxlJykgPiAtMSAmJiB0aGlzW29iamVjdE5hbWVdLnVwZGF0ZS5pbmRleE9mKCdtJykgPT09IC0xKXsKCiAgICAgICAgICAgIHRoaXNbb2JqZWN0TmFtZV0udXBkYXRlICs9ICdtJzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYoc3RyLmluZGV4T2YoJ2NhdGVnb3J5Jyk+LTEpewogICAgICAgICAgLy8gdGhpcy5hc3NldHMuY2F0ZWdvcnk9IiI7CiAgICAgICAgICAvLyB0aGlzLmFzc2V0cy5jYXRlZ29yeSArPSBzdHIuaW5kZXhPZignd2ViJykgPiAtMSA/ICd3JyA6c3RyLmluZGV4T2YoJ21vYmlsZScpID4gLTEgPydtJzoiIjsKICAgICAgICAgIGlmKHN0ci5pbmRleE9mKCd3ZWInKSA+IC0xICYmIHRoaXMuYXNzZXRzLmNhdGVnb3J5LmluZGV4T2YoJ3cnKSA9PT0gLTEpewogICAgICAgICAgICB0aGlzLmFzc2V0cy5jYXRlZ29yeSArPSAndyc7CiAgICAgICAgICB9CiAgICAgICAgICBpZihzdHIuaW5kZXhPZignbW9iaWxlJykgPiAtMSAmJiB0aGlzLmFzc2V0cy5jYXRlZ29yeS5pbmRleE9mKCdtJykgPT09IC0xKXsKCiAgICAgICAgICAgIHRoaXMuYXNzZXRzLmNhdGVnb3J5ICs9ICdtJzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYoc3RyLmluZGV4T2YoJ3JvbGVzcGVybWlzc2lvbnMnKT4tMSl7CiAgICAgICAgICAvLyB0aGlzLnVzZXJzLnJvbGVzQW5kUGVybWlzc2lvbnM9IiI7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnVzZXJzLnJvbGVzQW5kUGVybWlzc2lvbnMpOwogICAgICAgICAgaWYoc3RyLmluZGV4T2YoJ3dlYicpID4gLTEgICYmIHRoaXMudXNlcnMucm9sZXNBbmRQZXJtaXNzaW9ucy5pbmRleE9mKCd3JykgPT09IC0xKXsKCiAgICAgICAgICAgIHRoaXMudXNlcnMucm9sZXNBbmRQZXJtaXNzaW9ucyArPSAgJ3cnOwogICAgICAgICAgfQogICAgICAgICAgaWYoc3RyLmluZGV4T2YoJ21vYmlsZScpID4gLTEgJiYgdGhpcy51c2Vycy5yb2xlc0FuZFBlcm1pc3Npb25zLmluZGV4T2YoJ20nKSA9PT0gLTEpewoKICAgICAgICAgICAgdGhpcy51c2Vycy5yb2xlc0FuZFBlcm1pc3Npb25zICs9ICdtJzsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIGNvbnNvbGUubG9nKCJNYXBwZWQgT0JKIDogIix0aGlzW29iamVjdE5hbWVdKTsKICAgIH0sCgogICAgY2hhbmdlQ2FzZSh2YWwpewogICAgICBsZXQgc3RyID0gdmFsOwogICAgICBpZihzdHIgPT09ICJpT1QiKXsKCiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoLyhbQS1aXSkvZywnJDEnKTsKICAgICAgfQogICAgICBlbHNlewogICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC8oW0EtWl0pL2csJyAkMScpOwoKICAgICAgfQogICAgICBzdHIgPSBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrc3RyLnNsaWNlKDEpOwogICAgICByZXR1cm4gc3RyOwogICAgfSwKCiAgICBjaGVja2JveElucHV0KHBlcm1pc3Npb24sc2VsZWN0aW9uLCRldmVudCl7CiAgICAgIC8vIGNvbnNvbGUubG9nKHBlcm1pc3Npb24sc2VsZWN0aW9uLCRldmVudCk7CiAgICAgIHRoaXNbcGVybWlzc2lvbl0uc2VsZWN0aW9uVHlwZSA9IHNlbGVjdGlvbjsKCiAgICAgIGlmKHNlbGVjdGlvbiA9PT0gJ2FsbCcpewogICAgICAgIGZvcihsZXQga2V5IG9mIE9iamVjdC5rZXlzKHRoaXNbcGVybWlzc2lvbl0pKXsKICAgICAgICAgIGlmKGtleSAhPT0gJ3NlbGVjdGlvblR5cGUnKXsKICAgICAgICAgICAgdGhpc1twZXJtaXNzaW9uXVtrZXldID0gIndtIjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgaWYoc2VsZWN0aW9uID09PSAnbm9uZScpewogICAgICAgIGZvcihsZXQgW2tleSx2YWxdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXNbcGVybWlzc2lvbl0pKXsKICAgICAgICAgIGlmKGtleSAhPT0gJ3NlbGVjdGlvblR5cGUnKXsKICAgICAgICAgICAgdGhpc1twZXJtaXNzaW9uXVtrZXldID0gIiI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXNbcGVybWlzc2lvbl0pOwogICAgICB0aGlzLmFjY29yZGlvblJlUmVuZGVyKys7CiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICB9LAoKICAgIGNoZWNrYm94U2VsZWN0aW9uKHBlcm1pc3Npb24sc2VsZWN0aW9uKXsKICAgICAgLy8gY29uc29sZS5sb2cocGVybWlzc2lvbik7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXNbcGVybWlzc2lvbl0uc2VsZWN0aW9uVHlwZSk7CiAgICAgIGlmKHRoaXNbcGVybWlzc2lvbl0uc2VsZWN0aW9uVHlwZSA9PT0gc2VsZWN0aW9uKXsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICBlbHNlewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKCiAgICBnZXRQZXJtaXNzaW9uT2JqZWN0KHBlcm1pc3Npb24pewogICAgICAvLyBjb25zb2xlLmxvZyhwZXJtaXNzaW9uKTsKCiAgICAgIC8vIFRIRVNFIFRXTyBMSU5FUyBBUkUgQSBXT1JLIEFSUk9VTkQgRk9SIE5PVCBJTlZPS0lORyBWVUUnUyBSRUFDVElWSVRZIEZPUiBUSEUgT0JKRUNUIEJFTE9XLgogICAgICBsZXQgT2JqID0gSlNPTi5zdHJpbmdpZnkodGhpc1twZXJtaXNzaW9uXSk7CiAgICAgIE9iaiA9IEpTT04ucGFyc2UoT2JqKTsKCiAgICAgIGRlbGV0ZSBPYmouc2VsZWN0aW9uVHlwZTsgLy9yZW1vdmluZyBzZWxlY3Rpb25UeXBlIGVudHJ5IGJlY2F1c2UgaXQgaXMgbm90IG5lZWRlZCBmb3IgcGVybWlzc2lvbnMuCgogICAgICAvLyBjb25zb2xlLmxvZyhPYmopOwogICAgICByZXR1cm4gT2JqOwogICAgfSwKCiAgICAvL21lZGl1bSBpbiBiZWxvdyBmdW5jcyByZWZlcnMgdG8gdGhlIHBsYXRmb3JtIGkuZS4gV2ViL01vYmlsZQoKICAgIGdldFBlcm1pc3Npb25WYWx1ZShwZXJtaXNzaW9uLGtleSxtZWRpdW0pewogICAgICBsZXQgdGVtcCA9IG1lZGl1bT09PSd3ZWInPyd3JzonbScKICAgICAgaWYodGhpc1twZXJtaXNzaW9uXVtrZXldLmluZGV4T2YodGVtcCkgIT09IC0xKXsKICAgICAgICByZXR1cm4gcmVxdWlyZSgnLi4vLi4vLi4vYXNzZXRzL2ljb25zL0NoZWNrZWQuc3ZnJykKICAgICAgfWVsc2V7CiAgICAgICAgcmV0dXJuIHJlcXVpcmUoJy4uLy4uLy4uL2Fzc2V0cy9pY29ucy9VbmNoZWNrZWQuc3ZnJykKICAgICAgfQogICAgfSwKCiAgICBzZXRQZXJtaXNzaW9uKHBlcm1pc3Npb24sa2V5LG1lZGl1bSl7CiAgICAgIGxldCB0ZW1wID0gbWVkaXVtPT09J3dlYic/J3cnOidtJzsKCgogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzW3Blcm1pc3Npb25dW2tleV0scGVybWlzc2lvbixrZXksdGVtcCk7CiAgICAgIGlmKHRoaXNbcGVybWlzc2lvbl1ba2V5XS5pbmRleE9mKHRlbXApID09PSAtMSl7CiAgICAgICAgdGhpc1twZXJtaXNzaW9uXVtrZXldICs9IHRlbXA7CiAgICAgICAgLy8gY29uc29sZS5sb2codGhpc1twZXJtaXNzaW9uXVtrZXldKTsKICAgICAgfWVsc2V7CiAgICAgICAgdGhpc1twZXJtaXNzaW9uXVtrZXldID0gdGhpcy5yZW1vdmVDaGFyKHBlcm1pc3Npb24sa2V5LHRlbXApOwogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXNbcGVybWlzc2lvbl1ba2V5XSk7CiAgICAgIH0KICAgIH0sCgogICAgcmVtb3ZlQ2hhcihwZXJtaXNzaW9uLGtleSxjaHIpewogICAgICB2YXIgdG1wID0gdGhpc1twZXJtaXNzaW9uXVtrZXldOwogICAgICBsZXQgcG9zID0gdGhpc1twZXJtaXNzaW9uXVtrZXldLmluZGV4T2YoY2hyKTsvLyBmaW5kaW5nIHRoZSBpbmRleCBvZiB0aGUgY2hhciAocGVybWlzc2lvbiB2YWx1ZSkKICAgICAgdG1wID0gdG1wLnNwbGl0KCcnKTsgLy8gY29udmVydCB0byBhbiBhcnJheQogICAgICB0bXAuc3BsaWNlKHBvcywgMSk7ICAvLyByZW1vdmUgMSBlbGVtZW50IGZyb20gdGhlIGFycmF5IChhZGp1c3RpbmcgZm9yIG5vbi16ZXJvLWluZGV4ZWQgY291bnRzKQogICAgICByZXR1cm4gdG1wLmpvaW4oJycpOyAvLyByZWNvbnN0cnVjdCB0aGUgc3RyaW5nCiAgICB9LAoKICAgIGdldEFsbFJvbGVzKCl7CiAgICAgIHRoaXMucm9sZXMgPSBbXTsKICAgICAgdGhpcy5zZWxlY3RlZFJvbGUgPSBudWxsOwogICAgICBBdXRoU2VydmljZS5nZXRBbGxSb2xlcyh0aGlzLm9yZ2FuaXphdGlvblVVSUQpCiAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5yb2xlcyA9IHJlcy5kYXRhOwogICAgICB9KQogICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgIH0pOwogICAgfSwKCiAgICBkZWxldGVSb2xlKHJvbGVOYW1lKXsKICAgICAgQXV0aFNlcnZpY2UuZGVsZXRlUm9sZShyb2xlTmFtZSx0aGlzLm9yZ2FuaXphdGlvblVVSUQpCiAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5yZXNldE9iamVjdHMoKTsKICAgICAgICB0aGlzLmdldEFsbFJvbGVzKCk7CiAgICAgIH0pCiAgICAgIC5jYXRjaCggZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9CgogICAgICApOwogICAgfSwKCiAgICBlZGl0Um9sZSgpe30sCgogICAgY3JlYXRlUm9sZShyb2xlcyl7CiAgICAgIHRoaXMubG9hZGVyRmxhZyA9IHRydWUKICAgICAgQXV0aFNlcnZpY2Uuc2F2ZUFsbFJvbGVzKHJvbGVzKQogICAgICAudGhlbihyZXMgPT57CiAgICAgICAgdGhpcy5sb2FkZXJGbGFnID0gZmFsc2UKICAgICAgICBpZihyZXMuc3RhdHVzID09PSAyMDAgJiYgcmVzLmRhdGEucmVzcG9uc2VJZGVudGlmaWVyID09PSAiU3VjY2VzcyIpewogICAgICAgICAgdGhpcy5yZXNldE9iamVjdHMoKTsKICAgICAgICAgIHRoaXMuZ2V0QWxsUm9sZXMoKTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgIHRoaXMuc2hvd1RvYXN0KHJlcy5kYXRhLmRlc2NyaXB0aW9uLCJ3YXJuaW5nIikKICAgICAgICB9CiAgICAgICAgCiAgICAgIH0pCiAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKCiAgICBVcGRhdGVSb2xlKCl7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJVcGRhdGUiLHRoaXMuc2VsZWN0ZWRSb2xlKTsKICAgICAgZm9yKGxldCBpPTA7IGkgPCB0aGlzLnBlcm1pc3Npb25zLmxlbmd0aDsgaSsrKXsKICAgICAgICAvLyBjb25zb2xlLmxvZygiKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioiLHRoaXMucGVybWlzc2lvbnNbaV0pOwogICAgICAgIGZvcihsZXQgW2tleSx2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModGhpc1t0aGlzLnBlcm1pc3Npb25zW2ldXSkpewogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhrZXksdmFsdWUpOwogICAgICAgICAgICBpZihrZXkgIT09ICdzZWxlY3Rpb25UeXBlJyl7CiAgICAgICAgICAgICAgZm9yKGxldCBqPTA7IGogPCB2YWx1ZS5sZW5ndGg7IGorKyl7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh2YWx1ZVtqXSk7CiAgICAgICAgICAgICAgICBpZih2YWx1ZVtqXSA9PT0gJ20nIHx8IHZhbHVlW2pdID09PSAndycpewoKICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoUGVybWlzc2lvbih0aGlzLnBlcm1pc3Npb25zW2ldLCBrZXksIHZhbHVlW2pdKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmKHZhbHVlLmxlbmd0aCA9PT0gMSl7CiAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IHZhbHVlWzBdID09PSAnbSc/J3cnOidtJzsKICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlUGVybWlzc2lvbih0aGlzLnBlcm1pc3Npb25zW2ldLCBrZXksIHRlbXApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZih2YWx1ZS5sZW5ndGggPT09IDApewoKICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlUGVybWlzc2lvbih0aGlzLnBlcm1pc3Npb25zW2ldLCBrZXksICd3Jyk7CiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZVBlcm1pc3Npb24odGhpcy5wZXJtaXNzaW9uc1tpXSwga2V5LCAnbScpOwoKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zZWxlY3RlZFJvbGUsdGhpcy5yb2xlcyk7CiAgICAgIHRoaXMuY3JlYXRlUm9sZSh0aGlzLnJvbGVzKTsKCiAgICB9LAoKICAgIHB1c2hQZXJtaXNzaW9uKG9iamVjdE5hbWUsIG9iamVjdEtleSwgbWVkaXVtKXsKICAgICAgLy8gY29uc29sZS5sb2cob2JqZWN0TmFtZSwgb2JqZWN0S2V5LCBtZWRpdW0pOwogICAgICBsZXQgc3RyID0gb2JqZWN0TmFtZT09PSdpT1QnPydJb3QnOm9iamVjdE5hbWUucmVwbGFjZShvYmplY3ROYW1lLmNoYXJBdCgwKSxvYmplY3ROYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpKTsKICAgICAgc3RyICs9IG9iamVjdEtleT09PSdyb2xlc0FuZFBlcm1pc3Npb25zJz8nIFJvbGVzUGVybWlzc2lvbnMnOicgJytvYmplY3RLZXkucmVwbGFjZShvYmplY3RLZXkuY2hhckF0KDApLG9iamVjdEtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSk7CiAgICAgIHN0ciArPSBtZWRpdW09PT0ndyc/JyBXZWInOicgTW9iaWxlJwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkUm9sZSk7CiAgICAgIGZvcihsZXQgaT0wOyBpIDwgdGhpcy5zZWxlY3RlZFJvbGUucGVybWlzc2lvbnMubGVuZ3RoOyBpKyspewogICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zZWxlY3RlZFJvbGUucGVybWlzc2lvbnNbaV0udmFsdWUsJzonLHN0cik7CiAgICAgICAgaWYodGhpcy5zZWxlY3RlZFJvbGUucGVybWlzc2lvbnNbaV0udmFsdWUgPT09IHN0cil7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuc2VsZWN0ZWRSb2xlLnBlcm1pc3Npb25zLnB1c2goe2Rpc3BsYXlOYW1lOnN0ciwgdmFsdWU6c3RyfSk7CiAgICB9LAoKICAgIGRlbGV0ZVBlcm1pc3Npb24ob2JqZWN0TmFtZSwgb2JqZWN0S2V5LCBtZWRpdW0pewoKICAgICAgbGV0IHN0ciA9IG9iamVjdE5hbWU9PT0naU9UJz8nSW90JzpvYmplY3ROYW1lLnJlcGxhY2Uob2JqZWN0TmFtZS5jaGFyQXQoMCksb2JqZWN0TmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSk7CiAgICAgIHN0ciArPSBvYmplY3RLZXk9PT0ncm9sZXNBbmRQZXJtaXNzaW9ucyc/JyBSb2xlc1Blcm1pc3Npb25zJzonICcrb2JqZWN0S2V5LnJlcGxhY2Uob2JqZWN0S2V5LmNoYXJBdCgwKSxvYmplY3RLZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkpOwogICAgICBzdHIgKz0gbWVkaXVtPT09J3cnPycgV2ViJzonIE1vYmlsZScKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zZWxlY3RlZFJvbGUpOwogICAgICBmb3IobGV0IGk9MDsgaSA8IHRoaXMuc2VsZWN0ZWRSb2xlLnBlcm1pc3Npb25zLmxlbmd0aDsgaSsrKXsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRSb2xlLnBlcm1pc3Npb25zW2ldLnZhbHVlLCc6JyxzdHIpOwogICAgICAgIGlmKHRoaXMuc2VsZWN0ZWRSb2xlLnBlcm1pc3Npb25zW2ldLnZhbHVlID09PSBzdHIpewogICAgICAgICAgdGhpcy5zZWxlY3RlZFJvbGUucGVybWlzc2lvbnMuc3BsaWNlKGksMSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICB9CgogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLm9yZ2FuaXphdGlvblVVSUQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjdXJyZW50VXNlckRldGFpbHMiKSkucHJvZmlsZS5vcmdhbml6YXRpb25JZAogICAgdGhpcy5nZXRBbGxSb2xlcygpOwogIH0sCgogIHZhbGlkYXRpb25zOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4ge307CiAgfSwKCiAgY29tcHV0ZWQ6IHt9LAp9Owo="},null]}